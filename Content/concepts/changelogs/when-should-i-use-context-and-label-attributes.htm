<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title>Best practices for context and label attributes</title>
    </head>
    <body>
        <h1>When should I use context and label attributes?</h1>
        <p>Context and label attributes are powerful tools that help you control how Liquibase deploys changesets. Because labels and contexts share many similarities and you can combine them on a changeset, it's sometimes difficult to decide whether context, labels or a combination of both will help you achieve your goals. However, it becomes easier to make a choice when you think about it from the perspective of who needs understand or control which changesets to execute, the changeset author or the deployment manager.</p>
        <h2>What are contexts and labels?</h2>
        <p>Contexts are added to changesets to control which changesets execute in a particular migration run. They describe/tag the changeset with the environment. The changeset author decides which environments the changeset should run in.</p>
        <p>Labels group and classify changesets. They are frequently used to control if complex logic is determined at runtime.</p>
        <h2>Context use case example</h2>
        <p>In this scenario, contexts describe/tag the environment, and the changeset author decides which environments the changeset should run in.</p>
        <p>A changeset author is creating test data for a particular version. The data is tagged with <code>context="!prod AND v.1.1"</code>.</p>
        <p>At runtime, Liquibase commands specify the environment and version with a context expression of <code>--contexts="test,v.1.1"</code>.</p>
        <p>No runtime decision determines which changesets execute at runtime. Automation may be in place to always pass environment and artifact versions to the runtime context expression.</p>
        <h2>Label use case example</h2>
        <p>Labels describe/tag the changeset, and the deployment manager decides which labeled changesets to run.</p>
        <p>The changeset author creates changesets for upcoming shopping cart features, but the decision about when these features will go to market has yet to be made.</p>
        <p>The changeset author tags the changesets with <code>labels="shopping-cart,feature-A"</code>.</p>
        <p>Once the feature is ready to go live, a deployment engineer  issues the Liquibase commands with a label expression of <code>--labels="shopping-cart AND feature-A"</code>.</p>
        <h2>Related links</h2>
        <ul>
            <li>
                <p><a href="https://www.liquibase.com/blog/this-is-a-story-about-control-context-filter-label-filter"><MadCap:xref href="attributes/contexts.html">Contexts</MadCap:xref></a>
                </p>
            </li>
            <li>
                <p>
                    <MadCap:xref href="attributes/labels.html">Labels</MadCap:xref>
                </p>
            </li>
        </ul>
    </body>
</html>