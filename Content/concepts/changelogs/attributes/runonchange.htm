<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:searchable="False">
    <head><title><MadCap:variable name="Heading.Level1" /></title>
        <link rel="canonical" href="https://docs.liquibase.com/concepts/changelogs/attributes/runonchange.html" />
        <meta name="description" content="Reference information for the runOnChange attribute. The runOnChange attribute executes the change the first time it is seen and each time the changeset is modified." />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    </head>
    <body>
        <h1><code>runOnChange</code>
        </h1>
        <p>The <code>runOnChange</code> <MadCap:variable name="General.changeset" /> attribute runs the change the first time it is detected and each time the <MadCap:variable name="General.changeset" /> is modified.</p>
        <p><MadCap:variable name="General.Liquibase" /> determines that a <MadCap:variable name="General.changeset" /> has been modified by comparing the MD5 checksum for the <MadCap:variable name="General.changeset" /> to the checksum stored in the <MadCap:variable name="General.databasechangelog" /> table. If the <code>runOnChange</code> attribute is not set or set to false, <MadCap:variable name="General.Liquibase" /> will generate a checksum error if a <MadCap:variable name="General.changeset" /> is modified after it has been deployed to a database. This is done to notify you that a <MadCap:variable name="General.changeset" /> has been unexpectedly modified.</p>
        <h2>Uses</h2>
        <p>The <code>runOnChange</code> attribute is useful for <MadCap:variable name="General.changeset" />s that you want to run each time they are modified.   Common examples are views and stored procedures that use the <code>CREATE OR REPLACE</code> logic.  If you copy the entire text of the stored procedure to a new <MadCap:variable name="General.changeset" /> each time you make a change, you not only end up with a lengthy <MadCap:variable name="General.changelog" />, but you lose the merging and differentiating power of your source control.  Instead, place the text of the stored procedure in a <MadCap:variable name="General.changeset" /> with a <code>runOnChange="true"</code> attribute. The stored procedure is recreated only when there is a change to the text.</p>
        <h2>Syntax</h2>
        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/note/changeset-attribute-camel.flsnp" />
        <p>The default value for <code>runOnChange</code> is <code>false</code>. Set <code>runOnChange</code> to <code>true</code> on <MadCap:variable name="General.changeset" />s you want to execute whenever they are modified.</p>
        <div class="js-tabs">
            <ul class="js-tablist" data-hx="h3">
                <li class="js-tablist__item"><a href="#sql_example" id="label_sql_example" class="js-tablist__link">SQL example</a>
                </li>
                <li class="js-tablist__item"><a href="#json_example" id="label_json_example" class="js-tablist__link">JSON example</a>
                </li>
                <li class="js-tablist__item"><a href="#yaml_example" id="label_yaml_example" class="js-tablist__link">YAML example</a>
                </li>
                <li class="js-tablist__item"><a href="#xml_example" id="label_xml_example" class="js-tablist__link">XML example</a>
                </li>
            </ul>
            <div id="sql_example" class="js-tabcontent"><pre><code class="language-sql">--changeset your.name:changeset1 runOnChange:true
CREATE or REPLACE . . .</code></pre>
            </div>
            <div id="json_example" class="js-tabcontent"><pre xml:space="preserve"><code class="language-json">{ "changeSet" :
        {"id": changeset1,
        "author": your.name,
        "runOnChange": true,
        "changes":
          [
           . . .
          ]
        }
 }</code></pre>
            </div>
            <div id="yaml_example" class="js-tabcontent"><pre><code class="language-yaml">changeset:
      id: changeset1
      author: your.name
      runOnChange: true
      changes:
      . . .</code></pre>
            </div>
            <div id="xml_example" class="js-tabcontent"><pre><code class="language-xml">&lt;changeSet  author="your.name"  id="changeset01"  runOnChange="true" &gt;
        &lt;createProcedure&gt;
        . . .
        &lt;/createProcedure&gt;
&lt;/changeSet&gt;</code></pre>
            </div>
        </div>
        <h2>Related links</h2>
        <ul>
            <li>
                <MadCap:xref href="../changeset-checksums.htm">Changeset Checksums</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="run-always.htm">runAlways</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="run-in-transaction.htm">runInTransaction</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="run-order.htm">runOrder</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="runwith.htm">runWith</MadCap:xref>
            </li>
        </ul>
    </body>
</html>