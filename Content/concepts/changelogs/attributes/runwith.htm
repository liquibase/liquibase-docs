<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:searchable="False">
    <head><title><MadCap:variable name="Heading.Level1" /></title>
        <link rel="canonical" href="https://docs.liquibase.com/concepts/changelogs/attributes/runwith.html" />
        <meta name="description" content="Reference information for the runWith attribute. The runWith attribute allows you to specify an executor to your SQL in Liquibase." />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    </head>
    <body>
        <h1><code>runWith</code>
        </h1>
        <p class="tip" MadCap:autonum="&lt;b&gt;Tip: &lt;/b&gt;">The following documentation describes the use of native executors for applications that rely on complex SQL which cannot easily be deployed over JDBC. This complex SQL needs to be deployed over a platform command-line tool.</p>
        <p>Using <MadCap:variable name="General.Liquibase" /> to track database changes in SQL, XML, JSON, or YAML <MadCap:variable name="General.changelog" />s is usually processed over traditional JDBC connections. However, there might be times when the JDBC connection (or executor) cannot process highly specialized SQL, and you might want to use a different executor. The <MadCap:variable name="General.changeset" />&#160;<MadCap:variable name="General.Param/Attribute" />&#160;<code>runWith="&lt;executor&gt;"</code> lets you specify a non-default executor to run your SQL.</p>
        <h2>Uses</h2>
        <p>The <code>runWith="&lt;executor&gt;"</code> capability works with the following <MadCap:variable name="General.changelog" />s:</p>
        <ul>
            <li>Formatted SQL <MadCap:variable name="General.changelog" />s.</li>
            <li>XML, JSON, and YAML <MadCap:variable name="General.changelog" />s that include inline <code><MadCap:xref href="../../../change-types/sql.html">sql</MadCap:xref></code> or <code><MadCap:xref href="../../../change-types/sql-file.html">sqlFile</MadCap:xref></code> tagged <MadCap:variable name="General.changeset" />s.</li>
            <li><MadCap:variable name="General.LBPro" />: XML, JSON, and YAML&#160;<MadCap:variable name="General.changelog" />s that use the <MadCap:xref href="../../../change-types/modifychangesets.htm">modifyChangeSets</MadCap:xref>&#160;<MadCap:variable name="General.changetypes" /> with <MadCap:xref href="../../../change-types/include.html">include</MadCap:xref> or <MadCap:xref href="../../../change-types/includeall.html">includeAll</MadCap:xref> to import nested <MadCap:variable name="General.changelog" />s. This sets an overarching executor for multiple <MadCap:variable name="General.changelog" />s, with the option of overriding that default for specific <MadCap:variable name="General.changeset" />s.</li>
        </ul>
        <p>For <MadCap:variable name="General.LBPro" /> users, the PSQL, SQL Plus, and SQLCMD integrations are built in.</p>
        <h2>Native executors</h2>
        <p>A native executor is designed to run scripts in a way that is directly compatible with your target software environment. For example, if you use PostgreSQL's <code>psql</code> native executor to access your database, you may have written SQL scripts uniquely suited to <code>psql</code>. <MadCap:variable name="General.Liquibase" /> uses the <code>jdbc</code> native executor by default, so some scripts written for another executor may have unexpected behavior.</p>
        <p>However, <MadCap:variable name="General.LBPro" /> lets you use <code>runWith</code> to call on the <a href="../../../tools-integrations/native-executors/postgresql-psql.htm">PSQL</a> (PostgreSQL), <a href="../../../tools-integrations/native-executors/oracle-sqlplus.htm">SQL Plus</a> (Oracle), and <a href="../../../tools-integrations/native-executors/mssql-server-sqlcmd.htm">SQLCMD</a> (MSSQL&#160;Server) native executor script runners when deploying <MadCap:variable name="General.changeset" />s. This lets you continue using scripts that you wrote before installing <MadCap:variable name="General.Liquibase" />. If you use <a href="../../../start/tutorials/mongodb-pro/home.htm">MongoDB</a>, the <a href="../../../tools-integrations/native-executors/mongodb-mongosh.htm"><code>mongosh</code> native executor</a> is required. You can also write a custom executor yourself.</p>
        <h2>Custom executor</h2>
        <p>To create and use a custom executor other than the built-in integrations, you must:</p>
        <ol>
            <li>Create a class that extends the <a href="https://javadocs.liquibase.com/liquibase-core/liquibase/executor/class-use/AbstractExecutor.html">AbstractExecutor</a> class</li>
            <li>Register your new class in <code>META-INF/services</code></li>
            <li>Specify your executor's name using the <code>runWith</code>&#160;<MadCap:variable name="General.Param/Attribute" /></li>
        </ol>
        <p>For more information, see the <a href="https://contribute.liquibase.com/extensions-integrations/extension-guides/add-a-native-executor/"><MadCap:variable name="General.Liquibase" /> Contributor Docs: Add a Native Executor</a>.</p>
        <h2><MadCap:variable name="General.Param/Attr/Uppercased" />s</h2>
        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/note/changeset-attribute-camel.flsnp" />
        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/text/change-type-runwith-executors.flsnp" />
        <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">The <code>liquibase.mongosh.conf</code>, <code>liquibase.psql.conf</code>, <code>liquibase.sqlplus.conf</code>, and <code>liquibase.sqlcmd.conf</code> files are the configuration files to pass arguments to your executor when running <MadCap:variable name="General.LBPro" />. In this file, you can specify key-value pairs for configuring the executor.</p>
        <h2>Troubleshooting</h2>
        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/text/attribute-runwith-runintransaction.flsnp" />
        <h2>Related links</h2>
        <ul>
            <li>
                <MadCap:xref href="run-always.htm">runAlways</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="run-in-transaction.htm">runInTransaction</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="runonchange.htm">runOnChange</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="run-order.htm">runOrder</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="run-with-spool-file.htm">runWithSpoolFile</MadCap:xref>
            </li>
        </ul>
    </body>
</html>