<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:searchable="False">
    <head><title><MadCap:variable name="Heading.Level1" /></title>
        <link rel="canonical" href="https://docs.liquibase.com/change-types/mongodb/create-index.html" />
        <meta name="description" content="Reference information for the createIndex changetype. createIndex is a changetype in the Liquibase Open Source and Liquibase Pro extensions for MongoDB that creates an index on a collection." />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    </head>
    <body>
        <h1><code>createIndex</code>
        </h1>
        <p><code class="language-text">createIndex</code> is a <MadCap:variable name="General.changetypes" /> in the <MadCap:variable name="General.LBCommunity" /> and <a href="../../start/tutorials/mongodb-pro/home.htm"><MadCap:variable name="General.LBPro" /> extensions for MongoDB</a> that creates an index on a collection.</p>
        <h2>Uses</h2>
        <MadCap:snippetBlock src="../../Z_Resources/Snippets/text/database-tutorials/change-type-mongodb-open-source-change-types.flsnp" />
        <p><code class="language-text">createIndex</code> is one such <MadCap:variable name="General.changetypes" />. You can use it to create an index on an existing collection in your database. This can help you run efficient queries on data that would otherwise be expensive to retrieve.</p>
        <MadCap:snippetBlock src="../../Z_Resources/Snippets/note/change-type-mongodb-mongosh-alternative.flsnp" />
        <h2>Run</h2>
        <MadCap:snippetBlock src="../../Z_Resources/Snippets/text/change-type-run-syntax.flsnp" />
        <h2>Available <MadCap:variable name="General.Param/Attribute" />s</h2>
        <p>For more information, see <a href="https://www.mongodb.com/docs/manual/reference/method/db.collection.createIndex/#db.collection.createIndex">db.collection.createIndex()</a>.</p>
        <MadCap:snippetBlock src="../../Z_Resources/Snippets/note/database-required-attributes.flsnp" />
        <table>
            <col />
            <col />
            <col />
            <col />
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Type</th>
                    <th>Description</th>
                    <th>Requirement</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code class="language-text">collectionName</code>
                    </td>
                    <td>String</td>
                    <td>
                        <MadCap:snippetText src="../../Z_Resources/Snippets/def/attributes/change-types/mongodb/change-type-collection-name.flsnp" /> to create the index on</td>
                    <td><b>Required</b>
                    </td>
                </tr>
            </tbody>
        </table>
        <h3><code>keys</code>
        </h3>
        <MadCap:snippetBlock src="../../Z_Resources/Snippets/def/attributes/change-types/mongodb/change-type-keys.flsnp" />
        <h3><code>options</code>
        </h3>
        <p><b>Optional.</b> A document that defines additional features for the index.</p>
        <p><code class="language-text">options</code> has the following nested attributes:</p>
        <ul>
            <li><code class="language-text">unique</code> (Boolean) <b>(optional):</b> if <code class="language-text">true</code>, creates a unique index so that the collection will not accept insertion or update of documents where the index key value matches an existing value in the index. <b>Default:&#160;<code class="language-text">false</code></b>.</li>
            <li><code class="language-text">name</code> (string) <b>(optional):</b> the name of the index. If unspecified, MongoDB generates an index name by concatenating the names of the indexed fields and the sort order.</li>
        </ul>
        <h2>Examples</h2>
        <div class="js-tabs">
            <ul class="js-tablist" data-hx="h3">
                <li class="js-tablist__item"><a href="#yaml_example" id="label_yaml_example" class="js-tablist__link">YAML example</a>
                </li>
                <li class="js-tablist__item"><a href="#json_example" id="label_json_example" class="js-tablist__link">JSON example</a>
                </li>
                <li class="js-tablist__item"><a href="#xml_example" id="label_xml_example" class="js-tablist__link">XML example</a>
                </li>
            </ul>
            <div id="yaml_example" class="js-tabcontent"><pre xml:space="preserve"><code class="language-yaml">databaseChangeLog:
  - changeSet:
      id: 3
      author: your.name
      changes:
        - createIndex:
            collectionName: countries_yaml
            keys: '{ name: 1, type: 1}'
            options: '{unique: true, name: "ui_countries"}'</code></pre>
            </div>
            <div id="json_example" class="js-tabcontent"><pre xml:space="preserve"><code class="language-json">{
  "databaseChangeLog": [
    {
      "changeSet": {
        "id": "3",
        "author": "your.name",
        "changes": [
          {
            "createIndex": {
              "collectionName": "countries_json",
              "keys": {
                "$rawJson": {
                  "name": 1,
                  "type": 1
                }
              },
              "options": {
                "$rawJson": {
                  "unique": true,
                  "name": "ui_countries_json"
                }
              }
            }
          }
        ]
      }
    }
  ]
}</code></pre>
            </div>
            <div id="xml_example" class="js-tabcontent">
                <MadCap:snippetBlock src="../../Z_Resources/Snippets/text/database-mongodb-xml-namespace-oss.flsnp" /><pre xml:space="preserve"><code class="language-xml">&lt;databaseChangeLog
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:mongodb="http://www.liquibase.org/xml/ns/mongodb"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
    http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd
    http://www.liquibase.org/xml/ns/mongodb
    http://www.liquibase.org/xml/ns/mongodb/liquibase-mongodb-latest.xsd"&gt;

    &lt;changeSet id="3" author="your.name"&gt;
        &lt;mongodb:createIndex collectionName="countries"&gt;
            &lt;mongodb:keys&gt;
                { name: 1, type: 1}
            &lt;/mongodb:keys&gt;
            &lt;mongodb:options&gt;
                {unique: true, name: "ui_countries"}
            &lt;/mongodb:options&gt;
        &lt;/mongodb:createIndex&gt;
    &lt;/changeSet&gt;

&lt;/databaseChangeLog&gt;</code></pre>
            </div>
        </div>
        <MadCap:snippetBlock src="../../Z_Resources/Snippets/text/change-type-mongodb-database-support.flsnp" />
    </body>
</html>