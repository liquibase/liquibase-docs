<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:searchable="False">
    <head><title><MadCap:variable name="Heading.Level1" /></title>
        <link rel="canonical" href="https://docs.liquibase.com/change-types/databricks/analyze-table.html" />
        <meta name="description" content="Reference information for the analyzeTable changetype. analyzeTable is a changetype in the Liquibase Databricks Open Source extension that analyzes a table." />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    </head>
    <body>
        <h1 id="analyze-table"><code>analyzeTable</code>
        </h1>
        <p><code class="language-text">analyzeTable</code> is a <MadCap:variable name="General.changetypes" /> in the <a href="../../start/tutorials/databricks/home.htm"><MadCap:variable name="General.LBCommunity" /> Databricks extension</a> that analyzes a table.</p>
        <h2>Uses</h2>
        <p>You can use <code class="language-text">analyzeTable</code> to collect statistics about your table. This helps the Databricks query optimizer develop an optimal query plan. That way, it can improve query performance and speed up the operations you make on your tables.</p>
        <h2>Run <code>analyzeTable</code></h2>
        <MadCap:snippetBlock src="../../Z_Resources/Snippets/text/change-type-run-syntax.flsnp" />
        <h2 id="available-attributes">Available <MadCap:variable name="General.Param/Attribute" />s</h2>
        <MadCap:snippetBlock src="../../Z_Resources/Snippets/note/database-required-attributes.flsnp" />
        <table>
            <col />
            <col />
            <col />
            <col />
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Type</th>
                    <th>Description</th>
                    <th>Requirement</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code class="language-text">tableName</code>
                    </td>
                    <td>String</td>
                    <td>
                        <MadCap:snippetText src="../../Z_Resources/Snippets/def/attributes/change-types/change-type-table-name.flsnp" /> to analyze.</td>
                    <td><b>Required</b>
                    </td>
                </tr>
                <tr>
                    <td><code class="language-text">analyzeColumns</code>
                    </td>
                    <td>String</td>
                    <td>Name of the column(s) to analyze. Separate multiple values using commas.</td>
                    <td>Optional</td>
                </tr>
            </tbody>
        </table>
        <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">The <code class="language-text">PARTITION</code> SQL clause is not supported for the <code class="language-text">analyzeTable</code>&#160;<MadCap:variable name="General.changetypes" />.</p>
        <h2 id="examples">Examples</h2>
        <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">Rollback is not supported for <code>analyzeTable</code>.</p>
        <div class="js-tabs">
            <ul class="js-tablist" data-hx="h3">
                <li class="js-tablist__item"><a href="#yaml_example" id="label_yaml_example" class="js-tablist__link">YAML example</a>
                </li>
                <li class="js-tablist__item"><a href="#json_example" id="label_json_example" class="js-tablist__link">JSON example</a>
                </li>
                <li class="js-tablist__item"><a href="#xml_example" id="label_xml_example" class="js-tablist__link">XML example</a>
                </li>
            </ul>
            <div id="yaml_example" class="js-tabcontent"><pre xml:space="preserve"><code class="language-yaml">databaseChangeLog:
  - changeSet:
      id: 2
      author: your.name
      changes:
        - analyzeTable:
            tableName: test_analyze_table
            analyzeColumns: col_1,col_2</code></pre>
            </div>
            <div id="json_example" class="js-tabcontent"><pre xml:space="preserve"><code class="language-json">{
  "databaseChangeLog": [
    {
      "changeSet": {
        "id": "2",
        "author": "your.name",
        "changes": [
          {
            "analyzeTable": {
              "tableName": "test_analyze_table",
              "analyzeColumns": "col_1,col_2"
            }
          }
        ]
      }
    }
  ]
}</code></pre>
            </div>
            <div id="xml_example" class="js-tabcontent"><pre xml:space="preserve"><code class="language-xml"><MadCap:snippetText src="../../Z_Resources/Snippets/code/liquibase-xsd-xml-changelog-databricks.flsnp" />

    &lt;changeSet id="2" author="your.name"&gt;
        &lt;databricks:analyzeTable tableName="test_analyze_table" analyzeColumns="col_1,col_2"/&gt;
    &lt;/changeSet&gt;

&lt;/databaseChangeLog&gt;</code></pre>
            </div>
        </div>
        <MadCap:snippetBlock src="../../Z_Resources/Snippets/text/change-type-databricks-database-support.flsnp" />
        <h2>Related links</h2>
        <ul>
            <li><a href="https://docs.databricks.com/en/sql/language-manual/sql-ref-syntax-aux-analyze-table.html">Databricks SQL Reference: ANALYZE</a>
            </li>
        </ul>
    </body>
</html>