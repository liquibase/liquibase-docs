<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:searchable="False">
    <head><title><MadCap:variable name="Heading.Level1" /></title>
        <link rel="canonical" href="https://docs.liquibase.com/change-types/databricks/alter-volume.html" />
        <meta name="description" content="Reference information for the alterVolume changetype. alterVolume is a changetype in the Liquibase Databricks Pro Source extension that alters a volume." />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    </head>
    <body>
        <MadCap:snippetBlock src="../../Z_Resources/Snippets/images/icon-pro-top.flsnp" />
        <h1 id="alter-volume"><code>alterVolume</code>
        </h1>
        <p><code>alterVolume</code> is a <MadCap:variable name="General.changetypes" /> in the <a href="../../start/tutorials/databricks/home.htm"><MadCap:variable name="General.LBPro" /> Databricks extension</a> that alters a volume. It is available in the <MadCap:variable name="General.LBPro" /> Databricks extension 1.0.0 and later.</p>
        <h2>Uses</h2>
        <p>You can use this change to alter the metadata of an existing Databricks volume, such as the volume's name, owner, comment, and tags.</p>
        <p>For more information, see <a href="https://docs.databricks.com/en/sql/language-manual/sql-ref-syntax-ddl-alter-volume.html">Databricks SQL Reference: ALTER VOLUME</a>.</p>
        <h2>Run <code>alterVolume</code></h2>
        <MadCap:snippetBlock src="../../Z_Resources/Snippets/text/change-type-run-syntax.flsnp" />
        <h2 id="available-attributes">Available <MadCap:variable name="General.Param/Attribute" />s</h2>
        <p>Specify all required attributes. If you specify an optional attribute, you must also specify any required nested attributes.</p>
        <table>
            <col />
            <col />
            <col />
            <col />
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Type</th>
                    <th>Description</th>
                    <th>Requirement</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>volumeName</code>
                    </td>
                    <td>String</td>
                    <td>
                        <MadCap:snippetText src="../../Z_Resources/Snippets/def/attributes/change-types/databricks/change-type-volume-name.flsnp" /> to create</td>
                    <td><b>Required</b>
                    </td>
                </tr>
                <tr>
                    <td><code>catalogName</code>
                    </td>
                    <td>String</td>
                    <td>
                        <MadCap:snippetBlock src="../../Z_Resources/Snippets/def/attributes/change-types/change-type-catalog-name.flsnp" />
                    </td>
                    <td>Optional</td>
                </tr>
                <tr>
                    <td><code>schemaName</code>
                    </td>
                    <td>String</td>
                    <td>
                        <MadCap:snippetBlock src="../../Z_Resources/Snippets/def/attributes/change-types/change-type-schema-name.flsnp" />
                    </td>
                    <td>Optional</td>
                </tr>
            </tbody>
        </table>
        <h3>&#160;</h3>
        <p>Changing two properties in one <code>alterVolume</code> SQL statement is impossible, so it's impossible to do this for one change type. If you need to change two of the following optional attributes, we recommend separating them into two <code>alterVolume</code> change types.</p>
        <h3><code>changeComment</code>
        </h3>
        <p><b>Optional.</b>
        </p>
        <p>Specifies a new comment on the volume or removes the comment.</p>
        <p><code>changeComment</code> has the following nested attributes:</p>
        <ul>
            <li><code>comment</code> (string) <b>(optional)</b>: overwrites an existing comment with the value you specify.</li>
            <li><code>unsetComment</code> (Boolean) <b>(optional)</b>: if <code>true</code>, removes a comment that has previously been specified.</li>
        </ul>
        <h3><code>changeOwner</code>
        </h3>
        <p><b>Optional.</b>
        </p>
        <p>Specifies a new owner of the volume.</p>
        <p><code>changeOwner</code> has the following nested attributes:</p>
        <ul>
            <li><code>principal</code> (string) <b>(required)</b>: the new <a href="https://docs.databricks.com/en/sql/language-manual/sql-ref-principal.html">principal</a> to associate with the volume, such as the email address of an individual user.</li>
        </ul>
        <h3><code>renameVolume</code>
        </h3>
        <p><b>Optional.</b>
        </p>
        <p>Renames the volume.</p>
        <p><code>renameVolume</code> has the following nested attributes:</p>
        <ul>
            <li><code>newName</code> (string) <b>(required)</b>: the new name of the volume.</li>
        </ul>
        <h3><code>setTags</code>
        </h3>
        <p><b>Optional.</b>
        </p>
        <p>Sets tags. You can use this to specify new tags or replace existing ones.</p>
        <p><code>setTags</code> has the following nested attributes:</p>
        <ul>
            <li><code>tags</code> (string) <b>(required)</b>: the tags you want to specify. Specify tags using the format <code>'key'='value'</code>. Separate multiple tags using commas.</li>
        </ul>
        <h3><code>unsetTags</code>
        </h3>
        <p><b>Optional.</b>
        </p>
        <p>Removes previously specified tags.</p>
        <p><code>unsetTags</code> has the following nested attributes:</p>
        <ul>
            <li><code>tags</code> (string) <b>(optional)</b>: the table properties you want to specify. Specify properties using the format <code>'key'</code>. Separate multiple properties using commas.</li>
        </ul>
        <h2 id="examples">Examples</h2>
        <div class="js-tabs">
            <ul class="js-tablist" data-hx="h3">
                <li class="js-tablist__item"><a href="#yaml_example" id="label_yaml_example" class="js-tablist__link">YAML example</a>
                </li>
                <li class="js-tablist__item"><a href="#json_example" id="label_json_example" class="js-tablist__link">JSON example</a>
                </li>
                <li class="js-tablist__item"><a href="#xml_example" id="label_xml_example" class="js-tablist__link">XML example</a>
                </li>
            </ul>
            <div id="yaml_example" class="js-tabcontent"><pre xml:space="preserve"><code class="language-yaml">databaseChangeLog:
  - changeSet:
      id: 2
      author: your.name
      changes:
        - alterVolume:
            volumeName: test_volume
            changeComment:
              comment: test_comment
      rollback:
        - alterVolume:
            volumeName: test_volume
            changeComment:
              unsetComment: true

  - changeSet:
      id: 3
      author: your.name
      changes:
        - alterVolume:
            volumeName: test_volume
            changeComment:
              unsetComment: true
      rollback:
        empty

  - changeSet:
      id: 4
      author: your.name
      changes:
        - alterVolume:
            volumeName: test_volume
            changeOwner:
              principal: "principal.name@email.com"
      rollback:
        empty

  - changeSet:
      id: 5
      author: your.name
      changes:
        - alterVolume:
            volumeName: test_volume
            renameVolume:
              newName: test_volume_new
      rollback:
        - alterVolume:
            volumeName: test_volume_new
            renameVolume:
              newName: test_volume

  - changeSet:
      id: 6
      author: your.name
      changes:
        - alterVolume:
            volumeName: test_volume
            setTags:
              tags: "'tag1'='val1', 'tag2'='val2', 'tag3'='val3'"
      rollback:
        empty

  - changeSet:
      id: 7
      author: 
      changes:
        - alterVolume:
            volumeName: test_volume
            unsetTags:
              tags: "'tag1', 'tag2', 'tag3'"
      rollback:
        empty</code></pre>
            </div>
            <div id="json_example" class="js-tabcontent"><pre xml:space="preserve"><code class="language-json">{
  "databaseChangeLog": [
    {
      "changeSet": {
        "id": "2",
        "author": "your.name",
        "changes": [
          {
            "alterVolume": {
              "volumeName": "test_volume",
              "changeComment": {
                "comment": "test_volume"
              }
            }
          }
        ],
        "rollback": [
          {
            "alterVolume": {
              "volumeName": "test_volume",
              "changeComment": {
                "unsetComment": "true"
              }
            }
          }
        ]
      }
    },
    {
      "changeSet": {
        "id": "3",
        "author": "your.name",
        "changes": [
          {
            "alterVolume": {
              "volumeName": "test_volume",
              "changeComment": {
                "unsetComment": "true"
              }
            }
          }
        ],
        "rollback": [
          {
            "empty": {
            }
          }
        ]
      }
    },
    {
      "changeSet": {
        "id": "4",
        "author": "your.name",
        "changes": [
          {
            "alterVolume": {
              "volumeName": "test_volume",
              "changeOwner": {
                "principal": "principal.name@email.com"
              }
            }
          }
        ],
        "rollback": [
          {
            "empty": {
            }
          }
        ]
      }
    },	
    {
      "changeSet": {
        "id": "5",
        "author": "your.name",
        "changes": [
          {
            "alterVolume": {
              "volumeName": "test_volume",
              "renameVolume": {
                "newName": "test_volume_new"
              }
            }
          }
        ],
        "rollback": [
          {
            "alterVolume": {
              "volumeName": "test_volume_new",
              "renameVolume": {
                "newName": "true"
              }
            }
          }
        ]
      }
    },
    {
      "changeSet": {
        "id": "6",
        "author": "your.name",
        "changes": [
          {
            "alterVolume": {
              "volumeName": "test_volume",
              "setTags": {
                "tags": "'tag1'='val1', 'tag2'='val2', 'tag3'='val3'"
              }
            }
          }
        ],
        "rollback": [
          {
            "empty": {
            }
          }
        ]
      }
    },
    {
      "changeSet": {
        "id": "7",
        "author": "your.name",
        "changes": [
          {
            "alterVolume": {
              "volumeName": "test_volume",
              "unsetTags": {
                "tags": "'tag1', 'tag2', 'tag3'"
              }
            }
          }
        ],
        "rollback": [
          {
            "empty": {
            }
          }
        ]
      }
    }
  ]
}</code></pre>
            </div>
            <div id="xml_example" class="js-tabcontent"><pre xml:space="preserve"><code class="language-xml"><MadCap:snippetText src="../../Z_Resources/Snippets/code/liquibase-xsd-xml-changelog-databricks.flsnp" />

    &lt;changeSet id="2" author="your.name"&gt;
        &lt;pro-databricks:alterVolume volumeName="test_volume"&gt;
            &lt;pro-databricks:changeComment comment="test_comment"/&gt;
        &lt;/pro-databricks:alterVolume&gt;

        &lt;rollback&gt;
            &lt;pro-databricks:alterVolume volumeName="test_volume"&gt;
                &lt;pro-databricks:changeComment unsetComment="true"/&gt;
            &lt;/pro-databricks:alterVolume&gt;
        &lt;/rollback&gt;
    &lt;/changeSet&gt;

    &lt;changeSet id="3" author="your.name"&gt;
        &lt;pro-databricks:alterVolume volumeName="test_volume"&gt;
            &lt;pro-databricks:changeComment unsetComment="true"/&gt;
        &lt;/pro-databricks:alterVolume&gt;

        &lt;rollback/&gt;
    &lt;/changeSet&gt;

    &lt;changeSet id="4" author="your.name"&gt;
        &lt;pro-databricks:alterVolume volumeName="test_volume"&gt;
            &lt;pro-databricks:changeOwner principal="principal.name@email.com"/&gt;
        &lt;/pro-databricks:alterVolume&gt;

        &lt;rollback/&gt;
    &lt;/changeSet&gt;

    &lt;changeSet id="5" author="your.name"&gt;
        &lt;pro-databricks:alterVolume volumeName="test_volume"&gt;
            &lt;pro-databricks:renameVolume newName="test_volume_new"/&gt;
        &lt;/pro-databricks:alterVolume&gt;

        &lt;rollback&gt;
            &lt;pro-databricks:alterVolume volumeName="test_volume_new"&gt;
                &lt;pro-databricks:renameVolume newName="test_volume"/&gt;
            &lt;/pro-databricks:alterVolume&gt;
        &lt;/rollback&gt;
    &lt;/changeSet&gt;

    &lt;changeSet id="6" author="your.name"&gt;
        &lt;pro-databricks:alterVolume volumeName="test_volume"&gt;
            &lt;pro-databricks:setTags tags="'tag1'='val1', 'tag2'='val2', 'tag3'='val3'"/&gt;
        &lt;/pro-databricks:alterVolume&gt;

        &lt;rollback/&gt;
    &lt;/changeSet&gt;

    &lt;changeSet id="7" author="your.name"&gt;
        &lt;pro-databricks:alterVolume volumeName="test_volume"&gt;
            &lt;pro-databricks:unsetTags tags="'tag1', 'tag2', 'tag3'"/&gt;
        &lt;/pro-databricks:alterVolume&gt;

        &lt;rollback/&gt;
    &lt;/changeSet&gt;

&lt;/databaseChangeLog&gt;</code></pre>
            </div>
        </div>
        <MadCap:snippetBlock src="../../Z_Resources/Snippets/text/change-type-databricks-database-support.flsnp" />
        <h2>Related links</h2>
        <ul>
            <li><a href="https://docs.databricks.com/en/sql/language-manual/sql-ref-syntax-ddl-alter-volume.html">Databricks SQL Reference: ALTER VOLUME</a>
            </li>
        </ul>
    </body>
</html>