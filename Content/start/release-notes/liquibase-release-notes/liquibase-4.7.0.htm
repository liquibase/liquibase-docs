<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:searchable="False">
    <head><title><MadCap:variable name="Heading.Level1" /></title>
        <link rel="canonical" href="https://docs.liquibase.com/start/release-notes/liquibase-release-notes/liquibase-4.7.0.html" />
        <meta name="description" content="Liquibase 4.7.0 release notes." />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    </head>
    <body>
        <h1>Liquibase 4.7.0 Release Notes</h1>
        <p>Liquibase v4.7.0 is a major release.</p>
        <p>See <a href="https://github.com/liquibase/liquibase/releases/tag/v4.7.0">GitHub formatted release notes</a> for more information. Full changelog: <a href="https://github.com/liquibase/liquibase/compare/v4.6.2...v4.7.0">4.6.2–4.7.0</a> (January 10, 2022)</p>
        <p class="tip" MadCap:autonum="&lt;b&gt;Tip: &lt;/b&gt;"><MadCap:variable name="General.Hub" /> introduces the <MadCap:variable name="General.Hub" /> DevOps Metrics functionality with four reports that provide the data to optimize your DevOps performance: Deployment Frequency, Change Migration Time, Change Failure Rate, Time to Fix Failing Changes.</p>
        <p>This release includes community-contributed pull requests, <MadCap:variable name="General.LBCommunity" /> and <MadCap:variable name="General.LBPro" /> bug fixes, and a new command to get started with Liquibase – the <code>init</code> command.</p>
        <p>Here is a closer look at what we improved in the latest release.</p>
        <h3>Breaking Changes</h3>
        <ul>
            <li>
                <p>[<a href="https://github.com/liquibase/liquibase/pull/2228">PR#2228</a>] [<a href="https://github.com/nvoxland">Nathan Voxland</a>] Handle the fact that FK names are not always unique. Fixes <a href="https://github.com/liquibase/liquibase/issues/2227">PR#2227</a>. When using the <code>foreignKeyConstraintExists</code> precondition, you must now specify <code>foreignKeyTableName</code>. See also: <a href="https://github.com/liquibase/liquibase/pull/2565">PR#2565</a> fixing <a href="https://github.com/liquibase/liquibase/issues/2389">#2389</a>. in 4.11.0.</p>
            </li>
        </ul>
        <h3>Notable Changes</h3>
        <p>Liquibase 4.7.0 introduces the <code>init</code> command with the <code>project</code> and <code>start-h2</code> subcommands:</p>
        <ul>
            <li>The <code>init project</code> subcommand helps  to set configuration files for using Liquibase or, if you already use Liquibase, create new project files with minimal input. [DAT-8640]</li>
            <li>The <code>init start-h2</code> subcommand  helps to start the included in-memory H2 database. The subcommand  needs to be run in a new command line or terminal window. [DAT-8945]</li>
        </ul>
        <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">For more information and examples of using <code>init</code> project, see <MadCap:xref href="../../../commands/init/project.htm">init project</MadCap:xref>.</p>
        <p>Additionally, we have updated the Liquibase Getting Started tutorials and sample changelog files in the installation package. From now on, you can use sample SQL, XML, JSON, and YAML changelog files with the corresponding <MadCap:variable name="General.changeset" />s. [LB-2177] [LB-2174]</p>
        <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">Check <a href="../../install/liquibase-windows.htm">Liquibase Getting Started</a> to see more details.</p>
        <h3>Enhancements</h3>
        <ul>
            <li>[PRO] Improved the output of the <code>rollback-one-update</code> command [DAT-7590]</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2244" target="_blank">PR#2244</a>] [<a href="https://github.com/szandany" target="_blank">Tsvi Zandany</a>] Enabled the use of the <code>jdbc:edb</code> URL for Liquibase to recognize EnterpriseDB</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2225" target="_blank">PR#2225</a>] [<a href="https://github.com/nvoxland">Nathan Voxland</a>] [<a href="https://github.com/catholic-indulgence-vaper" target="_blank">Konstantin</a>] Enabled the use of lowercase <code>sys.synonyms</code> objects for the <code>generate-changelog</code> and <code>diff-changelog</code> commands in Liquibase and SQL Server. The PR fixes <a href="https://github.com/liquibase/liquibase/issues/2044" target="_blank">PR#2044</a>.</li>
            <li>Added DB2 on z/OS database type and Java classes for Liquibase [DAT-8575]</li>
            <li>Upgraded H2 to the later version –  2.0.206</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2197">PR#2197</a>] [<a href="https://github.com/andrulban">Andrii Tytarchuk</a>] Added optional SQL Plus properties to the <code>liquibase.sqlplus.conf</code> file and put the file in the <code>examples/sql</code> folder [DAT-7618]<ul><li><code>liquibase.sqlplus.args</code></li><li><code>liquibase.sqlplus.keep.temp.path</code></li><li><code>liquibase.sqlplus.keep.temp.name</code></li></ul></li>
        </ul>
        <ul>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2215">PR#2215</a>] [<a href="https://github.com/nvoxland">Nathan Voxland</a>] Improved MySQL <code>loadData</code> performance</li>
        </ul>
        <h3>Fixes</h3>
        <ul>
            <li>Fixed the <code>generate-changelog</code> wrong dependency order: the <code>addPrimaryKey</code><MadCap:variable name="General.changetypes" /> appeared before its base table in PostgreSQL [DAT-8256]</li>
            <li>Fixed the quality checks settings file to be created using both relative and absolute paths [DAT-8275]</li>
            <li>Fixed quality checks reporting only the first failure for a <MadCap:variable name="General.changeset" /> to report all failures in outputs [DAT-8630]</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2066" target="_blank">PR#2066</a>] [<a href="https://github.com/smainz" target="_blank">smainz</a>] Fixed the <code>loadData</code><MadCap:variable name="General.changetypes" /> to recognize CSV files when loading data with the path that contains a dot character ('<code>.</code>')</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2071" target="_blank">PR#2071</a>] [<a href="https://github.com/nhumblot" target="_blank">Nicolas Humblot</a>] [<a href="https://github.com/philhinco" target="_blank">Philipp</a>] Fixed the <code>addNotNullConstraint</code><MadCap:variable name="General.changetypes" /> causing the "Data too long" error message. The PR fixes <a href="https://github.com/liquibase/liquibase/issues/1054" target="_blank">PR#1054</a>.</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2073" target="_blank">PR#2073</a>] [<a href="https://github.com/smainz">smainz</a>] Fixed the <code>relativeToChangelogFile</code><MadCap:variable name="General.Param/Attribute" /> for <code>loadData</code>, <code>createProcedure</code>, and <code>createView</code><MadCap:variable name="General.changetypes" />s</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2228">PR#2228</a>] [<a href="https://github.com/nvoxland">Nathan Voxland</a>] Updated the logic of the foreign key names that are not always unique</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2081">PR#2081</a>] [<a href="https://github.com/jherkel" target="_blank">Jakub Herkel</a>] Fixed OSGI support (manifest and class loading)</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2192">PR#2192</a>] [<a href="https://github.com/andrulban">Andrii Tytarchuk</a>] Fixed <code>COLUMN_SIZE</code> for the PostgreSQL <code>NUMERIC[]</code> datatype</li>
        </ul>
        <h3>Contributions</h3>
        <p>Our community has built a lot. Thanks to everyone who contributes and helps make the Liquibase community strong, including the following first-time contributors:</p>
        <ul>
            <li><a href="https://github.com/nhumblot" target="_blank">Nicolas Humblot</a>
            </li>
            <li><a href="https://github.com/philhinco" target="_blank">Philipp</a>
            </li>
            <li><a href="https://github.com/catholic-indulgence-vaper" target="_blank">Konstantin</a>
            </li>
            <li><a href="https://github.com/jherkel" target="_blank">Jakub Herkel</a>
            </li>
        </ul>
    </body>
</html>