<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:searchable="False">
    <head><title><MadCap:variable name="Heading.Level1" /></title>
        <link rel="canonical" href="https://docs.liquibase.com/start/release-notes/liquibase-release-notes/liquibase-4.18.0.html" />
        <meta name="description" content="Liquibase 4.18.0 release notes." />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    </head>
    <body>
        <h1><MadCap:variable name="General.Liquibase" /> 4.18.0 Release Notes</h1>
        <p><b>Full changelog:</b>&#160;<a href="https://github.com/liquibase/liquibase/compare/v4.17.2...v4.18.0">v4.17.2...v4.18.0</a> (December 6, 2022)</p>
        <h3>Breaking Changes</h3>
        <ul>
            <li>Use <code>PathHandler</code> for writing log files, which allows using S3 and other extensions (DAT-11515) by @abrackx in <a href="https://github.com/liquibase/liquibase/pull/3438">#3438</a></li>
        </ul>
        <h3>Notable Changes</h3>
        <h4>[PRO] Hashicorp Vault extension and <MadCap:variable name="General.LBPro" /></h4>
        <p>Use together for increased security and convenience of centralized properties</p>
        <ul>
            <li><b>Security:</b> Vaults offer much greater security than defaults files or environment variables</li>
            <li><b>Centralization:</b>&#160;Secure your database credentials, <MadCap:variable name="General.LBPro" /> license key, secure URLs, and more in one central location. Update your critical properties in one place, and all linked tools and jobs use the new values</li>
        </ul>
        <h4>[PRO] <code>rollback-on-error</code> command argument for <code><MadCap:xref href="../../../commands/update/update.html">update</MadCap:xref></code> command</h4>
        <ul>
            <li>When set to <code>true</code> will attempt to roll back a failed update operation.</li>
            <li>Note: <MadCap:variable name="General.changeset" />s marked <code>failOnError=false</code>, do not count as error, and so do not run <code>rollback-on-error</code></li>
        </ul>
        <h4>[OSS] <MadCap:variable name="General.Liquibase" /> Environment variables</h4>
        <ul>
            <li> Now free to all users, not just <MadCap:variable name="General.LBPro" /> users.</li>
            <li>Learn more at <MadCap:xref href="../../../concepts/connections/liquibase-environment-variables.htm">[%=General.Liquibase%] Environment Variables</MadCap:xref></li>
        </ul>
        <h4>Enhancements</h4>
        <ul>
            <li>[PRO] Added new <code><MadCap:xref href="../../../change-types/modifychangesets.htm">modifyChangeSets</MadCap:xref></code> tag to support specification of <code><MadCap:xref href="../../../concepts/changelogs/attributes/runwith.htm">runWith</MadCap:xref></code> attribute for all change sets in <code><MadCap:xref href="../../../change-types/include.html">include</MadCap:xref></code> or <code><MadCap:xref href="../../../change-types/includeall.html">includeAll</MadCap:xref></code></li>
        </ul>
        <h3>Security, Driver and other updates</h3>
        <ul>
            <li>Upgrade <code>mockito-inline</code> from 4.8.0 to 4.8.1 by @dependabot in <a href="https://github.com/liquibase/liquibase/pull/3382">#3382</a></li>
            <li>Upgrade <code>actions/cache</code> from 3.0.8 to 3.0.11 by @dependabot in <a href="https://github.com/liquibase/liquibase/pull/3370">#3370</a></li>
            <li>Bump <code>robinraju/release-downloader</code> from 1.5 to 1.6 by @dependabot in <a href="https://github.com/liquibase/liquibase/pull/3423">#3423</a></li>
            <li>Upgrade <code>postgresql driver</code> from 42.5.0 to 42.5.1 by @dependabot in <a href="https://github.com/liquibase/liquibase/pull/3501">#3501</a></li>
            <li>Bump <code>maven-plugin-plugin </code>from 3.6.4 to 3.7.0 by @dependabot in <a href="https://github.com/liquibase/liquibase/pull/3450">#3450</a></li>
            <li>Bump <code>sqlite-jdbc</code> from 3.39.3.0 to 3.39.4.0 by @dependabot in <a href="https://github.com/liquibase/liquibase/pull/3451">#3451</a></li>
            <li>Bump <code>maven-shade-plugin</code> from 3.4.0 to 3.4.1 by @dependabot in <a href="https://github.com/liquibase/liquibase/pull/3422">#3422</a></li>
            <li>Bump <code>gmavenplus-plugin</code> from 1.13.1 to 2.1.0 by @dependabot in <a href="https://github.com/liquibase/liquibase/pull/3391">#3391</a></li>
            <li>Bump <code>picocli</code> from 4.6.3 to 4.7.0 by @dependabot in <a href="https://github.com/liquibase/liquibase/pull/3432">#3432</a></li>
            <li>Bump <code>jcc</code> from 11.5.7.0 to 11.5.8.0 by @dependabot in <a href="https://github.com/liquibase/liquibase/pull/3414">#3414</a></li>
            <li>Upgrade <code>testcontainers-bom</code> from 1.17.3 to 1.17.5 by @dependabot in <a href="https://github.com/liquibase/liquibase/pull/3341">#3341</a></li>
        </ul>
        <h3>Fixes</h3>
        <ul>
            <li>Fixes <code>generate-changelog</code> view comments for Postgres (DAT-9410) by @abrackx in <a href="https://github.com/liquibase/liquibase/pull/3403">#3403</a></li>
            <li>Adds <code>DefaultChangeExecListener</code>, catches and handles migration errors (DAT-9372) by @abrackx in <a href="https://github.com/liquibase/liquibase/pull/3431">#3431</a></li>
            <li>Fixes nullpointer when dealing with <code>LiquibaseException</code> on updates. by @filipelautert in <a href="https://github.com/liquibase/liquibase/pull/3447">#3447</a></li>
            <li>Resets <MadCap:variable name="General.changelog" /> cache upon acquiring lock by @filipelautert in <a href="https://github.com/liquibase/liquibase/pull/3396">#3396</a></li>
            <li>Allows <code>createSequence</code> field "<code>dataType</code>" to be use with DB2 as the database supports it. by @filipelautert in <a href="https://github.com/liquibase/liquibase/pull/3328">#3328</a></li>
            <li>Defines "<code>--rollback empty</code>" as the way to specify "no rollback needed".  by @filipelautert in <a href="https://github.com/liquibase/liquibase/pull/3324">#3324</a></li>
            <li>Fix create index on Postgresql and MSSQL using wrong column names when  generating a <MadCap:variable name="General.changelog" /> by @filipelautert in <a href="https://github.com/liquibase/liquibase/pull/3366">#3366</a></li>
            <li>Fixed input string handling in <code>CompareControl</code> constructor by @filipelautert in <a href="https://github.com/liquibase/liquibase/pull/3309">#3309</a></li>
            <li>Add '<code>ifExists</code>' parameter to the <code>dropView</code> statement by @gzsombor in <a href="https://github.com/liquibase/liquibase/pull/3301">#3301</a></li>
            <li>Fix <code>getResourceAccessor</code> logic to avoid setting <code>changeLogDirectory</code> when <code>searchPath</code> has already set by @MalloD12 in <a href="https://github.com/liquibase/liquibase/pull/3347">#3347</a></li>
            <li>Ensures that Postgresql works with blob types <code>bytea</code> and <code>oid</code> (large objects) by @filipelautert in <a href="https://github.com/liquibase/liquibase/pull/3381">#3381</a></li>
            <li>Improve <code>int</code>/<code>tinyint</code>/<code>smallint</code>/<code>bigint</code> handling in H2 by @MalloD12 in <a href="https://github.com/liquibase/liquibase/pull/3274">#3274</a></li>
            <li>The <code>onSqlOutput</code> attribute does not work for preconditions in formatted SQL <MadCap:variable name="General.changelog" />. by @dyadyushko in <a href="https://github.com/liquibase/liquibase/pull/3436">#3436</a></li>
            <li>[DAT-11899] Modifies deploy plugin and distribution management. by @jnewton03 in <a href="https://github.com/liquibase/liquibase/pull/3457">#3457</a></li>
            <li>Adds <code>ChangeExecListener</code> properties to Maven plugin (DAT-12219) by @abrackx in <a href="https://github.com/liquibase/liquibase/pull/3443">#3443</a></li>
            <li>make <code>BufferedLogService</code> thread safe by @StevenMassaro in <a href="https://github.com/liquibase/liquibase/pull/3470">#3470</a></li>
            <li>Improved Sybase ASE Support by @carlos940513 in <a href="https://github.com/liquibase/liquibase/pull/665">#665</a></li>
            <li>Do not write output files for computed columns when executing <code>dbDoc</code>.  Fixes <a href="https://github.com/liquibase/liquibase/issues/1088">#1088</a> by @rozenshteyn in <a href="https://github.com/liquibase/liquibase/pull/3398">#3398</a></li>
            <li>Sequence owned by a table field must be included in database snapshot by @filipelautert in <a href="https://github.com/liquibase/liquibase/pull/3335">#3335</a></li>
            <li>Fixes snapshot of case-sensitive views by @filipelautert in <a href="https://github.com/liquibase/liquibase/pull/3329">#3329</a></li>
            <li>Fix <code>include</code>/<code>includeAll</code> to correct track <code>relativeToChangelog=true</code> paths using <code>./</code> or <code>../</code> by @nvoxland in <a href="https://github.com/liquibase/liquibase/pull/3355">#3355</a></li>
            <li>Improved readability in the <code>createCDILiquibaseConfig</code> method. by @musttafayildirim in <a href="https://github.com/liquibase/liquibase/pull/3316">#3316</a></li>
            <li>testing <code>main</code> and <code>sha</code> builds by @jnewton03 in <a href="https://github.com/liquibase/liquibase/pull/3481">#3481</a></li>
            <li>Fix Postgresql <code>autoIncrement</code> Information in snapshot by @filipelautert in <a href="https://github.com/liquibase/liquibase/pull/3361">#3361</a></li>
            <li>Treat "<code>,</code>" as "<code>or</code>" when parsing context expressions.  Fixes #1103 by @rozenshteyn in <a href="https://github.com/liquibase/liquibase/pull/3426">#3426</a></li>
            <li>CORE-1127: Filter by context when doing a rollback. by @berryh in <a href="https://github.com/liquibase/liquibase/pull/898">#898</a></li>
            <li>Implement <code>tagExists</code> Maven command (Fix issue 1063) by @rozenshteyn in <a href="https://github.com/liquibase/liquibase/pull/3385">#3385</a></li>
            <li>Fixes transaction handling within <MadCap:variable name="General.changeset" />s on DB2 on z/OS by @MichaelKern-IVV in <a href="https://github.com/liquibase/liquibase/pull/3342">#3342</a></li>
            <li>Improve <code>dropAllForeignKeyConstraints</code> performance by @Spindl in <a href="https://github.com/liquibase/liquibase/pull/2155">#2155</a></li>
            <li>Adds error handling for <code>updateCount</code> (DAT-11950) by @abrackx in <a href="https://github.com/liquibase/liquibase/pull/3463">#3463</a></li>
            <li>Adds error handling to <code>update-to-tag</code> (DAT-11951) by @abrackx in <a href="https://github.com/liquibase/liquibase/pull/3468">#3468</a></li>
            <li>Adds error handling for <code>update-testing-rollback</code> command and <code>updateTestingRollback</code> goal (DAT-11952) by @abrackx in <a href="https://github.com/liquibase/liquibase/pull/3474">#3474</a></li>
            <li>Fixes behaviour of <code>includeAll</code> by keeping the trailing slash on the path by @filipelautert in <a href="https://github.com/liquibase/liquibase/pull/3506">#3506</a></li>
            <li>Restore <code>FileSystemResourceAccessor</code> and add tests. by @filipelautert in <a href="https://github.com/liquibase/liquibase/pull/3499">#3499</a></li>
            <li>Simplify <code>if</code> statements to a single assignment. Avoid extra works. by @arturobernalg in <a href="https://github.com/liquibase/liquibase/pull/3375">#3375</a></li>
            <li>Fixed <code>resolveSibling</code> method by updating URL resource type by @MalloD12 in <a href="https://github.com/liquibase/liquibase/pull/3413">#3413</a></li>
            <li>Fix dependency query for PostgreSQL 15 by @Domm98CZ in <a href="https://github.com/liquibase/liquibase/pull/3456">#3456</a></li>
            <li>Release <code>liquibase-nochangeloglock</code> extension with the others by @nvoxland in <a href="https://github.com/liquibase/liquibase/pull/3452">#3452</a></li>
        </ul>
        <h3>New Contributors</h3>
        <ul>
            <li>@gzsombor made their first contribution in <a href="https://github.com/liquibase/liquibase/pull/3301">#3301</a></li>
            <li>@carlos940513 made their first contribution in <a href="https://github.com/liquibase/liquibase/pull/665">#665</a></li>
            <li>@rozenshteyn made their first contribution in <a href="https://github.com/liquibase/liquibase/pull/3398">#3398</a></li>
            <li>@musttafayildirim made their first contribution in <a href="https://github.com/liquibase/liquibase/pull/3316">#3316</a></li>
            <li>@berryh made their first contribution in <a href="https://github.com/liquibase/liquibase/pull/898">#898</a></li>
            <li>@Spindl made their first contribution in <a href="https://github.com/liquibase/liquibase/pull/2155">#2155</a></li>
            <li>@arturobernalg made their first contribution in <a href="https://github.com/liquibase/liquibase/pull/3375">#3375</a></li>
            <li>@Domm98CZ made their first contribution in <a href="https://github.com/liquibase/liquibase/pull/3456">#3456</a></li>
        </ul>
    </body>
</html>