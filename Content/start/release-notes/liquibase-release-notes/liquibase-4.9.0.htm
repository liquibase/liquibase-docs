<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:searchable="False">
    <head><title><MadCap:variable name="Heading.Level1" /></title>
        <link rel="canonical" href="https://docs.liquibase.com/start/release-notes/liquibase-release-notes/liquibase-4.9.0.html" />
        <meta name="description" content="Liquibase 4.9.0 release notes." />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    </head>
    <body>
        <h1><MadCap:variable name="General.Liquibase" /> 4.9.0 Release Notes</h1>
        <p><b>Full Changelog:</b>&#160;<a href="https://github.com/liquibase/liquibase/compare/v4.8.0...v4.9.0">v4.8.0...v4.9.0</a> (March 17, 2022)</p>
        <p><MadCap:variable name="General.Liquibase" /> 4.9.0 is now available on the <a href="https://www.liquibase.org/download"><a href="https://www.liquibase.org/download">Download <MadCap:variable name="General.Liquibase" /></a></a> page.</p>
        <p>This release includes the <code>checks.run</code> and <code>checks.show</code> Maven goals, quality checks JSON object, community-contributed pull requests, <MadCap:variable name="General.LBCommunity" /> and <MadCap:variable name="General.LBPro" /> bug fixes, and other notable changes.</p>
        <h3>Notable Changes</h3>
        <p><MadCap:variable name="General.Liquibase" /> 4.9.0 introduces the following functionality:</p>
        <ul>
            <li>Quality checks for Maven – <code>checks.run</code> and <code>checks.show</code> goals [DAT-9033] [DAT-9034]</li>
            <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">For more information, see <MadCap:xref href="../../../tools-integrations/maven/commands/maven-checks-run.htm">Maven checks.run</MadCap:xref> and <MadCap:xref href="../../../tools-integrations/maven/commands/maven-checks-show.htm">Maven checks.show</MadCap:xref>.</p>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2558">PR#2558</a>] [<a href="https://github.com/kavya-shastri">kavya-shastri</a>] [<b>Breaking Change</b>] The change in the usage of the <MadCap:variable name="General.Liquibase" /> global configuration for the <code>secureParsing</code> parameter to prevent the entity resolver from scanning the network for missing XSDs. If you reference an XSD other than one of <MadCap:variable name="General.Liquibase" /> and have never stored them in your <code>classpath</code>, <MadCap:variable name="General.Liquibase" /> will no longer automatically download and use the XSD from the internet for security reasons. The default value for <code>secureParsing</code> is <code>true</code>, but you can set it to <code>false</code> in any of the <MadCap:variable name="General.Liquibase" /> configuration locations. 
    <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">For more information, see <MadCap:xref href="../../../concepts/changelogs/xml-format.html">Example Changelogs: XML Format</MadCap:xref>.</p></li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2529">PR#2529</a>] [<a href="https://github.com/crizzis">Krzysztof Sierszeń</a>] [LB-1781] The <code>uniqueConstraintExists</code> precondition to check for the existence of unique constraints before running the update. You can check the constraint by constraint name or columns:</li><pre xml:space="preserve"><code class="language-text">&lt;preConditions&gt;
&lt;uniqueConstraintExists constraintName="uq_constraint_name" tableName="test_table"/&gt;
&lt;/preConditions&gt;</code>
</pre><pre xml:space="preserve">
    <code class="language-text">&lt;preConditions&gt;
&lt;uniqueConstraintExists tableName="test_table" columnNames="first_name, last_name"/&gt;
&lt;/preConditions&gt;</code></pre>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2339">PR#2339</a>] [<a href="https://github.com/nvoxland">nvoxland</a>] [<a href="https://github.com/Toukite">Toukite</a>] The support for running the <a href="https://contribute.liquibase.com/extensions-integrations/directory/integration-docs/servlet-listener/"><MadCap:variable name="General.Liquibase" /> Servlet listener</a> in application servers built on the Jakarta Servlet specification and not the Java Servlet specification. To use the new listener, specify the following tag:</li><pre xml:space="preserve"><code class="language-text">&lt;listener&gt;
&lt;listener-class&gt;liquibase.integration.servlet.LiquibaseJakartaServletListener&lt;/listener-class&gt;
&lt;/listener&gt;</code></pre>
            <p>The PR fixes issue <a href="https://github.com/liquibase/liquibase/issues/2298">#2298</a>.</p>
        </ul>
        <ul>
            <li>[PRO] Quality checks JSON object so that your application can easily parse through the <MadCap:variable name="General.Liquibase" /> output [DAT-9094]</li>
            <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">For more information, see <MadCap:xref href="../../../commands/quality-checks/workflows/json-object.htm">Quality Checks JSON Object</MadCap:xref>.</p>
        </ul>
        <h3>Enhancements</h3>
        <ul>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2434">PR#2434</a>] [<a href="https://github.com/DBaluxa">Balázs Dési</a>] Added the Maven <code>validate</code> goal to <code>maven-liquibase-plugin</code> to provide access to the existing <MadCap:variable name="General.Liquibase" />&#160;<code>validate</code> command and be available not only in CLI, but also in Maven
    <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">For more information, see <MadCap:xref href="../../../tools-integrations/maven/commands/maven-validate.htm">Maven validate</MadCap:xref>.</p></li>
            <li>Added the ability to use <code>sqlcmd</code> on an instance with multiple databases [DAT-9513]
    <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">For more information, see <MadCap:xref href="../../../tools-integrations/native-executors/mssql-server-sqlcmd.htm">Use Native Executors with Microsoft SQL Server</MadCap:xref>.</p></li>
            <li>Added support for <MadCap:variable name="General.Liquibase" />, Spring Boot, and SQL Plus run with Kerberos [DAT-9409]
    <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">For more information, see <a href="https://contribute.liquibase.com/extensions-integrations/directory/integration-docs/springboot/using-springboot-sql-plus-kerberos">Using [%=General.Liquibase%] and Spring Boot with SQL Plus and Kerberos Authentication</a>.</p></li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2561">PR#2561</a>] [<a href="https://github.com/wwillard7800">Wesley Willard</a>] Added the <code>--schemas</code> argument to the <code>snapshot</code> command to be able to compare a multi-schema database to its snapshot [DAT-9433]</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2606">PR#2606</a>] [<a href="https://github.com/wwillard7800">Wesley Willard</a>] Added a best practice message for the <code>generate-changelog</code> command so that you can check if the <code>splitStatements</code><MadCap:variable name="General.Param/Attribute" /> works for your environment when generating formatted SQL <MadCap:variable name="General.changelog" />s [DAT-9327]</li>
            <li>Added the <code>StripComments</code><MadCap:variable name="General.Param/Attribute" /> for the <code>SQLUserDefinedPatternCheck</code> quality check to choose the code that the <code>SQLUserDefinedPatternCheck</code> searches, including the option for the commented code. The <code>StripComments</code><MadCap:variable name="General.Param/Attribute" /> strips comments from SQL before searching for the string. The default value is <code>N</code> (no). [DAT-9098]</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2273">PR#2273</a>] [<a href="https://github.com/szandany">Tsvi Zandany</a>] Added the autocomplete option for quality checks commands running on macOS</li>
        </ul>
        <h3>Fixes </h3>
        <ul>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2542">PR#2542</a>] [<a href="https://github.com/nvoxland">nvoxland</a>] Fixed the <code>--should-snapshot-data</code> CLI parameter to be preserved when the <code>--data-output-directory</code> property is not specified in the command</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2330">PR#2330</a>] [<a href="https://github.com/inanemed">Inane Mohammed</a>] Fixed the issue with checking the <code>referenceSnapshot</code> parameter instead of <code>referenceDatabase</code> for the potential null value</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2521">PR#2521</a>] [<a href="https://github.com/StevenMassaro">Steven Massaro</a>] Added a label, context, and comment to the <code>example-changelog.sql</code> file that comes with the <MadCap:variable name="General.Liquibase" /> installation package [DAT-9325]</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2556">PR#2556</a>] [<a href="https://github.com/nvoxland">nvoxland</a>] Fixed the CockroachDB processes so that <MadCap:variable name="General.Liquibase" /> checks the URL first rather than proceeding with SQL calls</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2569">PR#2569</a>] [<a href="https://github.com/clarenced">Clarence Dimitri CHARLES</a>] Made <code>FormattedSqlChangeLogParser</code> to be reusable for extensions</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2377">PR#2377</a>] [<a href="https://github.com/devorgpl">devorgpl</a>] Fixed the issue with updating statements when the <code>onlyUpdate</code><MadCap:variable name="General.Param/Attribute" /> is <code>false</code> in the <code>loadUpdateData</code><MadCap:variable name="General.changetypes" /> for HSQL</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/1908">PR#1908</a>] [<a href="https://github.com/ecapoccia">Emiliano Capoccia</a>] Fixed the issue with retrieving the CockroachDB version. As part of the fix, <MadCap:variable name="General.Liquibase" /> generates version-specific autoincrement SQL statements for CockroachDB identity columns:            <ul><li><code>SMALLSERIAL</code>, <code>SERIAL</code>, and <code>BIGSERIAL</code> for versions earlier than 21.2</li><li><code>GENERATED BY DEFAULT AS IDENTITY</code> for version 21.2 or later</li></ul></li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2135">PR#2135</a>] [<a href="https://github.com/liquibase/liquibase/issues/2133">PR#2133</a>] [<a href="https://github.com/Saucistophe">Saucistophe</a>] [<a href="https://github.com/mkobylarz">mkobylarz</a>] Fixed the issue with the <code>endDelimiter</code><MadCap:variable name="General.Param/Attribute" /> not being respected during the <MadCap:variable name="General.Liquibase" /> update. The fix for <code>endDelimiter</code> does not break the handling of trailing comments in SQL statements. [LB-2186]</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2573">PR#2573</a>] [<a href="https://github.com/nvoxland">nvoxland</a>] Fixed the quoting for the <code>MANIFEST.MF</code> file for correct versioning</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2572">PR#2572</a>] [<a href="https://github.com/StevenMassaro">Steven Massaro</a>] Fixed the issue with generating <MadCap:variable name="General.changelog" />s for PostgreSQL columns that use <code>SET DEFAULT</code> [DAT-8779]</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2589">PR#2589</a>] [<a href="https://github.com/nvoxland">nvoxland</a>] [<a href="https://github.com/leblonk">Marcel Blonk</a>] Fixed the MD5 checksums generated by older versions of Liquibase to be correctly updated in the <MadCap:variable name="General.databasechangelog" /> table when a more recent version of <MadCap:variable name="General.Liquibase" /> executes against the database. The PR fixes issue <a href="https://github.com/liquibase/liquibase/issues/2580">#2580</a>.</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2592">PR#2592</a>] [<a href="https://github.com/nvoxland">nvoxland</a>] Added support for the double precision type in MySQL. The PR fixes issue <a href="https://github.com/liquibase/liquibase/issues/2337">#2337</a>.</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/1894">PR#1894</a>] [<a href="https://github.com/KushnirykOleh">KushnirykOleh</a>] Fixed the time data type to be precise for PostgreSQL. The PR fixes issue <a href="https://github.com/liquibase/liquibase/issues/1774">#1774</a>.</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2387">PR#2387</a>] [<a href="https://github.com/Jenson3210">Jenson3210</a>] Fixed the handling of date and time in the <code>loadData</code><MadCap:variable name="General.changetypes" /></li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2566">PR#2566</a>] [<a href="https://github.com/nvoxland">nvoxland</a>] Updated OpenCSV from 5.5.2 to 5.6</li>
        </ul>
        <h3>Contributions</h3>
        <p>Our community has built a lot. Thanks to everyone who contributes and helps make the Liquibase community strong, including the following first-time contributors:</p>
        <ul>
            <li><a href="https://github.com/DBaluxa">Balázs Dési</a>
            </li>
            <li><a href="https://github.com/inanemed">Inane Mohammed</a>
            </li>
            <li><a href="https://github.com/clarenced">Clarence Dimitri CHARLES</a>
            </li>
            <li><a href="https://github.com/kavya-shastri">kavya-shastri</a>
            </li>
            <li><a href="https://github.com/ecapoccia">Emiliano Capoccia</a>
            </li>
            <li><a href="https://github.com/Saucistophe">Saucistophe</a>
            </li>
            <li><a href="https://github.com/mkobylarz">mkobylarz</a>
            </li>
            <li><a href="https://github.com/crizzis">Krzysztof Sierszeń</a>
            </li>
            <li><a href="https://github.com/Jenson3210">Jenson3210</a>
            </li>
        </ul>
    </body>
</html>