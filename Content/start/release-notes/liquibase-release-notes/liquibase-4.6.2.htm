<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:searchable="False">
    <head><title><MadCap:variable name="Heading.Level1" /></title>
        <link rel="canonical" href="https://docs.liquibase.com/start/release-notes/liquibase-release-notes/liquibase-4.6.2.html" />
        <meta name="description" content="Liquibase 4.6.2 release notes." />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    </head>
    <body>
        <h1><MadCap:variable name="General.Liquibase" /> 4.6.2 Release Notes</h1>
        <p><b>Full Changelog:</b>&#160;<a href="https://github.com/liquibase/liquibase/compare/v4.6.1...v4.6.2">v4.6.1...v4.6.2</a> (December 1, 2021)</p>
        <p>This release includes community-contributed pull requests, <MadCap:variable name="General.LBCommunity" /> and <MadCap:variable name="General.LBPro" /> bug fixes, and a new Policy Checks functionality.</p>
        <p>Here is a closer look at what we improved in the latest release.</p>
        <h3>Notable Changes</h3>
        <p><MadCap:variable name="General.Liquibase" /> 4.6.2 introduces the multiple objects  Policy Check that allows you to define and check the naming pattern for multiple types of objects rather than one type of object. For example, you do not want to have a dash in the table, column, and sequence names. With the multiple objects check, you can specify a pattern to check for dashes and choose tables, columns, and sequences as the objects to check. In version 4.6.2, the check is available for:</p>
        <ul>
            <li>Table</li>
            <li>Column</li>
            <li>Sequence</li>
        </ul>
        <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">For more information, see <MadCap:xref href="../../../liquibase-pro/policy-checks/workflows/multiple-objects.htm">Multiple Objects Policy Check</MadCap:xref> [DAT-8444]</p>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot style="font-size: 12pt;">The logging of SQL  statements and execution output</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <p><MadCap:variable name="General.Liquibase" /> 4.6.2 includes the <code>liquibase.sql.logLevel</code> configuration option to control the level at which SQL is logged. The default value is <code>FINE</code>.</p>
                <p>You can run the <code>--<MadCap:xref href="../../../parameters/sql-log-level.htm">sql-log-level</MadCap:xref></code> parameter with the <code>--log-level &lt;level&gt;</code> parameter in the CLI:</p><pre xml:space="preserve"><code class="language-text">liquibase --sql-log-level &lt;FINE|INFO|WARNING|SEVERE|OFF&gt; --log-level=&lt;FINE|INFO|WARNING|SEVERE|OFF&gt; 
--log-file=log.txt update --changelog-file=&lt;changelog&gt;</code></pre>
                <p>You can also set the parameter as follows:</p>
                <ul>
                    <li><code>liquibase.sql.logLevel: &lt;FINE|INFO|SEVERE|WARNING|OFF&gt;</code> in the <MadCap:variable name="General.Liquibase" /> properties file</li>
                    <li><code>LIQUIBASE_SQL_LOG_LEVEL=&lt;FINE|INFO|SEVERE|WARNING|OFF&gt;</code> as an environment variable   [<a href="https://github.com/liquibase/liquibase/pull/1520">PR#1520</a>] [<a href="https://github.com/nvoxland">nvoxland</a>]</li>
                </ul>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot style="font-size: 12pt;">An additional <code>liquibase_libs</code> directory</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <p> When you run <MadCap:variable name="General.Liquibase" /> in the CLI, the executables generate a classpath with the <code>.jar</code> files from the <code>LIQUIBASE_HOME</code> and <code>LIQUIBASE_HOME/lib</code> directories. <MadCap:variable name="General.Liquibase" /> 4.6.2 adds the ability to load an additional directory of <code>liquibase_libs</code> in the current working directory to the classpath. With the <code>liquibase_libs</code> directory located in the <code>/lib</code> directory, projects can have separate extensions, drivers, and versions specific to a project [<a href="https://github.com/liquibase/liquibase/pull/2015">PR#2015</a>] [<a href="https://github.com/mcred">mcred</a>]</p>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot style="font-size: 12pt;">The <code>validate</code> command in automation</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <p>From now on, the exit code for the <code>validate</code> command running in automation shows <code>1</code> when there is an error. The PR fixes <a href="https://github.com/liquibase/liquibase/issues/1006">PR#1006</a>. [<a href="https://github.com/liquibase/liquibase/pull/2185">PR#2185</a>] [<a href="https://github.com/nvoxland">nvoxland</a>] [<a href="https://github.com/christf">christf</a>]</p>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <h3>Enhancements</h3>
        <ul>
            <li>[PRO] Added the ability to configure the <code>DDL_LOCK_TIMEOUT</code> parameter for Oracle without SQL Plus and define the connection timeout. You can configure <code>DDL_LOCK_TIMEOUT</code> as follows:</li>
            <ul>
                <li><code>liquibase.ddlLockTimeout: &lt;value&gt;</code> in the <MadCap:variable name="General.Liquibase" /> properties file</li>
                <li><code>--ddl-lock-timeout=&lt;value&gt;</code> as a CLI global parameter</li>
                <li><code>LIQUIBASE_DDL_LOCK_TIMEOUT=&lt;int&gt;</code> as an environment variable [DAT-7649]</li>
            </ul>
        </ul>
        <ul>
            <li>Improved the output of the <code>SqlUserDefinedPatternCheck</code> Policy Check copy [DAT-8492]</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/1817">PR#1817</a>] [<a href="https://github.com/stalbrecht">stalbrecht</a>] Added the <code>MSSQLDatabase</code> specific error evaluation when creating <MadCap:variable name="General.databasechangeloglock" /> table</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2180">PR#2180</a>] [<a href="https://github.com/nvoxland">nvoxland</a>] [<a href="https://github.com/eldadko">eldadko</a>] Added support for MySQL function indexes. The PR fixes <a href="https://github.com/liquibase/liquibase/issues/1626">PR#1626</a>.</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/928">PR#928</a>] [<a href="https://liquibase.jira.com/browse/CORE-931">CORE-931</a>] [<a href="https://github.com/RG9">RG9</a>] Added support for the <code>NOT NULL</code> constraint with an initial default value in the <code>addColumn</code><MadCap:variable name="General.changetypes" /></li>
        </ul>
        <h3>Fixes</h3>
        <ul>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2173">PR#2173</a>] [<a href="https://github.com/wwillard7800">wwillard7800</a>] [<a href="https://github.com/deci260">deci260</a>] Fixed the  issue with handling multi-column indexes during the JSON snapshot. The PR fixes <a href="https://github.com/liquibase/liquibase/issues/1260">PR#1260</a>.</li>
            <li>[<a href="https://github.com/liquibase/liquibase/issues/1793">PR#1793</a>] [<a href="https://github.com/janjicandjelka8">janjicandjelka8</a>] Fixed the handling of the <code>remarks</code><MadCap:variable name="General.Param/Attribute" /> in a primary key column tag for MariaDB</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/1894">PR#1894</a>] [<a href="https://github.com/KushnirykOleh">KushnirykOleh</a>] Fixed the time data type to be precise for PostgreSQL. The PR fixes <a href="https://github.com/liquibase/liquibase/issues/1774">PR#1774</a>.</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/1970">PR#1970</a>] [<a href="https://github.com/nvoxland">nvoxland</a>]  Fixed the handling of the <code>addColumn</code><MadCap:variable name="General.changetypes" /> in SQLite</li>
            <li>[<a href="https://github.com/liquibase/liquibase/issues/1995">PR#1995</a>] [<a href="https://github.com/szandany">szandany</a>] Fixed the <code>generate-changelog</code> command to generate the <code>NUMERIC[]</code> data type for PostgreSQL correctly</li>
            <li>[<a href="https://github.com/liquibase/liquibase/issues/1990">PR#1990</a>] [<a href="https://github.com/JayWelborn">JayWelborn</a>] Fixed the SQL generated by the <code>alterSequence</code><MadCap:variable name="General.changetypes" /> to be compatible with the Oracle, PostgreSQL, MariaDB, and MSSQL databases</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2020">PR#2020</a>] [<a href="https://github.com/nvoxland">nvoxland</a>] [<a href="https://github.com/dewa-actico">dewa-actico</a>] Fixed the handling of nested <MadCap:variable name="General.changelog" /> preconditions. The PR fixes <a href="https://github.com/liquibase/liquibase/issues/1624">PR#1624</a>.</li>
            <li>Fixed the naming of the checks settings file shown as null if the file was corrupted [DAT-8553]</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2021">PR#2021</a>] [<a href="https://github.com/nvoxland">nvoxland</a>] [<a href="https://github.com/zamani84">zamani84</a>] Fixed the issue with <MadCap:variable name="General.Liquibase" /> escaping the backslash in values stored in objects. The PR fixes <a href="https://github.com/liquibase/liquibase/issues/1598">PR#1598</a>.</li>
            <li>[<a href="https://github.com/liquibase/liquibase/issues/2083">PR#2083</a>] [<a href="https://github.com/jamey-clari">jamey-clari</a>] Enabled the update operations to continue if the <MadCap:variable name="General.databasechangeloglock" /> table already exists, which helps to serialize all processes following schema creation.</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2167">PR#2167</a>] [<a href="https://github.com/nvoxland">nvoxland</a>] [<a href="https://github.com/obovsunivskyii">obovsunivskyii</a>] Fixed the <code>--verbose</code> flag used in the <code>unexpected-changesets</code> command. The PR fixes <a href="https://github.com/liquibase/liquibase/issues/1987">PR#1987</a>.</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2168">PR#2168</a>] [<a href="https://github.com/nvoxland">nvoxland</a>] [<a href="https://github.com/gilles-gosuin">gilles-gosuin</a>] Fixed the parsing logic for <code>YAMLChangelogParser</code> and <code>changeLogId</code> in a Map. The PR fixes <a href="https://github.com/liquibase/liquibase/issues/1988">PR#1988</a>.</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2102">PR#2102</a>] [<a href="https://github.com/prakashseervi">prakashseervi</a>] Implemented the handling of the <code>GENERATED ALWAYS AS</code> clause while creating a table for PostgreSQL</li>
            <li>[<a href="https://github.com/liquibase/liquibase/issues/2029">PR#2029</a>] [<a href="https://github.com/Marcono1234">Marcono1234</a>] Fixed the <code>LOCKGRANTED</code> column to include time zone information in the <MadCap:variable name="General.databasechangeloglock" /> table</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2059">PR#2059</a>] [<a href="https://github.com/wardvijf">wardvijf</a>] Fixed the support for custom <code>DB2Database</code> implementations. The PR fixes <a href="https://github.com/liquibase/liquibase/issues/2058">PR#2058</a>.</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2171">PR#2171</a>] [<a href="https://github.com/logantracyo">logantracyo</a>] Fixed typos in the <code>ColumnConfig.java</code> documentation</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2189">PR#2189</a>] [<a href="https://github.com/nvoxland">nvoxland</a>] Fixed the classpath to include files with the <code>relativeToChangelog=true</code> parameter for Spring Boot</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2216">PR#2216</a>] [<a href="https://github.com/tkalmar">tkalmar</a>] Fixed the log message for PostgreSQL versions</li>
            <li>[PRO] Fixed the <code>snapshot</code> command failing against CockroachDB with the <MadCap:variable name="General.LBPro" /> license key applied [DAT-8253]</li>
            <li>Fixed the dependency order for a <MadCap:variable name="General.changelog" /> file with the <code>addPrimaryKey</code><MadCap:variable name="General.changetypes" /> generated by the <code>generate-changelog</code> command for PostgreSQL [DAT-8256]</li>
            <li>[PRO] Fixed the following environment variables <code>LIQUIBASE_COMMAND_CHECKS_CONFIGURE_CHECKS_SETTINGS_FILE</code>, <code>LIQUIBASE_COMMAND_CHECKS_RUN_CHECKS_SETTINGS_FILE</code>, and <code>LIQUIBASE_COMMAND_CHECKS_SHOW_CHECKS_SETTINGS_FILE</code> to be detected when running the Policy Checks commands [DAT-8546]</li>
            <li>Fixed the default value of the <code>strict</code> parameter. The default value is <code>false</code>. You can set the <code>strict</code> parameter as follows:<ul><li><code>liquibase.strict=false|true</code> in the <MadCap:variable name="General.Liquibase" /> properties file</li><li><code>--strict=false|true</code> as a CLI parameter</li><li><code>LIQUBIASE_STRICT=false|true</code> as an environment variable [DAT-8547]</li></ul></li>
            <li>Fixed Policy Checks reporting only the first failure in a <MadCap:variable name="General.changeset" /> to report all failures found [DAT-8583]</li>
            <li>Fixed the <MadCap:variable name="General.Liquibase" /> Cassandra extension failing when username and password are enabled [LB-2115]</li>
        </ul>
        <h3>Contributions</h3>
        <p>Our community has built a lot. Thanks to everyone who contributes and helps make the Liquibase community strong, including the following first-time contributors:</p>
        <ul>
            <li><a href="https://github.com/zamani84">zamani84</a>
            </li>
            <li><a href="https://github.com/dewa-actico">dewa-actico</a>
            </li>
            <li><a href="https://github.com/gilles-gosuin">gilles-gosuin</a>
            </li>
            <li><a href="https://github.com/obovsunivskyii">obovsunivskyii</a>
            </li>
            <li><a href="https://github.com/cypressious">cypressious</a>
            </li>
            <li><a href="https://github.com/christf">christf</a>
            </li>
            <li><a href="https://github.com/eldadko">eldadko</a>
            </li>
            <li><a href="https://github.com/RG9">RG9</a>
            </li>
            <li><a href="https://github.com/janjicandjelka8">janjicandjelka8</a>
            </li>
            <li><a href="https://github.com/JayWelborn">JayWelborn</a>
            </li>
            <li><a href="https://github.com/Marcono1234">Marcono1234</a>
            </li>
            <li><a href="https://github.com/prakashseervi">prakashseervi</a>
            </li>
            <li><a href="https://github.com/stalbrecht">stalbrecht</a>
            </li>
            <li><a href="https://github.com/logantracyo">logantracyo</a>
            </li>
            <li><a href="https://github.com/tkalmar">tkalmar</a>
            </li>
            <li><a href="https://github.com/deci260">deci260</a>
            </li>
        </ul>
    </body>
</html>