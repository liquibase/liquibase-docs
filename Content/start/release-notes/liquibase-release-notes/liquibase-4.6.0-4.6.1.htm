<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:searchable="False">
    <head><title><MadCap:variable name="Heading.Level1" /></title>
        <link rel="canonical" href="https://docs.liquibase.com/start/release-notes/liquibase-release-notes/liquibase-4.6.0-4.6.1.html" />
        <meta name="description" content="Liquibase 4.6.0 and 4.6.1 release notes." />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    </head>
    <body>
        <h1><MadCap:variable name="General.Liquibase" /> 4.6.0 and 4.6.1 Release Notes</h1>
        <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"><MadCap:variable name="General.Liquibase" /> 4.6.0 release has the wrong version of the <MadCap:variable name="General.LBPro" />&#160;<code>XSD</code> file. <MadCap:variable name="General.Liquibase" /> 4.6.1  release is a patch release that fixes the issue.</p>
        <p><b>Full Changelog:</b>&#160;<a href="https://github.com/liquibase/liquibase/compare/v4.5.0...v4.6.1">v4.5.0...v4.6.1</a> (November 4, 2021)</p>
        <h2><MadCap:variable name="General.Liquibase" /> 4.6.0 Release</h2>
        <p>This release includes many community-contributed pull requests, <MadCap:variable name="General.LBCommunity" /> and <MadCap:variable name="General.LBPro" /> bug fixes.</p>
        <p>Here is a closer look at what we improved in the latest release.</p>
        <h3>Notable Changes</h3>
        <p>Starting with version 4.6.0, the Windows and Mac/Linux <MadCap:variable name="General.Liquibase" /> installers and the <code>.tar.gz</code> and <code>.zip</code> installation files include the most common JDBC drivers in the installation package:</p>
        <ul>
            <li>DB2</li>
            <li>Firebird</li>
            <li>H2</li>
            <li>HSQLDB</li>
            <li>PostgreSQL</li>
            <li>MariaDB</li>
            <li>MSSQL</li>
            <li>Oracle</li>
            <li>SQLite</li>
        </ul>
        <p>To use the available drivers, see the <MadCap:xref href="../../../workflows/liquibase-community/adding-and-updating-liquibase-drivers.htm">Adding and Updating [%=General.Liquibase%] Drivers</MadCap:xref> documentation. Also, check the page for the cases when you need different drivers. [<a href="https://github.com/liquibase/liquibase/pull/2031">PR#2031</a>] [DAT-7438]</p>
        <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">Since <MadCap:variable name="General.Liquibase" /> 4.6.0 provides driver jar files, the size of the installation package is bigger than the size of the installation package in earlier versions.</p>
        <h3><MadCap:variable name="General.LBPro" /> Changes</h3>
        <ul>
            <li>Quality checks have configurable severity and exit codes [DAT-8171]</li>
            <p class="tip" MadCap:autonum="&lt;b&gt;Tip: &lt;/b&gt;">For more information, see the <MadCap:xref href="../../../commands/quality-checks/workflows/use-quality-checks-auto-severity-exit-code.htm">Use Quality Checks in Automation: Severity and Exit Code</MadCap:xref> documentation.</p>
        </ul>
        <ul>
            <li>Quality checks include the <code>bulk-set</code> command [DAT-8289]</li>
            <p class="tip" MadCap:autonum="&lt;b&gt;Tip: &lt;/b&gt;">For more information, see the <MadCap:xref href="../../../commands/quality-checks/subcommands/bulk-set.htm"> bulk-set</MadCap:xref> documentation.</p>
            <li>
                <p>New quality checks:</p>
                <ul>
                    <li>Static check: Warn when a table truncation is detected [DAT-7933]</li>
                    <li>Dynamic check: Warn when granting specific privileges [DAT-7972]</li>
                    <li>Static check: Warn when the <code>GRANT WITH ADMIN OPTION</code> statement is detected [DAT-7955]</li>
                    <li>Static check: Warn when the <code>GRANT WITH GRANT OPTION</code> statement is detected [DAT-7995]</li>
                </ul>
                <p class="tip" MadCap:autonum="&lt;b&gt;Tip: &lt;/b&gt;">For more information, see the <MadCap:xref href="../../../commands/quality-checks/checks/home.htm">List of Quality Checks</MadCap:xref> documentation.</p>
            </li>
            <li>The <code>liquibase.checks-settings.conf</code> file is unencoded in version 4.6.0 and later versions  for easier inspection that allows you to resolve a merge conflict in source control. <MadCap:variable name="General.Liquibase" /> backs up encoded files  in the working directory, and you can still use previous versions by specifying the <code>--checks-settings-file</code> parameter in the CLI, as an environment variable, or as a property in the <MadCap:variable name="General.Liquibase" /> properties file. [DAT-8473]</li>
        </ul>
        <p>If you use <MadCap:variable name="General.Hub" />, check the <MadCap:variable name="General.Hub" /> DevOps Metrics documentation to learn more about DevOps metrics that provide the data to optimize your DevOps performance.</p>
        <h3>Enhancements</h3>
        <ul>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/1975">PR#1975</a>] [<a href="https://github.com/nvoxland">nvoxland</a>] Changed the XSD default <code>errorOnMissingOrEmpty</code><MadCap:variable name="General.Param/Attribute" /> to <code>true</code> for the <code>includeAll</code><MadCap:variable name="General.Param/Attribute" /> in the XML <MadCap:variable name="General.changelog" /> file. The PR fixes <a href="https://github.com/liquibase/liquibase/issues/1960">PR#1960</a>.</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/1993">PR#1993</a>] [<a href="https://github.com/siudeks">siudeks</a>] Added support for deferrable primary keys in the <code>createTable</code><MadCap:variable name="General.changetypes" />. The PR fixes <a href="https://github.com/liquibase/liquibase/issues/1597">PR#1597</a>.</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/1986">PR#1986</a>] [<a href="https://github.com/alexey-ivanov-official">alexey-ivanov-official</a>] [<a href="https://github.com/parthdesai21google">parthdesai21google</a>] Added support for the <code>constraintName</code><MadCap:variable name="General.Param/Attribute" /> in the <code>dropNotNullConstraint</code><MadCap:variable name="General.Param/Attribute" />. Updated the <code>addNotNullConstraint</code> rollback logic to pass the constraint name to the generated <code>dropNotNullConstraint</code> change. The PR fixes <a href="https://github.com/liquibase/liquibase/issues/1492">PR#1492</a> and <a href="https://github.com/liquibase/liquibase/issues/1942">PR#1942</a>.</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2114">PR#2114</a>] [<a href="https://github.com/nvoxland">nvoxland</a>] Improved code and added tests in the <code>liquibase.util</code> package</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/1679">PR#1679</a>] [<a href="https://github.com/thomseno">thomseno</a>] Changed the <code>datetime</code> type to <code>datetime2</code> for the <code>timestamp</code> type on SQL Server.</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2144">PR#2144</a>] [<a href="https://github.com/matejsp">matejsp</a>] Changed the default encoding  to <code>UTF-8</code>. Added a new global <code>liquibase.fileEncoding</code> setting, which you can set as <code>--file-encoding=ASCII</code> in the CLI, <code>liquibase.fileEncoding: ASCII</code> in the <MadCap:variable name="General.Liquibase" /> properties file (<code><MadCap:variable name="General.liquiPropFile" /></code>), and <code>LIQUIBASE_FILE_ENCODING=ASCII</code> as an environment variable. The PR fixes <a href="https://github.com/liquibase/liquibase/issues/1445">PR#1445</a>.</li>
            <li>[PRO] Added a message to warn <MadCap:variable name="General.LBPro" /> users when they have noncompliant <MadCap:variable name="General.Liquibase" /> environment variables if the <code>strict</code><MadCap:variable name="General.Param/Attribute" /> is set to <code>true</code> [DAT-6946]</li>
        </ul>
        <h3>Fixes</h3>
        <ul>
            <li>[PRO] Fixed the issue with <MadCap:variable name="General.Liquibase" /> 4.4.0 and later versions to prompt if the <MadCap:variable name="General.LBPro" /> license key is expired or invalid. [DAT-7862]</li>
            <li>[PRO] Fixed <MadCap:variable name="General.LBPro" /> SQL Plus <MadCap:variable name="General.changeset" />s failures with the Kerberos setup [DAT-8102]</li>
            <li>[PRO] Fixed the <code>snapshot</code> command using for CockroachDB with <MadCap:variable name="General.LBPro" /> license key [DAT-8253]</li>
            <li>Fixed an issue with running quality checks on Windows when using a configuration file created on Linux/macOS [DAT-8298]</li>
            <li>Fixed the <code>ChangesetCommentCheck</code> check to handle a lack of comments in the  <code>tagDatabase</code><MadCap:variable name="General.changetypes" /> [DAT-8313]</li>
            <li>Fixed the default severity for the existing <code>liquibase.checks-settings.conf</code> files [DAT-8328]</li>
            <li>Fixed the <code>customize</code> and <code>copy</code> commands to handle directories with spaces [DAT-8389]</li>
            <li>Fixed the <code>schemas</code> and <code>includeSchema</code><MadCap:variable name="General.Param/Attribute" />s for the <code>generate-changelog</code> command in <MadCap:variable name="General.Liquibase" /> 4.4 and later versions [DAT-8133]</li>
            <li>Fixed the quality checks customization issue when using Git Bash [DAT-8392]</li>
            <li>Fixed the message for the quality checks severity customization [DAT-8479]</li>
            <li>Fixed the quality checks halting execution when the checks settings file contains entries for rules which do not exist in the system. <MadCap:variable name="General.Liquibase" /> skips unknown checks and continues the execution. [DAT-8507]</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/1407">PR#1407</a>] [<a href="https://github.com/pirocraft">pirocraft</a>] Fixed the issue with <MadCap:variable name="General.Liquibase" /> inserting a wrong default datetime value into MySQL. The PR fixes <a href="https://github.com/liquibase/liquibase/issues/1395">PR#1395</a>.</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/1415">PR#1415</a>] [<a href="https://github.com/Alex1OPS">Alex1OPS</a>] Fixed the <code>insert</code><MadCap:variable name="General.changetypes" /> with the <code>valueSequenceNext</code> and <code>valueSequenceCurrent</code><MadCap:variable name="General.Param/Attribute" />s to use the schema specified on a statement level of a <MadCap:variable name="General.changeset" />. The PR fixes <a href="https://github.com/liquibase/liquibase/issues/1304">PR#1304</a>.</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/1931">PR#1931</a>] [<a href="https://github.com/nvoxland">nvoxland</a>] Fixed the issue with <MadCap:variable name="General.Liquibase" /> throwing a null pointer exception in the CLI if the <code>LicenseService</code> interface cannot be loaded because of the missing <code>jaxb</code> dependencies</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2001">PR#2001</a>] [<a href="https://github.com/haster">haster</a>] Fixed the <code>UniqueConstraintSnapshotGenerator</code> class switching to a bulk query after four unique constraints. The PR fixes <a href="https://github.com/liquibase/liquibase/issues/1996">PR#1996</a>.</li>
            <li>[<a href="https://github.com/liquibase/liquibase/issues/1973">PR#1973</a>] [<a href="https://github.com/doakd">doakd</a>] Fixed the issue with <MadCap:variable name="General.Liquibase" /> formatted SQL <MadCap:variable name="General.changeset" />s that are skipped if there is a space in the <code>--changeset</code> line. The PR fixes <a href="https://github.com/liquibase/liquibase/issues/1919">PR#1919</a>.</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/104">PR#104</a>] [<a href="https://github.com/nvoxland">nvoxland</a>] Fixed the <code>drop-all</code> command failing in the PostgreSQL database when the Liquibase-Cassandra extension is in the <code>liquibase/lib</code> directory. The PR fixes <a href="https://github.com/liquibase/liquibase-cassandra/pull/47">PR#47</a>.</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/2006">PR#2006</a>] [<a href="https://github.com/kdenis4">kdenis4</a>] Fixed <MadCap:variable name="General.Liquibase" /> not reading the <code>liquibaseSchemaName</code> and <code>liquibaseCatalogName</code> configuration settings. The PR fixes <a href="https://github.com/liquibase/liquibase/issues/2000">PR#2000</a>.</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/1465">PR#1465</a>] [<a href="https://github.com/danielthegray">danielthegray</a>] Fixed the issue with <MadCap:variable name="General.Liquibase" /> incorrectly inserting a long CLOB value in the database. Added integration tests.</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/1974">PR#1974</a>] [<a href="https://github.com/gjvoosten">gjvoosten</a>] Fixed the issue with <MadCap:variable name="General.Liquibase" /> not handling  case-sensitive primary key names in the <code>dropPrimaryKey</code><MadCap:variable name="General.changetypes" /> for PostgreSQL. The PR fixes <a href="https://github.com/liquibase/liquibase/issues/1933">PR#1933</a>.</li>
            <li>[<a href="https://github.com/liquibase/liquibase/pull/1941">PR#1941</a>] [<a href="https://github.com/meisenla">meisenla</a>] [<a href="https://github.com/ckulenkampff">ckulenkampff</a>] Fixed the <code>sqlFile</code><MadCap:variable name="General.changetypes" /> to handle the <code>encoding</code><MadCap:variable name="General.Param/Attribute" />. The PR fixes <a href="https://github.com/liquibase/liquibase/issues/1760">PR#1760</a>.</li>
        </ul>
        <h3>Contributions</h3>
        <p>Our community has built a lot. Thanks to everyone who contributes and helps make the <MadCap:variable name="General.Liquibase" /> community strong, including the following first-time contributors:</p>
        <ul>
            <li><a href="https://github.com/doakd">doakd</a>
            </li>
            <li><a href="https://github.com/kdenis4">kdenis4</a>
            </li>
            <li><a href="https://github.com/siudeks">siudeks</a>
            </li>
            <li><a href="https://github.com/alexey-ivanov-official">alexey-ivanov-official</a>
            </li>
            <li><a href="https://github.com/parthdesai21google">parthdesai21google</a>
            </li>
            <li><a href="https://github.com/matejsp">matejsp</a>
            </li>
            <li><a href="https://github.com/meisenla">meisenla</a>
            </li>
        </ul>
    </body>
</html>