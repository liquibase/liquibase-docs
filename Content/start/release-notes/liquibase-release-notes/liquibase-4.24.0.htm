<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:searchable="False">
    <head><title><MadCap:variable name="Heading.Level1" /></title>
        <link rel="canonical" href="https://docs.liquibase.com/start/release-notes/liquibase-release-notes/liquibase-4.24.0.html" />
        <meta name="description" content="Liquibase 4.24.0 release notes." />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    </head>
    <body>
        <h1>Liquibase 4.24.0 Release Notes</h1>
        <p>Liquibase 4.24.0 is a major release.</p>
        <p>See <a href="https://github.com/liquibase/liquibase/releases/tag/v4.24.0">GitHub formatted release notes</a> for more information. Full <MadCap:variable name="General.changelog" />: <a href="https://github.com/liquibase/liquibase/compare/v4.23.2...v4.24.0">4.23.2–4.24.0</a> (October 2, 2023)</p>
        <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">For <MadCap:variable name="General.LBPro" /> users of <a href="../../../concepts/changelogs/attributes/runwith.htm">native executors</a>, if you have <a href="../../../concepts/changelogs/changeset-checksums.htm">checksum</a> issues in 4.19.0–4.23.0, please skip any previous release and upgrade to the 4.24.0 release.</p>
        <h2><MadCap:variable name="General.LBPro" />
        </h2>
        <h3>Liquibase Flows</h3>
        <ul>
            <li><a href="../../../liquibase-pro/flow/home.htm">Flow file</a> variables are shared across "nested" flow files and can be passed through multiple flow files.</li>
            <li>Flow files running <a href="../../../liquibase-pro/policy-checks/home.htm">quality checks</a> will now exit with a <a href="../../../liquibase-pro/policy-checks/workflows/automation-severity-exit-code.htm">return code</a> from the highest return code triggered by any check.</li>
            <li>Related tickets: [DAT-15130] [<a href="https://github.com/liquibase/liquibase-pro/pull/1178">#1178</a>], [DAT-15343] [<a href="https://github.com/liquibase/liquibase-pro/pull/1172">#1172</a>], [DAT-15511] [(<a href="https://github.com/liquibase/liquibase-pro/pull/1173">#1173</a>], [DAT-15753] [<a href="https://github.com/liquibase/liquibase-pro/pull/1184">#1184</a>], [DAT-15799] [<a href="https://github.com/liquibase/liquibase-pro/pull/1202">#1202</a>], [<a href="https://github.com/liquibase/liquibase-pro/pull/1207">#1207</a>], [<a href="https://github.com/liquibase/liquibase-pro/pull/1266">#1266</a>].</li>
        </ul>
        <h3>Structured Logging (Observability)</h3>
        <ul>
            <li>You can now add custom (user-defined) tags into your <a href="../../../liquibase-pro/observability/structured-logging.htm">structured logs</a>. These tags can be used later to segment your reporting. For instance, you can add tags that indicate the team, pipeline, or environment (and any other attributes that are meaningful to your organization) when reporting on Liquibase events.<ul><li>Custom data is now included in every log message. This enables you to use dashboard queries and reports, which depend on these custom key:values pairs. [DAT-15572] [<a href="https://github.com/liquibase/liquibase-pro/pull/1150">#1150</a>]</li><li>Custom data can also be communicated to Liquibase via <a href="../../../concepts/connections/liquibase-environment-variables.htm">environment variables</a> and <a href="../../../concepts/changelogs/property-substitution.html">property substitution</a>. [DAT-15214] [<a href="https://github.com/liquibase/liquibase-pro/pull/1165">#1165</a>]</li></ul></li>
            <li>Security Improvement<ul><li>Sensitive information is now obfuscated for people using passwords in their JDBC URL strings in structured logging. [DAT-15860] [<a href="https://github.com/liquibase/liquibase/pull/4902">#4902</a>] [<a href="https://github.com/liquibase/liquibase-pro/pull/1233">#1233</a>]</li></ul></li>
        </ul>
        <h2><MadCap:variable name="General.LBCommunity" /> and <MadCap:variable name="General.LBPro" /></h2>
        <h3>Liquibase capability enhancements</h3>
        <ul>
            <li>The <code><MadCap:xref href="../../../commands/inspection/generate-changelog.html">generate-changelog</MadCap:xref></code> and <code><MadCap:xref href="../../../commands/inspection/diff-changelog.html">diff-changelog</MadCap:xref></code> commands now support the <code>--<a href="../../../concepts/changelogs/attributes/labels.html">labels</a></code> and <code>--<a href="../../../concepts/changelogs/attributes/contexts.html">contextFilter</a></code> arguments. The specified values will be included as <MadCap:variable name="General.Param/Attribute" />s for each generated <MadCap:variable name="General.changeset" />. [DAT-14793] [<a href="https://github.com/liquibase/liquibase/pull/4660">#4660</a>]</li>
            <li>The <code><MadCap:xref href="../../../commands/inspection/diff.htm">diff</MadCap:xref></code>, <code><MadCap:xref href="../../../commands/inspection/diff-changelog.html">diff-changelog</MadCap:xref></code>, and <code><MadCap:xref href="../../../commands/inspection/snapshot-reference.html">snapshot-reference</MadCap:xref></code> commands now allow you to specify the <code>referenceLiquibaseCatalogName</code> and <code>referenceLiquibaseSchemaName</code> arguments. [<a href="https://github.com/liquibase/liquibase/pull/4352">#4352</a>]</li>
            <li>The <code><MadCap:xref href="../../../commands/update/update.html">update</MadCap:xref></code> command summary reports that you can enable with the <code>--show-summary</code> argument can now be selectively sent to the <code>console</code>, <code>log</code>, or <code>all</code> with the <code>--show-summary-output</code> argument (prior to this release, they went to both the console and log). [<a href="https://github.com/liquibase/liquibase/pull/4395">#4395</a>] [<a href="https://github.com/liquibase/liquibase/pull/4574">#4574</a>]</li>
            <li>The <code><MadCap:xref href="../../../change-types/includeall.html">includeAll</MadCap:xref></code> tag now supports an optional <code>endsWithFilter</code> attribute that directs Liquibase to only include files ending with the value specified by the new attribute. All other files located by the specified <code>path</code> attribute will be skipped and will not be included as deployable changes. [<a href="https://github.com/liquibase/liquibase/pull/4402">#4402</a>]</li>
            <li>The new <code><MadCap:xref href="../../../change-types/remove-change-set-property.htm">removeChangeSetProperty</MadCap:xref></code>&#160;<MadCap:variable name="General.changetypes" /> makes it possible to use modeled changes (XML/YAML/JSON) that have limited support across database platforms. <code>removeChangeSetProperty</code> directs Liquibase to remove unavailable properties specified by the remove property from specific <MadCap:variable name="General.changetypes" />s for the databases specified by the <code>dbms</code> property. <code>removeChangeSetProperty</code> will be applied to all <MadCap:variable name="General.changetypes" />s in the <MadCap:variable name="General.changelog" /> specified by the <code>change</code> property. [<a href="https://github.com/liquibase/liquibase/pull/3978">#3978</a>]<ul><li><code>&lt;removeChangeSetProperty dbms="mysql, postgresql" change="addColumn" remove="afterColumn" /&gt;</code></li></ul></li>
            <li>Enhanced the <code><MadCap:xref href="../../../commands/change-tracking/history.html">history</MadCap:xref></code> command output to include a column for any tags created by the Liquibase "<code><MadCap:xref href="../../../commands/utility/tag.html">tag</MadCap:xref></code>" command. [DAT-15244] [<a href="https://github.com/liquibase/liquibase/pull/4805">#4805</a>]</li>
            <li>Enhanced <code><MadCap:xref href="../../../change-types/modifychangesets.htm">modifyChangeSets</MadCap:xref></code> to allow users to use both <code><MadCap:xref href="../../../change-types/include.html">include</MadCap:xref></code> and <code><MadCap:xref href="../../../change-types/includeall.html">includeAll</MadCap:xref></code> in the same <MadCap:variable name="General.changeset" />. Before this change, you could only use one or the other. [<a href="https://github.com/liquibase/liquibase/pull/4680">#4680</a>]</li>
        </ul>
        <h3>User experience improvements</h3>
        <ul>
            <li>Liquibase changed how it tracks changes (the <a href="../../../concepts/changelogs/changeset-checksums.htm">checksum</a> algorithm) in 4.20.0. Some kinds of previously executed changes were being re-executed. This is now resolved—Liquibase will properly migrate those changes to the new checksum algorithm and no longer try to re-execute those changes. [<a href="https://github.com/liquibase/liquibase/pull/4762">#4762</a>]</li>
            <li>Detection of duplicate Liquibase Core and/or Commercial <code>.jar</code> files in your Liquibase installation and error message alerting you to this (unlikely) situation. [DAT-15837] [<a href="https://github.com/liquibase/liquibase/pull/4905">#4905</a>]</li>
            <li>Addressed issues that were keeping Liquibase from running on Windows installations where <code>JAVA_HOME</code> was not set. [<a href="https://github.com/liquibase/liquibase/pull/4803">#4803</a>] [<a href="https://github.com/liquibase/liquibase/pull/4845">#4845</a>]</li>
            <li>Fixed a situation where Liquibase would not set the <code><a href="../../../concepts/tracking-tables/databasechangeloglock-table.html">DATABASECHANGELOGLOCK</a></code> before executing the <code>update</code> command when <code>--<MadCap:xref href="../../../parameters/changelog-lock-wait-time-in-minutes.htm">changelog-lock-wait-time-in-minutes</MadCap:xref>=0</code>. The improvement ensures that Liquibase creates the <code>DATABASECHANGELOGLOCK</code> before command execution. [<a href="https://github.com/liquibase/liquibase/pull/4609">#4609</a>]</li>
            <li>The <a href="../../../concepts/changelogs/preconditions.html">precondition</a> check <code>RowCountPrecondition</code> now works correctly on tables containing more than <code>Integer.MAX_VALUE</code> (2147483647) rows. In previous releases, the check threw a <code>NumericOverflow</code> exception. [<a href="https://github.com/liquibase/liquibase/pull/4725">#4725</a>]</li>
            <li>Liquibase now correctly handles the case where the <code>primaryKeyTablespace</code> attribute of the <a href="../../../change-types/nested-tags/column.htm"><code>constraints</code> tag</a>  is an empty string. The generated SQL now correctly omits the <code>USING&#160;INDEX&#160;TABLESPACE</code> syntax. In previous releases, this syntax was incorrectly included in the generated SQL without a corresponding (and required) tablespace name. [<a href="https://github.com/liquibase/liquibase/pull/4441">#4441</a>]</li>
            <li>Increased tolerance of spaces in <a href="../../../concepts/changelogs/sql-format.html">Formatted SQL <MadCap:variable name="General.changelog" />s</a>. [DAT-15221] [<a href="https://github.com/liquibase/liquibase/pull/4625">#4625</a>]</li>
        </ul>
        <h3>Maven integration improvements</h3>
        <ul>
            <li>The <a href="../../../tools-integrations/maven/home.html">Maven</a> integration now supports the <code><a href="../../../parameters/log-level.htm">logLevel</a></code> property. This gives Maven integration users control over the severity level of log messages sent to the Liquibase logfile. [<a href="https://github.com/liquibase/liquibase/pull/4148">#4148</a>]</li>
        </ul>
        <h3>Database platform improvements</h3>
        <h4>MongoDB</h4>
        <ul>
            <li>MongoDB users can now manage their existing <code>mongosh</code> scripts with Liquibase by adding comments containing Liquibase directives. This makes it easy to bring the power of Liquibase change management into an existing project team using MongoDB.</li>
            <li>For more information, see <MadCap:xref href="../mongodb/mongodb-pro-1.3.0.htm">[%=General.Liquibase%] MongoDB Pro 1.3.0 Release Notes</MadCap:xref>.</li>
        </ul>
        <h4>SQL Anywhere</h4>
        <ul>
            <li>Improved stability and enhanced support<ul><li>Enhancements [<a href="https://github.com/liquibase/liquibase/pull/4537">#4537</a>] [<a href="https://github.com/liquibase/liquibase/pull/4697">#4697</a>]</li><li>Bug fixes [<a href="https://github.com/liquibase/liquibase/pull/4502">#4502</a>] [<a href="https://github.com/liquibase/liquibase/pull/4507">#4507</a>] [<a href="https://github.com/liquibase/liquibase/pull/4515">#4515</a>] [<a href="https://github.com/liquibase/liquibase/pull/4520">#4520</a>] [<a href="https://github.com/liquibase/liquibase/pull/4531">#4531</a>] [<a href="https://github.com/liquibase/liquibase/pull/4598">#4598</a>] [<a href="https://github.com/liquibase/liquibase/pull/4621">#4621</a>] [<a href="https://github.com/liquibase/liquibase/pull/4648">#4648</a>] [<a href="https://github.com/liquibase/liquibase/pull/4651">#4651</a>] [<a href="https://github.com/liquibase/liquibase/pull/4670">#4670</a>] [<a href="https://github.com/liquibase/liquibase/pull/4683">#4683</a>]</li></ul></li>
        </ul>
        <h4>MySQL and MariaDB</h4>
        <ul>
            <li>MySQL and MariaDB now support default values in the <code><MadCap:xref href="../../../commands/inspection/snapshot.html">snapshot</MadCap:xref></code> command. [<a href="https://github.com/liquibase/liquibase/pull/4688">#4688</a>]</li>
            <li>MySQL now correctly maintains <code>BIT(1)</code> and <code>TINYINT(1)</code> data types. Prior to this improvement, MySQL Boolean incorrectly changed <code>TINYINT(1)</code> to <code>BIT(1)</code>. [<a href="https://github.com/liquibase/liquibase/pull/4090">#4090</a>]</li>
        </ul>
        <h4>Oracle</h4>
        <ul>
            <li>Liquibase now supports Oracle's new <code>BOOLEAN</code> data type that was released in Oracle 23c. Prior to this update, Liquibase converted the <code>BOOLEAN</code> data type to the type <code>NUMBER(1)</code>. [<a href="https://github.com/liquibase/liquibase/pull/4579">#4579</a>]</li>
            <li>To improve compatibility, the Oracle JDBC driver was downgraded to the most recent long-term support&#160;(LTS) version, series 19.x. The previously shipped Oracle JDBC driver was a development version (version 23.x). [<a href="https://github.com/liquibase/liquibase/pull/4909">#4909</a>] [<a href="https://github.com/liquibase/liquibase-pro/pull/1237">#1237</a>]</li>
        </ul>
        <h4>DB2 LUW</h4>
        <ul>
            <li>DB2 LUW performance improvements for the <code><MadCap:xref href="../../../commands/inspection/snapshot.html">snapshot</MadCap:xref></code> and <code><MadCap:xref href="../../../commands/inspection/diff.htm">diff</MadCap:xref></code> commands. [<a href="https://github.com/liquibase/liquibase/pull/4799">#4799</a>]</li>
            <li>DB2 LUW now supports XML data types in the <code>snapshot</code> and <code>diff</code> commands. [DAT-12878] [<a href="https://github.com/liquibase/liquibase/pull/4827">#4827</a>]</li>
            <li>DB2 LUW now supports the <code>replaceIfExists="true"</code> attribute in <code><MadCap:xref href="../../../change-types/create-procedure.html">createProcedure</MadCap:xref></code>&#160;<MadCap:variable name="General.changeset" />s, enabling Liquibase to create SQL with <code>REPLACE OR EXISTS</code> prepended to procedure definitions. [<a href="https://github.com/liquibase/liquibase/pull/4404">#4404</a>]</li>
        </ul>
        <h4>DB2 z/OS</h4>
        <ul>
            <li>DB2 z/OS performance improvements for the <code>snapshot</code> and <code>diff</code> commands. [<a href="https://github.com/liquibase/liquibase/pull/4387">#4387</a>]</li>
            <li>DB2 z/OS now supports the <code>replaceIfExists="true"</code> attribute in <code><MadCap:xref href="../../../change-types/create-procedure.html">createProcedure</MadCap:xref></code>&#160;<MadCap:variable name="General.changeset" />s, enabling Liquibase to create SQL with <code>REPLACE OR EXISTS</code> prepended to procedure definitions. [<a href="https://github.com/liquibase/liquibase/pull/4404">#4404</a>]</li>
        </ul>
        <h4>PostgreSQL</h4>
        <ul>
            <li>Fix bug in PostgreSQL <code>sequenceExists</code> precondition validation check that caused it to return the incorrect result. [<a href="https://github.com/liquibase/liquibase/pull/4613">#4613</a>]</li>
        </ul>
        <h4>H2</h4>
        <ul>
            <li>Update H2 to correctly support the database's <a href="http://h2database.com/html/advanced.html#keywords">reserved words</a> for both H2 V1.0 and H2 V2.0. [<a href="https://github.com/liquibase/liquibase/pull/4052">#4052</a>]</li>
            <li>Fix in H2 for minor performance regression introduced in Liquibase 4.23.1 where the <MadCap:xref href="../../../concepts/tracking-tables/databasechangelog-table.html">[%=General.databasechangelog%] table</MadCap:xref> was initialized multiple times. It is now correctly initialized once, when the table doesn't already exist. [<a href="https://github.com/liquibase/liquibase/pull/4709">#4709</a>]</li>
        </ul>
        <h4>HSQLDB</h4>
        <ul>
            <li>Fix in HSQLDB for minor performance regression introduced in Liquibase 4.23.1 where the <MadCap:variable name="General.databasechangelog" /> table was initialized multiple times. It is now correctly initialized once, when the table doesn't already exist. [<a href="https://github.com/liquibase/liquibase/pull/4709">#4709</a>]</li>
        </ul>
        <h3>Performance improvements</h3>
        <ul>
            <li>Improved performance on all databases where Liquibase checks the table size (preconditions and snapshots). [<a href="https://github.com/liquibase/liquibase/pull/4834">#4834</a>]</li>
            <li>Improved Liquibase performance when managing large <MadCap:variable name="General.changelog" />s. [<a href="https://github.com/liquibase/liquibase/pull/4798">#4798</a>]</li>
        </ul>
        <h3>JAVA&#160;API&#160;improvements</h3>
        <ul>
            <li>Various improvements to the Liquibase Java API. [<a href="https://github.com/liquibase/liquibase/pull/4480">#4480</a>] [<a href="https://github.com/liquibase/liquibase/pull/4589">#4589</a>] [<a href="https://github.com/liquibase/liquibase/pull/4591">#4591</a>] [<a href="https://github.com/liquibase/liquibase/pull/4653">#4653</a>] [<a href="https://github.com/liquibase/liquibase/pull/4854">#4854</a>] [<a href="https://github.com/liquibase/liquibase/pull/4956">#4956</a>]</li>
        </ul>
    </body>
</html>