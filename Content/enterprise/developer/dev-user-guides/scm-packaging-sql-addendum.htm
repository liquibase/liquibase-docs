<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title><MadCap:variable name="Heading.Level1" /> | Enterprise Docs</title>
        <meta rel="canonical" href="https://docs.liquibase.com/enterprise/developer/dev-user-guides/scm-packaging-sql-addendum.html" />
        <meta name="description" content="Learn about SCM packaging with SQL Servers." />
    </head>
    <body>
        <h1>User Guide: Developer SCM Packaging (SQL Server Addendum)
			<MadCap:snippetText src="../../../Z_Resources/Snippets/images/icon-enterprise-top.flsnp" /></h1>
        <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">This information is now maintained in the product documentation: <a href="scm-packaging-sql-addendum.htm">SQL Server Database Objects and Packaging</a>.</p>
        <h2>SQL Server Guidelines</h2>
        <ul>
            <li>SQL Server database objects should NOT be qualified with the <strong>database name</strong>. <MadCap:variable name="General.LBEnterprise" /> will take care of that.</li>
            <li>For a SQL Server <strong>Default Schema (single-schema) Project</strong>, database objects can be either fully qualified or unqualified with the <strong>schema name</strong>. If they are left unqualified, <MadCap:variable name="General.LBEnterprise" /> will deploy the changes into the default schema for the user (this is dbo, by default).</li>
            <li>For a SQL Server <strong>Multi-Schema Project</strong>, database objects <strong>must</strong> <strong>be fully qualified</strong> with the <strong>schema name</strong> so they get deployed to the correct schema during packaging.</li>
        </ul>
        <h2>SQL Server SCM Packaging Patterns</h2>
        <p><MadCap:variable name="General.LBEnterprise" /> supports two development usage/packaging patterns:</p>
        <ul>
            <li>Permanent - In-place editing, packaging and <strong>no</strong> <strong>archiving</strong> of database changes so they can be managed similar to application code. This applies to the following object types:
				<ul><li>Procedures (when scripts are placed in the "/procedure" folder)</li><li>Functions&#160;(when scripts are placed in the "/function" folder)</li><li>Views&#160;(when scripts are placed in the "/view" folder)</li><li>Triggers&#160;(when scripts are placed in the "/trigger" folder)</li></ul></li>
            <li>Transient - Database changes are archived after packaging (all other folders).</li>
        </ul>
        <h2>SQL Server Packaging Folders</h2>
        <table style="width: 53.711792%;">
            <colgroup>
                <col style="width: 40.11628%;" />
                <col style="width: 19.069767%;" />
                <col style="width: 40.813953%;" />
            </colgroup>
            <tbody>
                <tr>
                    <th>Object Type</th>
                    <th>Packaging Folder</th>
                    <th>Archived?
                    </th>
                    <th>Notes</th>
                </tr>
                <tr>
                    <td>CREATE/ALTER/DROP <strong>DATABASE LINK</strong></td>
                    <td>/sql_direct</td>
                    <td>Yes</td>
                    <td>
                        <br />
                    </td>
                </tr>
                <tr>
                    <td>CREATE/ALTER/DROP <strong>FUNCTION</strong></td>
                    <td>/function</td>
                    <td>No</td>
                    <td>
                        <br />
                    </td>
                </tr>
                <tr>
                    <td>CREATE/ALTER/DROP<strong>INDEX</strong>
                    </td>
                    <td>/ddl /ddl_direct /sql_direct</td>
                    <td>Yes</td>
                    <td>
                        <br />
                    </td>
                </tr>
                <tr>
                    <td>CREATE/ALTER/DROP<strong>PROCEDURE</strong>
                    </td>
                    <td>/procedure</td>
                    <td>No</td>
                    <td>
                        <br />
                    </td>
                </tr>
                <tr>
                    <td>CREATE/ALTER/DROP<strong>QUEUE</strong>
                    </td>
                    <td>/sql_direct</td>
                    <td>Yes</td>
                    <td>
                        <br />
                    </td>
                </tr>
                <tr>
                    <td>CREATE/ALTER/DROP<strong>SEQUENCE</strong>
                    </td>
                    <td>/ddl /ddl_direct /sql_direct</td>
                    <td>Yes</td>
                    <td>
                        <br />
                    </td>
                </tr>
                <tr>
                    <td>CREATE/ALTER/DROP<strong>SYNONYM</strong>
                    </td>
                    <td>/ddl /ddl_direct /sql_direct</td>
                    <td>Yes</td>
                    <td>
                        <br />
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>CREATE/ALTER/DROP<strong>TABLE</strong>
                        </p>
                    </td>
                    <td>/ddl /ddl_direct /sql_direct</td>
                    <td>Yes</td>
                    <td>
                        <br />
                    </td>
                </tr>
                <tr>
                    <td>CREATE/ALTER/DROP<strong>TRIGGER</strong>
                    </td>
                    <td>
                        <p>/trigger</p>
                    </td>
                    <td>No</td>
                    <td>
                        <br />
                    </td>
                </tr>
                <tr>
                    <td>CREATE/ALTER/DROP<strong>TYPE</strong>
                    </td>
                    <td>/sql_direct</td>
                    <td>Yes</td>
                    <td>
                        <br />
                    </td>
                </tr>
                <tr>
                    <td>CREATE/ALTER/DROP<strong>VIEW</strong>
                    </td>
                    <td>
                        <p>/view</p>
                    </td>
                    <td>No</td>
                    <td>
                        <br />
                    </td>
                </tr>
                <tr>
                    <td>CREATE/ALTER/DROP<strong>VIEW INDEX</strong>
                    </td>
                    <td>/ddl /ddl_direct /sql_direct</td>
                    <td>Yes</td>
                    <td>
                        <br />
                    </td>
                </tr>
                <tr>
                    <td>RENAME<strong>&#160;&lt;DB_OBJECT&gt;</strong></td>
                    <td>/sql_direct</td>
                    <td>Yes</td>
                    <td>
                        <br />
                    </td>
                </tr>
            </tbody>
        </table>
        <table style="width: 53.524643%;">
            <colgroup>
                <col style="width: 40.49008%;" />
                <col style="width: 19.253208%;" />
                <col style="width: 40.25671%;" />
            </colgroup>
            <tbody>
                <tr>
                    <th>Operation</th>
                    <th>Packaging Folder</th>
                    <th>Archived?
                    </th>
                    <th>Notes</th>
                </tr>
                <tr>
                    <td>INSERT, UPDATE, DELETE, SELECT
                    </td>
                    <td>/data_dml
                    </td>
                    <td>Yes</td>
                    <td>
                        <br />
                    </td>
                </tr>
                <tr>
                    <td>GRANT, REVOKE
                    </td>
                    <td>/sql_direct
                    </td>
                    <td>Yes</td>
                    <td>
                        <br />
                    </td>
                </tr>
            </tbody>
        </table>
    </body>
</html>