<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
	<head><title><MadCap:variable name="Heading.Level1" /></title>
		<meta rel="canonical" href="https://docs.liquibase.com/enterprise/how-to-guides/create-sandbox-project-demos-testing" />
		<meta name="description" content="Learn the best practices for creating a sandbox project for demos or testing with Liquibase Enterprise." />
	</head>
    <body>
        <h1>How To: Create a Sandbox Project for Demos or Testing</h1>
        <MadCap:snippetText src="../../Z_Resources/Snippets/images/icon-enterprise-top.flsnp" />
        <p>It is a common practice to create a Liquibase Enterprise "sandbox" project for testing and demonstration purposes. However, it can be burdensome to create new scripts for every demo or round of testing. Here we will show you how to setup your sandbox project so that you can reuse the same scripts repeatedly. This not only saves time, but ensures that your testing and demos will work as expected.</p>
        <h2 id="HowTo:CreateaSandboxProjectforDemosorTesting-SCMRepos">SCM Repos</h2>
        <p>The main branch of each repo should represent the starting point or baseline for your project. You will clone the main branch to a "demo" branch whenever you want to start over from the project baseline. The "demo" branch should never be merged back to main in order to preserve the baseline configuration.</p>
        <h3 id="HowTo:CreateaSandboxProjectforDemosorTesting-SQLRepo">SQL Repo</h3><span class="confluence-embedded-file-wrapper image-left-wrap-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-wrap-left" width="210" loading="lazy" src="https://datical-cs.atlassian.net/wiki/download/thumbnails/2860220437/demo_sql.png?version=1&amp;modificationDate=1626472138526&amp;cacheVersion=1&amp;api=v2&amp;width=210&amp;height=171" srcset="https://datical-cs.atlassian.net/wiki/download/thumbnails/2860220437/demo_sql.png?version=1&amp;modificationDate=1626472138526&amp;cacheVersion=1&amp;api=v2&amp;width=412&amp;height=336 2x, https://datical-cs.atlassian.net/wiki/download/thumbnails/2860220437/demo_sql.png?version=1&amp;modificationDate=1626472138526&amp;cacheVersion=1&amp;api=v2&amp;width=210&amp;height=171 1x" />
        <p>The main branch should have the starting configuration for your SQL Repo. For convenience, you can also store the scripts for testing/demos in a separate folder within the Repo. Packager will ignore files in a folder that does not have a metadata.properties file which specifies the Package Method.</p>
        <h3 id="HowTo:CreateaSandboxProjectforDemosorTesting-DDBRepo">DDB Repo</h3><span class="confluence-embedded-file-wrapper image-left-wrap-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-wrap-left" width="210" loading="lazy" src="https://datical-cs.atlassian.net/wiki/download/thumbnails/2860220437/demo_ddb.png?version=1&amp;modificationDate=1626472138201&amp;cacheVersion=1&amp;api=v2&amp;width=210&amp;height=240" srcset="https://datical-cs.atlassian.net/wiki/download/thumbnails/2860220437/demo_ddb.png?version=1&amp;modificationDate=1626472138201&amp;cacheVersion=1&amp;api=v2&amp;width=420&amp;height=480 2x, https://datical-cs.atlassian.net/wiki/download/thumbnails/2860220437/demo_ddb.png?version=1&amp;modificationDate=1626472138201&amp;cacheVersion=1&amp;api=v2&amp;width=210&amp;height=240 1x" />
        <p>The main branch should have the starting configuration for your project. The changelog should be empty unless you always want to start by deploying a baseline set of changes to the database.</p>
        <h2 id="HowTo:CreateaSandboxProjectforDemosorTesting-Databases">Databases</h2>
        <p>Create a baseline configuration for the databases in the "sandbox" pipeline. The databases in the pipeline must contain the DATICAL_USER, DATICAL_TRACKING, and MANAGED schemas. Make sure that the DATICAL_USER and DATICAL_TRACKING schemas have been granted the required permissions. The DATABASECHANGELOG table should be empty. Since this is a sandbox environment, you can keep it very simple and start with empty MANAGED schemas. This is the configuration which will be restored when the project is reset to the baseline.</p>
        <h2 id="HowTo:CreateaSandboxProjectforDemosorTesting-DaticalProject"><MadCap:variable name="General.LBEnterprise" /> Project</h2>
        <p>Create the "sandbox" project using your usual process. The deployPackager.properties file must be configured so that both Repos use the "demo" branch. Commit the baseline configuration to the main branch of the DDB Repo.</p><pre>ddbScmSystem=git
ddbScmBranch=demo
ddbScmPath=.
# Default values
sqlScmSystem=git
sqlScmPath=../demo_sql
sqlScmSQLBaseDir=.
# Pipeline specific values
release.sqlScmBranch=demo
release.sqlScmLastImportID=c1f07dc08834df411a5ae495a433e8c6259a3a92</pre>
        <h2 id="HowTo:CreateaSandboxProjectforDemosorTesting-CI/CD">CI/CD</h2>
        <p>You can use your standard CI/CD jobs. Just make sure that any jobs which clone the Repos use the "demo" branch.</p>
        <h2 id="HowTo:CreateaSandboxProjectforDemosorTesting-RunningtheProject">Running the Project</h2>
        <ol>
            <li>
                <p>Clone Repos to local.</p><pre>git clone &lt;gitURL&gt;</pre>
            </li>
            <li>
                <p>Create demo branches from main in each Repo.</p><pre>git branch demo
					git checkout demo
				git push -u origin demo</pre>
            </li>
            <li>
                <p>Import the Project using <MadCap:variable name="General.LBEnterprise" /> GUI.<br />Remember to use the Demo branch for the project.</p>
            </li>
            <li>
                <p>Commit and push scripts to the SQL Repo on the demo branch.</p>
            </li>
            <li>
                <p>Run the CI/CD pipeline.</p>
            </li>
            <li>
                <p>View reports in DMC</p>
            </li>
        </ol>
        <h2 id="HowTo:CreateaSandboxProjectforDemosorTesting-ResettingtheProject">Resetting the Project</h2>
        <ol>
            <li>
                <p>Delete the Demo branches in the SCM for <strong>both</strong> Repos.</p><pre>git checkout main
					git branch -d demo
				git push origin --delete demo</pre>
            </li>
            <li>
                <p>Truncate the DBCL tables on the databases.</p><pre>truncate table datical_tracking.databasechangelog;</pre>
            </li>
            <li>
                <p>Drop and Recreate the Managed schemas.</p><pre>prompt ******************************
prompt Recreate MFG schema
prompt ******************************
DROP USER MFG CASCADE;
CREATE USER MFG IDENTIFIED BY MFG DEFAULT TABLESPACE USERS QUOTA UNLIMITED ON USERS;
GRANT CREATE SESSION to MFG;
GRANT RESOURCE to MFG;
prompt
prompt ******************************
prompt Recreate SALES schema
prompt ******************************
DROP USER SALES CASCADE;
CREATE USER SALES IDENTIFIED BY SALES DEFAULT TABLESPACE USERS QUOTA UNLIMITED ON USERS;
GRANT CREATE SESSION to SALES;
GRANT RESOURCE to SALES;</pre>
            </li>
        </ol>
    </body>
</html>