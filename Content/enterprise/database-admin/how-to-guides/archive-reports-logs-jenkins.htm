<?xml version="1.0" encoding="utf-8"?>
<html>
    <head><title></title>
    </head>
    <body>
        <h1>How To: Archive Reports and Logs in Jenkins</h1> <MadCap:snippetText src="../../Resources/Snippets/images/.ver_icon_size_enterprise.flsnp" />
        <p>If the customer is experiencing a problem with their Datical installation, having access to past logs and reports from the jobs that failed can be very beneficial to the support team while researching the support request.</p>
        <p>There is a balance to strike with archiving reports and logs.&#160;On one hand, the more historical data we have the better it will be for troubleshooting the problem.&#160; On the other hand, since these archives take up disk space, the customer may want to economize the use of that space by only keeping a certain number of logs, or past logs for only a certain amount of time before they are overwritten.&#160;</p>
        <p>This document aims to help the customer configure their Jenkins jobs to archive the proper number and age of reports and balance these considerations to match their specific business needs.</p>
        <h2 id="HowTo:ArchiveReportsandLogsinJenkins-Step-by-stepguide">Step-by-step guide</h2>
        <p>For jobs that are set up in Jenkins</p>
        <ol>
            <li>Configure the job to handle archives correctly<ol><li>Open the configuration of your Jenkins job by clicking on the job and then clicking the "Configure" button&#160;</li><li>In the General section select the checkbox next to "Discard old builds"</li><li>This will expand a section where you can provide additional configuration</li><li>"Strategy" should be set to "Log Rotation"</li><li>Enter the number of days to keep old builds - Builds older than this number of days will be overwritten</li><li>Enter the maximum number of builds you wish to keep - If there are already this many builds stored, the oldest will be overwritten by the current build</li><li>"Days to keep artifacts" and "Max # of builds to keep with artifacts" do the same as e and f above, but for artifacts specifically<br /><br /></li></ol></li>
            <li>Archive the artifacts after the build:<ol><li>In the "Post-build Actions" section, select "Add post-build action" &gt; "Archive the artifacts"</li><li>In "Files to archive" enter the string&#160;<code>**/daticaldb.log, **/Reports/**, **/Logs/**, **/Snapshots/**</code><ol><li>This tells Jenkins to keep all of the files called daticaldb.log as well as the contents of the /Reports, /Logs and /Snapshots directories</li></ol></li><li>Click "Advanced" for optional configurations</li><li>Click the Save button</li></ol></li>
        </ol>
        <p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-content-image-border" height="250" width="735" loading="lazy" src="https://datical-cs.atlassian.net/wiki/download/thumbnails/593625131/Screen%20Shot%202018-06-01%20at%2012.24.39%20PM.png?version=1&amp;modificationDate=1527874701507&amp;cacheVersion=1&amp;api=v2&amp;width=735&amp;height=249" srcset="https://datical-cs.atlassian.net/wiki/download/thumbnails/593625131/Screen%20Shot%202018-06-01%20at%2012.24.39%20PM.png?version=1&amp;modificationDate=1527874701507&amp;cacheVersion=1&amp;api=v2&amp;width=1203&amp;height=409 2x, https://datical-cs.atlassian.net/wiki/download/thumbnails/593625131/Screen%20Shot%202018-06-01%20at%2012.24.39%20PM.png?version=1&amp;modificationDate=1527874701507&amp;cacheVersion=1&amp;api=v2&amp;width=735&amp;height=249 1x" /></span>
        </p>
        <p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-content-image-border" height="392" width="735" loading="lazy" src="https://datical-cs.atlassian.net/wiki/download/thumbnails/593625131/Screen%20Shot%202018-06-01%20at%2012.38.45%20PM.png?version=1&amp;modificationDate=1527874737731&amp;cacheVersion=1&amp;api=v2&amp;width=735&amp;height=392" srcset="https://datical-cs.atlassian.net/wiki/download/thumbnails/593625131/Screen%20Shot%202018-06-01%20at%2012.38.45%20PM.png?version=1&amp;modificationDate=1527874737731&amp;cacheVersion=1&amp;api=v2&amp;width=967&amp;height=516 2x, https://datical-cs.atlassian.net/wiki/download/thumbnails/593625131/Screen%20Shot%202018-06-01%20at%2012.38.45%20PM.png?version=1&amp;modificationDate=1527874737731&amp;cacheVersion=1&amp;api=v2&amp;width=735&amp;height=392 1x" /></span>
        </p>
        <p>
            <br />
        </p>
        <p>
            <br />
        </p>
    </body>
</html>