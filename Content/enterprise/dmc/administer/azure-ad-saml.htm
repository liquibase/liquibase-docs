<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title><MadCap:variable name="Heading.Level1" /> | Enterprise Docs</title>
        <link rel="canonical" href="https://docs.liquibase.com/enterprise/dmc/administer/azure-ad-saml.html" />
        <meta name="description" content="You can create a SAML Connection with Auth0 to DMC. This allows you to authenticate and authorize individuals to use DMC. Follow the steps below to setup this connection." />
    </head>
    <body>
        <h1>Connect DMC to Azure AD via SAML</h1>
        <p>You can create a SAML Connection with Azure AD to DMC. This allows you to authenticate and authorize individuals to use DMC. Follow the steps below to setup this connection.</p>
        <h2>Instructions</h2>
        <p class="tip" MadCap:autonum="&lt;b&gt;Tip: &lt;/b&gt;">Before you begin, you need an <a href="https://portal.azure.com/">Azure account</a> with privileges that allow you to manipulate app registrations, groups, and permissions. Then you need an app registration in Azure Active Directory.</p>
        <h3>Keycloak Steps:</h3>
        <ol>
            <li>Go to the <b>Keycloak</b> admin console and find the <b>Identity providers</b> menu.</li>
            <li>Add an SAML v2.0 provider.</li>
        </ol>
        <h3>Azure AD and Keycloak Configuration Steps</h3>
        <p>This section covers how to setup an identity provider which provides the connection</p>
        <p>between Azure AD and SAML.</p>
        <ol>
            <li>Type in the desired Display name.</li>
            <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
                This is a visible name for your custom identity provider. In the provided example, we use OpenID Connect Login as the Display name.</p>
            <li>
                Obtain the discovery endpoint located here:
            <br /><b>Your application &gt; Overview &gt; Endpoints &gt; Federation Metadata Document.</b></li>
            <li>
                <p>Next, add the <b>discovery endpoint</b> into it's associated text field.<br />The discovery endpoint contains the required metadata to use the identity provider.</p>
            </li>
            <li>
                <p>Add your application ID URL to the Service provider entity ID field.</p>
            </li>
            <li>
                <p>Change the <b>NameID policy format</b> to <b>Email</b>.</p>
            </li>
            <li>
                <p>Once all boxes are filled in, click the <b>Add</b> button.</p>
                <img src="../../../Z_Resources/Images/Assets/Screenshots/administer/auth0-saml-1.png" class="thumbnail" />
            </li>
            <li>
                <p>Copy the Redirect URL and paste it into your application located here:<br /><b>Application &gt; Overview &gt; Redirect URLs &gt; Redirect URLs</b></p>
            </li>
        </ol>
        <h3>Sign into DMC DB with SAML Connection</h3>
        <p>This section covers how to connect DMC with SAML to Azure AD.</p>
        <ol>
            <li>On the DMC sign in screen, click the SAML Connection Login link on the bottom of the dialog. <br />This will direct you to the Azure AD login page <br /><img src="../../../Z_Resources/Images/Assets/Screenshots/administer/auth0-saml-2.png" class="thumbnail" /></li>
            <li>
                <p>Log in to Azure AD.<br />This will direct you back to the DMC DB login screen.<br /><img src="../../../Z_Resources/Images/Assets/Screenshots/administer/auth0-oidc-3.png" class="thumbnail" /></p>
            </li>
            <li>
                <p>Finish your registration by filling in your user name, email, first name, and last name. This will only be required on the initial login. Any login session after this will direct you into DMC.</p>
            </li>
        </ol>
        <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">If there are issues when logging out - change the Backchannel logout toggle value in the identity provider advanced settings.</p>
        <p class="tip" MadCap:autonum="&lt;b&gt;Tip: &lt;/b&gt;">It is important to note that Azure AD does not support LDAPprotocol or Secure LDAP directly. It is possible to enable Azure AD DS instance on an Azure AD tenant with correctly configured network security groups. <a href="https://learn.microsoft.com/en-us/azure/active-directory/fundamentals/active-directory-faq#can-i-set-up-a-secure-ldap-connection-with-azure-ad-">Learn more here</a></p>
    </body>
</html>