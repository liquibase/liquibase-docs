<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title><MadCap:variable name="Heading.Level1" /> | Enterprise Docs</title>
        <link rel="canonical" href="https://docs.liquibase.com/enterprise/dmc/administer/auth0-saml.html" />
        <meta name="description" content="You can create a SAML Connection with Auth0 to DMC. This allows you to authenticate and authorize individuals to use DMC. Follow the steps below to setup this connection." />
    </head>
    <body>
        <h1>Connect DMC to Auth0 via SAML</h1>
        <p>You can create a SAML Connection with Auth0 to DMC. This allows you to authenticate and authorize individuals to use DMC. Follow the steps below to setup this connection.</p>
        <h2>Instructions</h2>
        <p class="tip" MadCap:autonum="&lt;b&gt;Tip: &lt;/b&gt;">Before you begin, be sure to create an Auth0 account and an application.</p>
        <h3>Keycloak Steps:</h3>
        <ol>
            <li>Go to the Keycloak admin console and find the <b>Identity providers</b> menu.</li>
            <li>Add an SAML v2.0 provider.</li>
        </ol>
        <h2>Auth0 and Keycloak Configuration Steps</h2>
        <p>This section covers how to setup an identity provider which provides the connection between Auth0 and SAML.</p>
        <ol>
            <li>Type in the desired Display name.</li>
            <p>
                <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">This is a visible name for your custom identity provider. In the provided example, we use OpenID Connect Login as the Display name.</p>
            </p>
            <li>
                <p>Find your <b>discovery endpoint</b> here:<br /><b>Your application &gt; Settings &gt; Advanced Settings &gt; Endpoints &gt; SAML Metadata URL</b></p>
            </li>
            <li>
                <p>Next, add the <b>discovery endpoint</b> which contains the required metadata to use the identity provider.</p>
            </li>
            <li>
                <p>Once all boxes are filled in, click the <b>Add</b> button.<br /><img src="../../../Z_Resources/Images/Assets/Screenshots/administer/auth0-saml-1.png" class="thumbnail" /></p>
            </li>
            <li>
                <p>Copy the Redirect URL and paste it into your application settings located here:<br /><b>Application URLs &gt; Allowed Callback URLs</b></p>
                <h3>Sign into DMC DB with SAML Connection</h3>
                <p>This section covers how to connect DMC with SAML to Auth0.</p>
                <ol>
                    <li>On the DMC sign in screen, click the SAML Connection Login link on the bottom of the dialog. <br />This will direct you to the Auth0 login page.<br /><img src="../../../Z_Resources/Images/Assets/Screenshots/administer/auth0-oidc-2.png" class="thumbnail" /></li>
                    <li>
                        <p>Log in to Auth0.<br />This will direct you back to the DMC DB login screen.<br /><img src="../../../Z_Resources/Images/Assets/Screenshots/administer/auth0-oidc-3.png" /></p>
                    </li>
                    <li>
                        <p>Finish your registration by filling in your user name, email, first name, and last name.</p>
                    </li>
                </ol>
            </li>
        </ol>
        <h3>Log Out using SAML</h3>
        <p>Before logging out of DMC while using a SAML provider, please follow this guide. This section covers how to ensure both to Auth0 and DMC recognize that you are using a SAML2 access token.</p>
        <ol>
            <li>Navigate to your <b>Auth0</b> account and select the <b>Addons</b> tab.<br /><img src="../../../Z_Resources/Images/Assets/Screenshots/administer/auth0-saml-4.png" class="thumbnail" /></li>
            <li>
                <p>Toggle the <b>SAML2 WEB APP</b> option on.<br />A SAML2 Web App dialog will appear.</p>
            </li>
            <li>
                <p>Select the <b>Settings</b> tab and add the logout metadata into the Settings box.<br /><img src="../../../Z_Resources/Images/Assets/Screenshots/administer/auth0-saml-5.png" class="thumbnail" /></p>
                <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">More information about metadata:<br />logout (<code>object</code>): An object that controls SAML logout. It can contain two properties: <code>callback </code>(of type <code>string</code>), that contains the service provider (client application)'s Single Logout Service URL, where Auth0 will send logout requests and responses, and slo_enabled (boolean) that controls whether Auth0 should notify service providers of session termination. The default value is <code>true </code>(notify service providers).</p>
            </li>
        </ol>
    </body>
</html>