<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title><MadCap:variable name="Heading.Level1" /> | Enterprise Docs</title>
        <meta rel="canonical" href="https://docs.liquibase.com/enterprise/dba/package/package-sql-scripts-deployment/overview-packaging/contexts.html" />
        <meta name="description" content="Contexts are used to manage ChangeSet deployments to databases in different environments." />
    </head>
    <body>
        <h1><MadCap:variable name="General.LBEnterprise" /> Contexts</h1>
        <MadCap:snippetBlock src="../../../../../Z_Resources/Snippets/images/icon-enterprise-top.flsnp" />
        <h2>Context Overview and Use Cases</h2>
        <p>Contexts are used to manage ChangeSet deployments to databases in different environments. Examples of database environments are:</p>
        <ul>
            <li><span style="color: rgb(0,0,10);">Development Sandbox
            </li>
            <li><span style="color: rgb(0,0,10);">Development Integration
            </li>
            <li><span style="color: rgb(0,0,10);">Automated Test
            </li>
            <li><span style="color: rgb(0,0,10);">User Acceptance Test
            </li>
            <li><span style="color: rgb(0,0,10);">Staging
            </li>
            <li><span style="color: rgb(0,0,10);">Pre-Production
            </li>
            <li><span style="color: rgb(0,0,10);">Production
            </li>
        </ul>
        <p>
            <br class="atl-forced-newline" />Because environmental contexts are extremely company and process dependent, Datical DB context tags are defined as freeform text to allows you to precisely match your environment. <br class="atl-forced-newline" />Contexts are used to manage the deployment of ChangeSets. This enables you to target specific schema to specific environments.</p>
        <p>Contexts are NOT case sensitive.</p>
        <h2 id="DaticalContexts-SettingtheContextinChangeSetCreation">Setting the Context in ChangeSet Creation</h2>
        <p>ChangeSets are tagged with a context during their creation. This tag takes one of two forms – simple and complex contexts.</p>
        <h3 id="DaticalContexts-ContextTags">Context Tags</h3>
        <p>A <strong>context tag is a text string</strong> chosen from the list of contexts defined for a specific project. It is associated with a new ChangeSet.</p>
        <h3 id="DaticalContexts-ContextExpressions">Context Expressions</h3>
        <p>A <strong>context expression is one or more text strings</strong> chosen from the list of contexts defined for a specific project. The difference is that you will also specify an expression that describes how you want the context to be "matched." <br class="atl-forced-newline" />For example, assume you have a simple project with 3 environmental contexts – Development, Test, and Production. <br class="atl-forced-newline" />If you have a Change that you <em>don't want deployed to Development</em>, you would specify the Context in either of the following ways.</p>
        <ul>
            <li><span style="color: rgb(0,0,10);">!Development
            </li>
            <li><span style="color: rgb(0,0,10);">(Test or Production)
            </li>
        </ul>
        <p>
            <br class="atl-forced-newline" />Context expressions can be built from any of the following operators:</p>
        <ul>
            <li><span style="color: rgb(0,0,10);">and
            </li>
            <li><span style="color: rgb(0,0,10);">or
            </li>
            <li><span style="color: rgb(0,0,10);">,<span style="color: rgb(0,0,10);">(this is the same as or)
            </li>
            <li><span style="color: rgb(0,0,10);">!<span style="color: rgb(0,0,10);">(this is the not operator; it gives you a mechanism to negate the expression)
            </li>
            <li><span style="color: rgb(0,0,10);">()<span style="color: rgb(0,0,10);">(the parenthesis are used for grouping)
            </li>
        </ul>
        <p>
            <br class="atl-forced-newline" />Given that the context can be specified as arbitrarily complex expressions, you can create a new ChangeSet and precisely target the deployment to any combination of environments.</p>
        <h2 id="DaticalContexts-UsingContextsinDeployment">Using Contexts in Deployment</h2>
        <p>Now that the context (or context expression) is associated with a ChangeSet, you have 3 options for deploying the change.</p>
        <h3 id="DaticalContexts-Option1–Usingthedefaultcontext">Option 1 – Using the default context</h3>
        <p>When you setup a new Datical DB project or a new Step within a project, you can specify the environmental context (default) for the database instance. At deployment time, Datical DB will use the default context to evaluate the expression and determine is the ChangeSet should be applied to the database.</p>
        <h3 id="DaticalContexts-Option2–Specifyingacontextatdeploymenttime">Option 2 – Specifying a context at deployment time</h3>
        <p>In addition to default contexts, you can also specify a context as a parameter for a specific deployment. Specifying a context at deploy time enables you to override the default context when you need to support one-off deployment situations.</p>
        <h3 id="DaticalContexts-Option3–Nocontextspecifiedonthesteporduringdeployment">Option 3 – No context specified on the step or during deployment</h3>
        <p>If no context is specified, then the ChangeSet will always be applied to the database.</p>
        <p>
            <br />
        </p>
        <p>
            <br />
        </p>
    </body>
</html>