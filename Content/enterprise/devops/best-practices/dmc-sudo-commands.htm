<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title><MadCap:variable name="Heading.Level1" /> | Enterprise Docs</title>
        <link rel="canonical" href="https://docs.liquibase.com/enterprise/devops/best-practices/dmc-sudo-commands.html" />
        <meta name="description" content="This page contains a list of all sudo commands for the Deployment Monitoring Console (DMC) 7.x versions." />
    </head>
    <body>
        <h1>DMC Sudo Commands List</h1>
        <MadCap:snippetText src="../../../Z_Resources/Snippets/images/icon-enterprise-top.flsnp" />
        <p>Below is a list of all sudo commands for the Deployment Monitoring Console (DMC) 7.x versions.</p>
        <h2><strong>Set up User</strong>
        </h2>
        <ul>
            <li>
                <p><code>sudo useradd -m datical</code>
                </p>
            </li>
            <li>
                <p><code>sudo passwd datical</code>
                </p>
            </li>
            <li>
                <p><code>sudo usermod -aG wheel datical</code>
                </p>
            </li>
        </ul>
        <h2 id="DMCSudoCommandsList-InstallCommands"><strong>Install Commands</strong>
        </h2>
        <ul>
            <li>
                <p>Interactive: <code>sudo bash /path/to/datical-service-unix-&lt;version&gt;-master.sh</code></p>
            </li>
            <li>
                <p>Silent: <code>sudo ./datical-service-unix-&lt;version&gt;-master.sh -q -varfile &lt;varfile&gt;</code></p>
            </li>
        </ul>
        <h2 id="DMCSudoCommandsList-UninstallCommands"><strong>Uninstall Commands</strong>
        </h2>
        <ul>
            <li>
                <p><code>sudo /opt/datical/uninstall</code>
                </p>
            </li>
        </ul>
        <h2 id="DMCSudoCommandsList-ConfiguringHostname&amp;IPCommands"><strong>Configuring Hostname &amp; IP Commands</strong>
        </h2>
        <ul>
            <li>
                <p><code>sudo datical-control network set-cluster-hostname &lt;new-hostname&gt;</code>
                </p>
            </li>
            <li>
                <p><code>sudo datical-control network reconfigure --ip &lt;new-ip-address&gt;</code>
                </p>
            </li>
            <li>
                <p><code>sudo datical-control db show --include-password</code> <span style="color: rgb(54,179,126);">(does not require sudo)</p>
            </li>
            <li>
                <p><code>sudo datical-control network set-external-hostname &lt;desiredHostname&gt;</code>
                </p>
            </li>
        </ul>
        <h2><strong>Restart Commands</strong>
        </h2>
        <ul>
            <li>
                <p><code>sudo service datical-proxy stop</code> <b>(requires sudo - authentication is required)</b></p>
            </li>
            <li>
                <p><code>sudo service datical-proxy start</code> <b>(requires sudo - authentication is required)</b></p>
            </li>
            <li>
                <p><code>sudo service datical-proxy restart</code> <b>(requires sudo - authentication is required)</b></p>
            </li>
            <li>
                <p><code>sudo service datical-service restart</code> <b>(requires sudo - authentication is required)</b></p>
            </li>
            <li>
                <p><code>sudo datical-control service restart datical-service</code> <b>(requires sudo - this script must be run as sudo or root)</b></p>
            </li>
            <li>
                <p><code>sudo datical-control service restart proxy</code> <b>(requires sudo - this script must be run as sudo or root)</b></p>
            </li>
        </ul>
        <h2 id="DMCSudoCommandsList-TroubleshootingCommands"><strong>Troubleshooting Commands</strong>
        </h2>
        <ul>
            <li>
                <p><code>sudo datical-control troubleshoot</code> <b>(does not require sudo)</b></p>
            </li>
            <li>
                <p><code>sudo datical-control service status datical-service</code> <b>(does not require sudo)</b></p>
            </li>
            <li>
                <p><code>sudo datical-control logs datical-service --follow</code> <b>(requires sudo - insufficient permissions)</b></p>
            </li>
            <li>
                <p><code>sudo datical-control logs proxy</code> <b>(requires sudo - insufficient permissions)</b></p>
            </li>
            <li>
                <p><code>sudo datical-control logs proxy --follow</code> <b>(requires sudo - insufficient permissions)</b></p>
            </li>
            <li>
                <p><code>sudo find /etc/ -name datical-service*</code> <b>(requires sudo - insufficient permissions)</b></p>
            </li>
        </ul>
        <p>Example sudofile</p>
        <p class="media-group"><span class="confluence-embedded-file-wrapper conf-macro output-inline"><a class="confluence-embedded-file" href="https://datical-cs.atlassian.net/wiki/download/attachments/2054848672/sudofile.txt?version=1&amp;modificationDate=1610031491729&amp;cacheVersion=1&amp;api=v2"><img src="https://datical-cs.atlassian.net/wiki/download/thumbnails/2054848672/sudofile.txt?version=1&amp;modificationDate=1610031491729&amp;cacheVersion=1&amp;api=v2&amp;viewType=fileMacro" height="250" /></a>
        </p><pre>User_Alias DATICAL_USER=%datical 
			Cmnd_Alias       DATCMD = /usr/bin/datical-control troubleshoot,\
			/usr/bin/datical-control logs datical-service --follow,\
			/usr/bin/datical-control logs proxy --follow,\
			/usr/bin/datical-control logs keycloak --follow,\
			/usr/bin/datical-control service restart datical-service,\
			/usr/bin/datical-control service restart proxy,\
			/usr/bin/datical-control service status datical-service,\
			/usr/bin/datical-control service start datical-service,\
			/usr/bin/datical-control service stop datical-service,\
			/usr/bin/datical-control service start,\
			/usr/bin/datical-control service stop,\
			/usr/bin/datical-control troubleshoot,\
			/usr/bin/systemctl restart datical-service,\
			/usr/bin/systemctl restart datical-proxy,\
			/usr/bin/systemctl restart datical-keycloak,\
			/usr/sbin/service datical-service restart,\
			/usr/sbin/service datical-proxy restart,\
			/usr/sbin/service datical-keycloak restart,\
			/usr/sbin/service datical-proxy start,\
			/usr/sbin/service datical-proxy stop,\
			/usr/bin/find /etc/ -name datical-service*
                     
		DATICAL_USER    ALL=NOPASSWD: DATCMD</pre>
    </body>
</html>