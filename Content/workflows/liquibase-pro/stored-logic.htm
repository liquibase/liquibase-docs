<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:searchable="False">
    <head><title><MadCap:variable name="Heading.Level1" /></title>
        <link rel="canonical" href="https://docs.liquibase.com/workflows/liquibase-pro/stored-logic.html" />
        <meta name="description" content="This page contains information about using stored logic in Liquibase Pro." />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    </head>
    <body>
        <MadCap:snippetBlock src="../../Z_Resources/Snippets/images/icon-pro-top.flsnp" />
        <h1>Stored Logic</h1>
        <p><MadCap:variable name="General.Liquibase" /> saves the current state of the database, including capturing schema structures such as tables, indexes, constraints, and data. <MadCap:variable name="General.LBPro" /> goes beyond the open-source version by capturing additional stored logic objects.</p>
        <p>Stored logic includes procedures, functions, packages, triggers, and other objects housed in the database to perform data-intensive logic operations that improve performance and security:</p>
        <ul>
            <li>Performance because the logic is co-located with the data.</li>
            <li>Security because the logic is embedded in the database and needs permission from the application to execute the logic.</li>
        </ul>
        <h2>Stored Logic in <MadCap:variable name="General.Liquibase" /></h2>
        <h3><MadCap:variable name="General.changetypes" />s</h3>
        <ul>
            <li><code><MadCap:xref href="../../change-types/create-function.html">createFunction</MadCap:xref></code>
            </li>
            <li><code><MadCap:xref href="../../change-types/create-package.html">createPackage</MadCap:xref></code>
            </li>
            <li><code><MadCap:xref href="../../change-types/create-package-body.html">createPackageBody</MadCap:xref></code>
            </li>
            <li><code><MadCap:xref href="../../change-types/create-procedure.html">createProcedure</MadCap:xref></code>
            </li>
            <li><code><MadCap:xref href="../../change-types/create-trigger.html">createTrigger</MadCap:xref></code>
            </li>
            <li><code><MadCap:xref href="../../change-types/disable-trigger.html">disableTrigger</MadCap:xref></code>
            </li>
            <li><code><MadCap:xref href="../../change-types/drop-function.html">dropFunction</MadCap:xref></code>
            </li>
            <li><code><MadCap:xref href="../../change-types/drop-package.html">dropPackage</MadCap:xref></code>
            </li>
            <li><code><MadCap:xref href="../../change-types/drop-package-body.html">dropPackageBody</MadCap:xref></code>
            </li>
            <li><code><MadCap:xref href="../../change-types/drop-procedure.html">dropProcedure</MadCap:xref></code>
            </li>
            <li><code><MadCap:xref href="../../change-types/drop-trigger.html">dropTrigger</MadCap:xref></code>
            </li>
            <li><code><MadCap:xref href="../../change-types/enable-trigger.html">enableTrigger</MadCap:xref></code>
            </li>
            <li><code><MadCap:xref href="../../change-types/rename-trigger.html">renameTrigger</MadCap:xref></code>
            </li>
        </ul>
        <p>For more information, see <MadCap:xref href="../../change-types/home.html">[%=General.changetypes%]s</MadCap:xref>.</p>
        <h3>Commands</h3>
        <ul>
            <li><code><MadCap:xref href="../../commands/inspection/diff.htm">diff</MadCap:xref></code>: compares two databases, including differences between stored logic objects in each.</li>
            <li><code><MadCap:xref href="../../commands/inspection/diff-changelog.html">diff-changelog</MadCap:xref></code>: structures stored logic files into timestamped directories every time you run the command.</li>
            <li><code><MadCap:xref href="../../commands/inspection/generate-changelog.html">generate-changelog</MadCap:xref></code>: creates a <MadCap:variable name="General.Liquibase" />&#160;<MadCap:variable name="General.changelog" /> representing the current database state, including stored logic objets.</li>
            <li><code><MadCap:xref href="../../commands/inspection/snapshot.html">snapshot</MadCap:xref></code>: captures the target database's current state, including stored logic objects.</li>
            <li><code><MadCap:xref href="../../commands/inspection/snapshot-reference.html">snapshot-reference</MadCap:xref></code>: captures the reference database's current state, including stored logic objects.</li>
        </ul>
        <h3>Parameters</h3>
        <ul>
            <li>Visit the <code>--<MadCap:xref href="../../parameters/always-override-stored-logic-schema.htm">always-override-stored-logic-schema</MadCap:xref></code> documentation page for information on this Boolean value used with the <code><MadCap:xref href="../../change-types/create-procedure.html">createProcedure</MadCap:xref></code>&#160;<MadCap:variable name="General.changetypes" />.</li>
        </ul>
        <h2>(Optional) Versioning Stored Logic</h2>
        <p>Users can use the <code><MadCap:xref href="../../commands/inspection/generate-changelog.html">generate-changelog</MadCap:xref></code> command to create a new version of the <MadCap:variable name="General.changelog" /> file with stored logic objects based on the current database state.</p>
        <p>Running the <code>generate-changelog</code> command with <MadCap:variable name="General.LBPro" /> creates a directory called <code>Objects</code> within the directory where the command was run.</p>
        <MadCap:snippetBlock src="../../Z_Resources/Snippets/text/command-generate-changelog-stored-logic.flsnp" />
        <p>Visit the <code><MadCap:xref href="../../commands/inspection/generate-changelog.html">generate-changelog</MadCap:xref></code> command documentation page for troubleshooting tips when running this command for stored logic.</p>
        <h2>Related Content</h2>
        <ul>
            <li>Visit the <MadCap:variable name="General.Liquibase" /> <MadCap:xref href="../../concepts/bestpractices.html">Best Practices</MadCap:xref> documentation page for information on stored logic best practices.<ul><li>Visit the <MadCap:xref href="mariadbgrants.htm">[%=General.LBPro%] and MariaDB GRANT Best Practices</MadCap:xref> documentation page for best practices on using GRANT statements for stored logic in MariaDB</li><li>Visit the <MadCap:xref href="mysqlgrants.htm">[%=General.LBPro%] and MySQL GRANT Best Practices</MadCap:xref> documentation page for best practices on using GRANT statements for stored logic in MariaDB</li><li>Visit the <MadCap:xref href="mysqlsecuritycontext.htm">[%=General.LBPro%] and MySQL Security Context Limitation</MadCap:xref> documentation page for information on how MySQL&#160;handles stored logic in its security contexts</li></ul></li>
        </ul>
        <h2><MadCap:variable name="General.Liquibase" /> Resources</h2>
        <h3><MadCap:variable name="General.Liquibase" /> Help</h3>
        <p>Visit the <MadCap:variable name="General.Liquibase" /> <a href="https://forum.liquibase.org/">Forum</a> to ask questions, find answers from other <MadCap:variable name="General.Liquibase" /> users, and learn about new <MadCap:variable name="General.Liquibase" /> version releases.</p>
        <p>Visit the <a href="https://support.liquibase.com/knowledge"><MadCap:variable name="General.CompanyName" /> Support Portal</a> for <MadCap:variable name="General.LBPro" /> assistance and troubleshooting tips.</p>
    </body>
</html>