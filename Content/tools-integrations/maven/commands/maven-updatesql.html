<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:searchable="False">
    <head><title><MadCap:variable name="Heading.Level1" /></title>
        <link rel="canonical" href="https://docs.liquibase.com/tools-integrations/maven/commands/maven-updatesql.html" />
        <meta name="description" content="Reference information and use cases for the updateSQL Maven Goal. The updateSQL Maven goal is a helper command that allows you to inspect the SQL Liquibase will run while using the update Maven goal." />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    </head>
    <body>
        <h1>Maven <code>updateSQL</code></h1>
        <p><code>updateSQL</code> is a helper goal that allows you to inspect the SQL <MadCap:variable name="General.Liquibase" /> will run while using the <MadCap:xref href="maven-update.html">Maven update</MadCap:xref> goal.</p>
        <h2>Uses</h2>
        <p><code>updateSQL</code> is typically used when you want to inspect the raw SQL before running the <code>update</code> goal, so you can correct any issues that may arise before running the goal. <MadCap:variable name="General.Liquibase" /> uses the raw SQL to apply changes that you have added to the <MadCap:variable name="General.changelog" /> file to the database.</p>
        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/text/maven-config.flsnp" />
        <h2>Running the <code>updateSQL</code> Maven goal</h2>
        <p>Running the <code>updateSQL</code> goal requires a Maven project to be implemented.</p>
        <p>To run the goal, type the following in your command prompt:</p><pre><code class="language-text">mvn liquibase:updateSQL</code></pre>
        <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">You can also add the <code>liquibase.migrationSqlOutputFile</code> <MadCap:variable name="General.Param/Attribute" /> and specify the file to output the migration SQL script to. The default file is <code>migrate.sql</code>. If it exists, it will be overwritten.</p>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot>Output</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <p>When successful, the <code>updateSQL</code> Maven goal produces the following output:</p><pre xml:space="preserve"><code class="language-text">
						[INFO] Scanning for projects...
						[INFO] 
						[INFO] ---------------------------- package:projectName ----------------------------
							[INFO] Building projectName 0.0.1-SNAPSHOT
							[INFO]   from pom.xml
							[INFO] --------------------------------[ jar ]---------------------------------
							[INFO] 
							[INFO] --- liquibase:4.25.1:updateSQL (default-cli) @ projectName ---
							[INFO] ------------------------------------------------------------------------
							[INFO] Parsing Liquibase Properties File
							[INFO]   File: liquibase.properties
							[INFO] ------------------------------------------------------------------------
							[INFO] 
							####################################################
							##   _     _             _ _                      ##
							##  | |   (_)           (_) |                     ##
							##  | |    _  __ _ _   _ _| |__   __ _ ___  ___   ##
							##  | |   | |/ _` | | | | | '_ \ / _` / __|/ _ \  ##
							##  | |___| | (_| | |_| | | |_) | (_| \__ \  __/  ##
							##  \_____/_|\__, |\__,_|_|_.__/ \__,_|___/\___|  ##
							##              | |                               ##
							##              |_|                               ##
							##                                                ##
							##  Get documentation at docs.liquibase.com       ##
							##  Get certified courses at learn.liquibase.com  ##
							##                                                ##
							####################################################
							Starting Liquibase at 12:56:38 (version [local build] #0 built at 2024-02-01 19:20+0000)
							[INFO] Set default schema name to PUBLIC
							[INFO] Output SQL Migration File: C:\Users\project-path-here\target\liquibase\migrate.sql
								[INFO] Parsing Liquibase Properties File liquibase.properties for changeLog parameters
								[INFO] Executing on Database: jdbc:h2:tcp://localhost:9090/mem:dev;
								[INFO] Successfully acquired change log lock
								[INFO] Creating database history table with name: DATABASECHANGELOG
								[INFO] Using deploymentId: 7321400093
								[INFO] Table person created
								[INFO] ChangeSet db/changelog/db.changelog-master.xml::1::your.name ran successfully in 10ms
								[INFO] Table company created
								[INFO] ChangeSet db/changelog/db.changelog-master.xml::2::your.name ran successfully in 7ms
								[INFO] Columns country(varchar(2)) added to person
								[INFO] ChangeSet db/changelog/db.changelog-master.xml::3::other.dev ran successfully in 7ms
								[INFO] Update command completed successfully.
								[INFO] Successfully released change log lock
								[INFO] Command execution complete
								[INFO] ------------------------------------------------------------------------
								[INFO]
								[INFO] ------------------------------------------------------------------------
								[INFO] BUILD SUCCESS
								[INFO] ------------------------------------------------------------------------
								[INFO] Total time:  3.212 s
								[INFO] Finished at: 2024-02-07T12:56:40-03:00
								[INFO] ------------------------------------------------------------------------
				</code></pre>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot>An example of the output file</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody><pre><code class="language-text">-- *********************************************************************
-- Update Database Script
-- *********************************************************************
-- Change Log: dbchangelog.xml
-- Ran at: 11/27/20 3:39 AM
-- Against: MVN_UAT@jdbc:oracle:thin:@localhost:1521/ORCL
-- Liquibase version: 4.1.1
-- *********************************************************************
-- Lock Database
UPDATE DATABASECHANGELOGLOCK SET LOCKED = 1, LOCKEDBY = 'WIN-20E107KB4TN (172.30.3.88)', LOCKGRANTED = TO_TIMESTAMP('2020-11-27 03:39:22.226', 'YYYY-MM-DD HH24:MI:SS.FF') WHERE ID = 1 AND LOCKED = 0;
--changeset dbchangelog.xml::1606322157619-5::Nataliya (generated)
CREATE TABLE 25 (COLUMN14 VARCHAR2(20 BYTE)) TABLESPACE USERS;
INSERT INTO DATABASECHANGELOG (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1606322157619-5', 'Nataliya (generated)', 'dbchangelog.xml', SYSTIMESTAMP, 5, '8:af84f39a12a1f82c4ae37687c38e95c3', 'createTable tableName=25', '', 'EXECUTED', NULL, NULL, '4.1.1', '6469962817');
--changeset dbchangelog.xml::1606322157619-16::Nataliya (generated)
CREATE TABLE 34 (COLUMN1234 VARCHAR2(20 BYTE)) TABLESPACE USERS;
INSERT INTO DATABASECHANGELOG (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1606322157619-16', 'Nataliya (generated)', 'dbchangelog.xml', SYSTIMESTAMP, 6, '8:5503ac52c79f588a025ae7e63123aa31', 'createTable tableName=34', '', 'EXECUTED', NULL, NULL, '4.1.1', '6469962817');
--changeset dbchangelog.xml::1606322157619-17::Nataliya (generated)
CREATE TABLE 24 (COLUMN134 VARCHAR2(20 BYTE)) TABLESPACE USERS;
INSERT INTO DATABASECHANGELOG (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1606322157619-17', 'Nataliya (generated)', 'dbchangelog.xml', SYSTIMESTAMP, 7, '8:f2e0f707ef1a00342c91438c3bfccc16', 'createTable tableName=24', '', 'EXECUTED', NULL, NULL, '4.1.1', '6469962817');
-- Release Database Lock
UPDATE DATABASECHANGELOGLOCK SET LOCKED = 0, LOCKEDBY = NULL, LOCKGRANTED = NULL WHERE ID = 1;</code></pre>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <h2><code>updateSQL</code> optional Maven configuration <MadCap:variable name="General.Param/Attribute" />s</h2>
        <table>
            <thead>
                <tr>
                    <th><MadCap:variable name="General.Param/Attr/Uppercased" />
                    </th>
                    <th>Definition</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>liquibase.changeLogDirectory</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-changelog-directory.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>liquibase.changeLogFile</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-changelog-file.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>liquibase.changelogCatalogName</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-changelog-catalog-name.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>liquibase.changelogSchemaName</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-changelog-schema-name.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>liquibase.changesToApply</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-changes-to-apply.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>liquibase.clearCheckSums</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-clear-checksums.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>liquibase.contexts</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-contexts.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>liquibase.databaseChangeLogLockTableName</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-database-changelog-lock-table-name.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>liquibase.databaseChangeLogTableName</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-database-changelog-table-name.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>liquibase.databaseClass</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-database-class.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>liquibase.defaultCatalogName</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-default-catalog-name.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>liquibase.defaultSchemaName</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-default-schema-name.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>liquibase.driver</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-driver.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>driverPropertiesFile</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-driver-properties-file.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>liquibase.emptyPassword</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-empty-password.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>expressionVariables</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-expression-variables.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>expressionVars</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-expression-vars.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>liquibase.includeArtifact</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-include-artifact.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>liquibase.includeTestOutputDirectory</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-include-test-output-directory.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>liquibase.labels</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-labels.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>liquibase.licenseKey</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-license-key.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>liquibase.migrationSqlOutputFile</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-migration-sql-output-file.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>liquibase.outputDefaultCatalog</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-output-default-catalog.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>liquibase.outputDefaultSchema</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-output-default-schema.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>liquibase.outputFileEncoding</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-output-file-encoding.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>liquibase.password</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-password.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>liquibase.promptOnNonLocalDatabase</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-prompt-on-non-local-database.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>liquibase.propertyFile</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-property-file.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>liquibase.propertyFileWillOverride</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-property-file-will-override.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>liquibase.propertyProviderClass</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-property-provider-class.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>liquibase.server</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-server.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>liquibase.skip</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-skip.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>systemProperties</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-system-properties.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>liquibase.toTag</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-to-tag-update.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>liquibase.url</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-url.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>liquibase.username</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-username.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>liquibase.verbose</code>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-verbose.flsnp" />
                    </td>
                </tr>
            </tbody>
        </table>
    </body>
</html>