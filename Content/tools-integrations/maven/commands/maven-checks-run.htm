<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:searchable="False">
    <head><title><MadCap:variable name="Heading.Level1" /></title>
        <link rel="canonical" href="https://docs.liquibase.com/tools-integrations/maven/commands/maven-checks-run.html" />
		<meta name="description" content="Reference information and use cases for the checks.run Maven goal. The checks.run goal executes Liquibase quality checks using the checks settings file and the changelog file you specify." />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
    </head>
	<body>
		<MadCap:snippetBlock src="../../../Z_Resources/Snippets/images/icon-pro-top.flsnp" />
        <h1>Maven checks.run</h1>
        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/text/maven-quality-checks.flsnp" />
        <h2>Description</h2>
        <p>The <code>checks.run</code> goal executes <MadCap:variable name="General.Liquibase" /> quality checks using the checks settings file and the <MadCap:variable name="General.changelog" /> file you specify.</p>
        <h2>Uses</h2>
        <p>Use the <code>checks.run</code> goal to run static and dynamic checks against the specified <MadCap:variable name="General.changelog" /> in XML, SQL, YAML, or JSON format. <MadCap:variable name="General.Liquibase" /> reports the outcome of the checks to STDOUT. The return code helps you detect non-compliant changes and stop deployment jobs in automation.</p>
        <p>If your files are not stored in the <MadCap:variable name="General.Liquibase" /> working directory, specify the relative path to them. Check <MadCap:xref href="../../../concepts/changelogs/how-liquibase-finds-files.htm">How [%=General.Liquibase%] Finds Files: [%=General.Liquibase%] Search Path</MadCap:xref> for more details.</p>
        <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">To see the list of available checks, run <code>mvn liquibase:checks.show</code>.</p>
        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/text/maven-quality-checks-config.flsnp" />
        <h2>Running the checks.run Maven goal</h2>
        <p>Running the <code>checks.run</code> goal requires you to have a Maven project implemented with  the <a href="#checks.s"><MadCap:variable name="General.changelog" /> parameter</a> specified.</p>
        <p>To run the goal, enter the following at your command prompt:</p><pre><code class="language-text">mvn liquibase:checks.run</code></pre>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot>Output</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <p>When successful, the <code>checks.run</code> Maven goal produces the following output:</p><pre xml:space="preserve"><code class="language-text">Executing Quality Checks against dbchangelog.xml

Executing all checks because a valid Liquibase Pro license was found!

[INFO] Check settings configuration file located at '/liquibase-maven/liquibase.checks-settings.conf'.
Checks completed validation of the changelog and found the following issues:

Changeset ID:       1
Changeset Filepath: dbchangelog.xml
Check Name:         Changesets Must Have a Label Assigned (ChangesetLabelCheck)
Check Severity:     INFO (Return code: 0)
Message:            Liquibase recommends that labels be assigned to each
					changeset to provide better deployment control and to
					enhance traceability of efforts across changesets.  Review
					the changeset indicated and consider adding a label to it.

Changeset ID:       1
Changeset Filepath: dbchangelog.xml
Check Name:         Changesets Must Have a Context Assigned (ChangesetContextCheck)
Check Severity:     INFO (Return code: 0)
Message:            Liquibase recommends that contexts be assigned to each
					changeset to provide better deployment control and to
					enhance traceability of efforts across changesets. Review
					the changeset indicated and consider adding a context to it.

Changeset ID:       1
Changeset Filepath: dbchangelog.xml
Check Name:         Changesets Must Have a Comment Assigned (ChangesetCommentCheck)
Check Severity:     INFO (Return code: 0)
Message:            Liquibase recommends that authors include comments about the
					purpose and impact of a changeset in &lt;comment&lt; elements to
					prevent the development of undocumented or siloed knowledge
					and ensure that the purpose of a given changeset is easily
					understood by other people who use this changelog.

Changeset ID:       2
Changeset Filepath: dbchangelog.xml
Check Name:         Rollback Required for Changeset (RollbackRequired)
Check Severity:     INFO (Return code: 0)
Message:            Liquibase recommends writing explicit rollback code for a
					changeset, where possible. While Liquibase does generate
					automatic rollback code for many changetypes, this check
					triggers when rollback code is not included.

Changeset ID:       2
Changeset Filepath: dbchangelog.xml
Check Name:         Changesets Must Have a Label Assigned (ChangesetLabelCheck)
Check Severity:     INFO (Return code: 0)
Message:            Liquibase recommends that labels be assigned to each
					changeset to provide better deployment control and to
					enhance traceability of efforts across changesets.  Review
					the changeset indicated and consider adding a label to it.

Changeset ID:       2
Changeset Filepath: dbchangelog.xml
Check Name:         Changesets Must Have a Context Assigned (ChangesetContextCheck)
Check Severity:     INFO (Return code: 0)
Message:            Liquibase recommends that contexts be assigned to each
					changeset to provide better deployment control and to
					enhance traceability of efforts across changesets. Review
				    the changeset indicated and consider adding a context to it.

Changeset ID:       2
Changeset Filepath: dbchangelog.xml
Check Name:         Changesets Must Have a Comment Assigned (ChangesetCommentCheck)
Check Severity:     INFO (Return code: 0)
Message:            Liquibase recommends that authors include comments about the
					purpose and impact of a changeset in &lt;comment&lt; elements to
					prevent the development of undocumented or siloed knowledge
					and ensure that the purpose of a given changeset is easily
					understood by other people who use this changelog.

Changesets Validated:
  ID: 1; Author: username; File path: dbchangelog.xml
  ID: 2; Author: username; File path: dbchangelog.xml

run against each changeset:
  Warn on Detection of 'GRANT' Statements
  Warn on Detection of 'REVOKE' Statements
  Warn when 'DROP TABLE' detected
  Warn when 'DROP COLUMN' detected
  Warn when 'MODIFY &lt;column&lt;' detected
  Check Table Column Count
  Warn when 'TRUNCATE TABLE' detected
  Warn on Detection of grant that contains 'WITH GRANT OPTION'
  Warn on Detection of grant that contains 'WITH ADMIN OPTION'
  Rollback Required for Changeset
  Changesets Must Have a Label Assigned
  Changesets Must Have a Context Assigned
  Changesets Must Have a Comment Assigned

[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  1.110 s
[INFO] Finished at: 2022-03-02T09:31:47-06:00
[INFO] ------------------------------------------------------------------------</code></pre>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <h2><a name="checks.s"></a>checks.run Maven configuration properties</h2>
        <table>
            <thead>
                <tr>
                    <th>Property</th>
                    <th>Definition</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        <p>CLI:
						<code>-Dliquibase.checksSettingsFile</code></p>
                        <p>Property in the <code>pom.xml</code> file:
							<code>&lt;checksSettingsFile&gt;path/to/checks-settings.conf&lt;/checksSettingsFile&gt;</code><![CDATA[
						]]></p>
                        <p>Environment variable:
							<code>LIQUIBASE_COMMAND_CHECKS_RUN_CHECKS_SETTINGS_FILE</code><![CDATA[
						]]></p>
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/maven/maven-checks-checks-settings-file-description.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>CLI: <code>-Dliquibase.changeLogFile</code><![CDATA[
]]></p>
                        <p>Property in the <code>pom.xml</code> file:
<code>your changelog file</code><![CDATA[
]]></p>
                        <p>Environment variable:
<code>LIQUIBASE_COMMAND_CHECKS_RUN_CHANGELOG_FILE</code><![CDATA[
]]></p>
                    </td>
                    <td>The <MadCap:variable name="General.changelog" /> file against which you execute <a href="https://docs.liquibase.com/commands/quality-checks/configuring-quality-checks.html">checks</a> when running the <code>checks.run</code> goal.</td>
                </tr>
            </tbody>
        </table>
    </body>
</html>