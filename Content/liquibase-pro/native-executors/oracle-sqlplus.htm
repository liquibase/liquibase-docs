<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:searchable="False">
    <head><title><MadCap:variable name="Heading.Level1" /></title>
        <link rel="canonical" href="https://docs.liquibase.com/liquibase-pro/native-executors/oracle-sqlplus.html" />
        <meta name="description" content="The page describes how to use the SQL Plus integration and runWith attribute with Liquibase Pro and Oracle." />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    </head>
    <body>
        <MadCap:snippetBlock src="../../Z_Resources/Snippets/images/icon-pro-top.flsnp" />
        <h1>Use Native Executors with Oracle Database</h1>
        <p>This page describes how to use Liquibase with the SQL Plus native executor on an <a href="../../start/tutorials/oracle.html">Oracle database</a>.</p>
        <MadCap:snippetBlock src="../../Z_Resources/Snippets/text/parameter-runwith-prereqs-setup.flsnp" MadCap:conditionTagExpression="include[command-executors.sqlplus]" />
        <h2><a name="SQL"></a>SQL Plus integration arguments</h2>
        <MadCap:snippetBlock src="../../Z_Resources/Snippets/note/parameter-syntax.flsnp" />
        <table>
            <col />
            <col />
            <col />
            <thead>
                <tr>
                    <th>Syntax (<code>--cli</code>, <code>propertiesFile</code>, <code>ENV_VAR</code>)</th>
                    <th>Type</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><pre xml:space="preserve"><code>--sqlplus-args
liquibase.sqlplus.args
LIQUIBASE_SQLPLUS_ARGS</code></pre>
                    </td>
                    <td>String</td>
                    <td>
                        <MadCap:snippetBlock src="../../Z_Resources/Snippets/def/attributes/cli/executors/cli-global-args.flsnp" MadCap:conditionTagExpression="include[command-executors.sqlplus]" />
                    </td>
                </tr>
                <tr>
                    <td><pre xml:space="preserve"><code>--sqlplus-create-spool
liquibase.sqlplus.createSpool
LIQUIBASE_SQLPLUS_CREATE_SPOOL</code></pre>
                    </td>
                    <td>Boolean</td>
                    <td>
                        <MadCap:snippetBlock src="../../Z_Resources/Snippets/def/attributes/cli/executors/cli-global-create-spool.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><pre xml:space="preserve"><code>--sqlplus-keep-temp
liquibase.sqlplus.keep.temp
LIQUIBASE_SQLPLUS_KEEP_TEMP</code></pre>
                    </td>
                    <td>Boolean</td>
                    <td>
                        <MadCap:snippetBlock src="../../Z_Resources/Snippets/def/attributes/cli/executors/cli-global-keep-temp.flsnp" MadCap:conditionTagExpression="include[command-executors.sqlplus]" />
                    </td>
                </tr>
                <tr>
                    <td><pre xml:space="preserve"><code>--sqlplus-keep-temp-name
liquibase.sqlplus.keep.temp.name
LIQUIBASE_SQLPLUS_KEEP_TEMP_NAME</code></pre>
                    </td>
                    <td>String</td>
                    <td>
                        <MadCap:snippetBlock src="../../Z_Resources/Snippets/def/attributes/cli/executors/cli-global-keep-temp-name.flsnp" MadCap:conditionTagExpression="include[command-executors.sqlplus]" />
                    </td>
                </tr>
                <tr>
                    <td><pre xml:space="preserve"><code>--sqlplus-keep-temp-overwrite
liquibase.sqlplus.keep.temp.overwrite
LIQUIBASE_SQLPLUS_KEEP_TEMP_OVERWRITE</code></pre>
                    </td>
                    <td>Boolean</td>
                    <td>
                        <MadCap:snippetBlock src="../../Z_Resources/Snippets/def/attributes/cli/executors/cli-global-keep-temp-overwrite.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><pre xml:space="preserve"><code>--sqlplus-keep-temp-path
liquibase.sqlplus.keep.temp.path
LIQUIBASE_SQLPLUS_KEEP_TEMP_PATH</code></pre>
                    </td>
                    <td>String</td>
                    <td>
                        <MadCap:snippetBlock src="../../Z_Resources/Snippets/def/attributes/cli/executors/cli-global-keep-temp-path.flsnp" MadCap:conditionTagExpression="include[command-executors.sqlplus]" />
                    </td>
                </tr>
                <tr MadCap:conditions="">
                    <td><pre xml:space="preserve"><code>--sqlplus-password
liquibase.sqlplus.password
LIQUIBASE_SQLPLUS_PASSWORD</code></pre>
                    </td>
                    <td>String</td>
                    <td>
                        <MadCap:snippetBlock src="../../Z_Resources/Snippets/def/attributes/cli/executors/cli-global-password.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><pre xml:space="preserve"><code>--sqlplus-path
liquibase.sqlplus.path
LIQUIBASE_SQLPLUS_PATH</code></pre>
                    </td>
                    <td>String</td>
                    <td>
                        <MadCap:snippetBlock src="../../Z_Resources/Snippets/def/attributes/cli/executors/cli-global-path.flsnp" MadCap:conditionTagExpression="include[command-executors.sqlplus]" />
                    </td>
                </tr>
                <tr>
                    <td><pre xml:space="preserve"><code>--sqlplus-sqlerror
liquibase.sqlplus.sqlerror
LIQUIBASE_SQLPLUS_SQLERROR</code></pre>
                    </td>
                    <td>String</td>
                    <td>
                        <MadCap:snippetBlock src="../../Z_Resources/Snippets/def/attributes/cli/executors/cli-global-sqlerror.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><pre xml:space="preserve"><code>--sqlplus-timeout
liquibase.sqlplus.timeout
LIQUIBASE_SQLPLUS_TIMEOUT</code></pre>
                    </td>
                    <td>Integer</td>
                    <td>
                        <MadCap:snippetBlock src="../../Z_Resources/Snippets/def/attributes/cli/executors/cli-global-timeout.flsnp" MadCap:conditionTagExpression="include[command-executors.sqlplus]" />
                    </td>
                </tr>
                <tr MadCap:conditions="">
                    <td><pre xml:space="preserve"><code>--sqlplus-username
liquibase.sqlplus.username
LIQUIBASE_SQLPLUS_USERNAME</code></pre>
                    </td>
                    <td>String</td>
                    <td>
                        <MadCap:snippetBlock src="../../Z_Resources/Snippets/def/attributes/cli/executors/cli-global-username.flsnp" />
                    </td>
                </tr>
            </tbody>
        </table>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot><a name="runWith"></a><code style="font-size: 18pt;">runWith</code> and <code style="font-size: 18pt;">sqlplus</code> examples</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <h3>Formatted SQL <MadCap:variable name="General.changeset" style="font-style: normal; font-weight: bold;" /> using the <code>runWith</code> <MadCap:variable name="General.Param/Attribute" style="font-weight: bold;" /></h3><pre xml:space="preserve"><code class="language-html">--liquibase formatted sql
				
--changeset myauthorname:2314 runWith:sqlplus

    DECLARE l_emp_name VARCHAR2(250);
    l_emp_no NUMBER;
    l_salary NUMBER;

    l_manager VARCHAR2(250);
    BEGIN
    INSERT INTO emp(emp_name,emp_no,salary,manager) VALUES('BBB',1000,25000,'AAA');

    ...
    END;
    /</code></pre>
                <h3>XML changelog with the inline SQL <MadCap:variable name="General.changeset" style="font-style: normal;" /> using the <code>runWith</code> <MadCap:variable name="General.Param/Attribute" /></h3><pre xml:space="preserve"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;

<MadCap:snippetText src="../../Z_Resources/Snippets/code/liquibase-xsd-xml-changelog-closed.flsnp" />

    &lt;changeSet id="2" author="myauthorname" runWith="sqlplus"&gt; 
        &lt;sql&gt;
            DECLARE l_emp_name VARCHAR2(250);
            l_emp_no NUMBER;
            l_salary NUMBER;
            l_manager VARCHAR2(250);
               BEGIN
            INSERT INTO emp(emp_name,emp_no,salary,manager) VALUES('BBB',1000,25000,'AAA');
            ...
            END;
            /
        &lt;/sql&gt; 

    &lt;/changeSet&gt;

&lt;/databaseChangeLog&gt;</code></pre>
                <h3>XML <MadCap:variable name="General.changelog" style="font-style: normal;" /> pointing to a SQL file with raw SQL in it
                </h3><pre xml:space="preserve"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
<MadCap:snippetText src="../../Z_Resources/Snippets/code/liquibase-xsd-xml-changelog-closed.flsnp" />					

    &lt;changeSet id="2315" author="myauthorname" runWith="sqlplus"&gt;  
        &lt;sqlFile
        path="my/path/file.sql"
    ... &gt; 
    &lt;/changeSet&gt;

&lt;/databaseChangeLog&gt;</code></pre>
                <h3>YAML <MadCap:variable name="General.changelog" style="font-style: normal;" /> pointing to an SQL file with raw SQL in it
                </h3><pre xml:space="preserve"><code class="language-yaml" data-lang="yaml">databaseChangeLog:
   - changeSet:
       id: 1-yaml
       author: myauthorname
       runWith: sqlplus
       changes:
       - sqlFile:
           path: person.sql
           relativeToChangelogFile: true</code></pre>
                <h3>JSON <MadCap:variable name="General.changelog" style="font-style: normal;" /> pointing to an SQL file with raw SQL in it
                </h3><pre xml:space="preserve"><code class="language-json" data-lang="json">{
  "databaseChangeLog": [
    {
      "changeSet": {
        "id": "1-json",
        "author": "myauthorname",
        "runWith": "sqlplus",
        "changes": [
          {
            "sqlFile": {
              "path": "person.sql",
              "relativeToChangelogFile": "true"
            }
          }
        ]
      }
    ]
  }
}</code></pre>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:snippetBlock src="../../Z_Resources/Snippets/text/parameter-runwith-best-practices.flsnp" MadCap:conditionTagExpression="include[command-executors.sqlplus]" />
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot>Example <code>liquibase.sqlplus.conf</code> file</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody><pre xml:space="preserve"><code>####
##   Note about relative and absolute paths:
##      The liquibase.sqlplus.path must be a valid path to the SQLPlUS executable.
##      The liquibase.sqlplus.timeout value can be one of:
##      -1    - disable the timeout
##      Any integer value &gt; 0 (measured in seconds)
##      
####

# The full path to the SQLPLUS executable.
# Sample Linux path
# liquibase.sqlplus.path=/apps/app/12.2.0.1.0/oracle/product/12.2.0.1.0/client_1/bin/sqlplus
# Sample Windows path
# liquibase.sqlplus.path=c:\\oracle\\product\\11.2.0\\client_1\\bin\\sqlplus.exe

# A valid timeout value for the execution of the SQLPLUS tool
liquibase.sqlplus.timeout=-1

# Flag to indicate whether or not to keep the temporary SQL file after execution of SQLPLUS.
# True = keep False = delete (default)
liquibase.sqlplus.keep.temp=true

# OPTIONAL Flag to designate the location to store temporary SQL file after execution of SQLPLUS.
# Liquibase will attempt to use path exactly as entered, so please ensure it complies with your OS requirements.
# liquibase.sqlplus.keep.temp.path=

# OPTIONAL Flag to designate the name of temporary SQL file after execution of SQLPLUS.
# Liquibase will attempt to use the name exactly as entered, so please ensure it complies with your OS requirements.
# liquibase.sqlplus.keep.temp.name=

# OPTIONAL Args to pass directly to SQLPLUS.
# Learn about SQLPLUS args at https://docs.oracle.com/cd/B10501_01/server.920/a90842/ch4.htm
# Note: The delimiter for args is a space eg:" " and not "," or ";" separated.
# liquibase.sqlplus.args=</code></pre>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <h2>Troubleshooting</h2>
        <p>If you experience issues running raw SQL with SQL Plus, see <MadCap:xref href="oracle-sqlplus-troubleshoot.htm">Troubleshoot Running Raw SQL Using SQLPlus</MadCap:xref>.</p>
        <h2>Related videos</h2><iframe width="420px" height="315px" src="https://www.youtube.com/embed/fHyNnxkbTps?si=q8j4qjXhYzEg3Jns" class="center"></iframe>
        <h2>Related links</h2>
        <ul>
            <li>
                <MadCap:xref href="../../concepts/changelogs/attributes/runwith.htm">runWith</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="../../concepts/changelogs/attributes/run-with-spool-file.htm">runWithSpoolFile</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="../../change-types/modifychangesets.htm">modifyChangeSets</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="../../start/tutorials/oracle.html">Using [%=General.Liquibase%] with Oracle Database</MadCap:xref>
            </li>
            <li><a href="https://contribute.liquibase.com/extensions-integrations/directory/integration-docs/springboot/using-springboot-sql-plus-kerberos">Using [%=General.Liquibase%] and Spring Boot with SQL Plus and Kerberos Authentication</a>
            </li>
        </ul>
    </body>
</html>