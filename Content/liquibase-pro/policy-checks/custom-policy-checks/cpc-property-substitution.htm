<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:conditions="exclude.future">
    <head>
    </head>
    <body>
        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/images/icon-pro-top.flsnp" />
        <h1>Custom&#160;Policy Check property substitution</h1>
        <p>Liquibase users who utilize Custom Policy Checks can use property substitution when they are setting the <code>SCRIPT_ARGS</code> during <a href="https://docs.liquibase.com/liquibase-pro/policy-checks/custom-policy-checks/create-check.html#:~:text=custom_check_no_tables.py.-,Set SCRIPT_ARGUMENT,-. This allows you">check creation</a>. You can reference properties such as environment variables, CLI arguments, or values from the defaults file using standard substitution syntax. This enables dynamic and context-aware scripting, such as configuring behavior based on runtime attributes like the current Git branch or target environment. It makes your Custom Policy Checks more flexible, reusable, and maintainable.</p>
        <h2>Example scenario 1:</h2>
        <p>In this example, a Python script needs to run against a target URL, but you don’t know the URL ahead of time. Instead of hard coding it, you can use the value that Liquibase sets for <code>liquibase.command.url</code>, since that’s always the correct target for each operation. By adding the below script to the Custom Policy Check script, Liquibase can then use that value automatically.<br /><br /><code>targeturl: "${liquibase.command.url}"</code></p>
        <h2>example scenario 2:&#160;</h2>
        <p>In this example, the script needs to behave differently depending on who owns the pipeline. If the pipeline name starts with <code>UK_DEV_APPS_</code>, you want to run an additional condition. I can do this by passing a variable like <code>${PIPELINE_NAME}</code> into my script, and using Python to check if the name starts with <code>UK_DEV_APPS_</code>. By adding the below script to the Custom Policy Check script, <MadCap:variable name="General.CompanyName" /> can decide whether to run certain actions or skip them.<br /><br /><code>pipelinename:"${PIPELINE_NAME}"</code><br /></p>
    </body>
</html>