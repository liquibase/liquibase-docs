<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:searchable="False">
    <head><title><MadCap:variable name="Heading.Level1" /></title>
        <link rel="canonical" href="https://docs.liquibase.com/liquibase-pro/license-key.html" />
        <meta name="description" content="This page contains infomation on how to apply your Liquibase Pro license key." />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    </head>
    <body>
        <MadCap:snippetBlock src="../Z_Resources/Snippets/images/icon-pro-top.flsnp" />
        <h1>How to Apply Your <MadCap:variable name="General.LBPro" /> License Key</h1>
        <div align="center"><iframe width="560" height="315" src="https://www.youtube.com/embed/jz9ndxw5KEM" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="true"></iframe>
        </div>
        <p><a href="https://liquibase.org/try-liquibase-pro-free" target="_blank"><MadCap:variable name="General.LBPro" /></a> offers all the functionality of <MadCap:variable name="General.LBCommunity" /> as well as the following features:</p>
        <ul>
            <li>
                <MadCap:xref href="targeted-rollbacks.htm">Targeted Rollbacks</MadCap:xref> for one change or set of changes</li>
            <li>Enhanced <MadCap:xref href="stored-logic/home.htm">Stored Logic</MadCap:xref> capabilities</li>
            <li>Database drift detection</li>
            <li>
                <MadCap:xref href="policy-checks/home.htm">Policy Checks</MadCap:xref>
            </li>
            <li><a href="../concepts/changelogs/attributes/runwith.htm">Native executors for PSQL, SQL Plus, and SQLCMD</a>
            </li>
            <li><a href="remote-files/s3.htm">Remote file access with S3</a>
            </li>
            <li>
                <MadCap:xref href="secrets-management/home.htm">Secrets Management</MadCap:xref>
            </li>
            <li><a href="flow/home.htm">Portable and centralized workflows</a>
            </li>
            <li>
                <MadCap:xref href="observability/structured-logging.htm">[%=General.StructuredLogging%]</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="observability/operation-reports.htm">Operation Reports</MadCap:xref>
            </li>
        </ul>
        <p>For more information about <MadCap:variable name="General.LBPro" /> features, see <MadCap:xref href="home.htm">[%=General.LBPro%]</MadCap:xref>.</p>
        <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;"> To take advantage of all <MadCap:variable name="General.LBPro" /> features, it is recommended to use <a href="https://www.liquibase.org/download">the latest version of <MadCap:variable name="General.Liquibase" /></a>.</p>
        <h2>Apply your <MadCap:variable name="General.LBPro" /> license key</h2>
        <p class="tip" MadCap:autonum="&lt;b&gt;Tip: &lt;/b&gt;"> It is best to use a <MadCap:xref href="secrets-management/home.htm">Secrets Management</MadCap:xref> tool like Hashicorp Vault or AWS Secrets Manager to keep <MadCap:variable name="General.Liquibase" /> license keys secure.</p>
        <p>There are several ways to apply the <MadCap:variable name="General.LBPro" /> license key:</p>
        <div class="js-tabs">
            <ul class="js-tablist" data-hx="h3">
                <li class="js-tablist__item"><a href="#properties_file" id="label_properties_file" class="js-tablist__link">liquibase.properties file</a>
                </li>
                <li class="js-tablist__item"><a href="#cli" id="label_cli" class="js-tablist__link">CLI Parameter</a>
                </li>
                <li class="js-tablist__item"><a href="#envar" id="label_envar" class="js-tablist__link">Environment Variable</a>
                </li>
                <li class="js-tablist__item"><a href="#java_opts" id="label_java_opts" class="js-tablist__link">JAVA_OPTS</a>
                </li>
                <li class="js-tablist__item"><a href="#docker" id="label_docker" class="js-tablist__link">Docker</a>
                </li>
                <li class="js-tablist__item"><a href="#maven_pom" id="label_maven_pom" class="js-tablist__link">Maven pom.xml</a>
                </li>
                <li class="js-tablist__item"><a href="#azure" id="label_azure" class="js-tablist__link">Azure DevOps</a>
                </li>
                <li class="js-tablist__item"><a href="#custom_java" id="label_custom_java" class="js-tablist__link">Custom Java Application</a>
                </li>
            </ul>
            <div id="properties_file" class="js-tabcontent">
                <p>Include the <MadCap:variable name="General.LBPro" /> license key in the <a href="../concepts/connections/creating-config-properties.html"><MadCap:variable name="General.Liquibase" /> properties file</a> and save it. For example:</p><pre><code class="language-text" data-lang="text">liquibase.licenseKey: aei76ou32thp785463214</code></pre>
            </div>
            <div id="cli" class="js-tabcontent">
                <p>Pass the <MadCap:variable name="General.LBPro" /> license key as a parameter in the command line during runtime:</p><pre xml:space="preserve"><code class="language-text" data-lang="text">liquibase --license-key=[paste the <MadCap:variable name="General.LBPro" /> license key] [command]</code></pre>
                <p>For example:</p><pre xml:space="preserve"><code class="language-text" data-lang="text">liquibase --license-key=aei76ou32thp785463214 update</code></pre>
            </div>
            <div id="envar" class="js-tabcontent">
                <p>Set the <MadCap:variable name="General.LBPro" /> license key as an <a href="../concepts/connections/liquibase-environment-variables.htm">environment variable</a> in the command line.</p>
                <p>On Windows:</p><pre><code class="language-text" data-lang="text">set LIQUIBASE_LICENSE_KEY=aei76ou32thp785463214</code></pre>
                <p>On Linux/macOS:</p><pre xml:space="preserve"><code class="language-text" data-lang="text">export LIQUIBASE_LICENSE_KEY=aei76ou32thp785463214</code></pre>
            </div>
            <div id="java_opts" class="js-tabcontent">
                <p>Set the <MadCap:variable name="General.LBPro" /> license key with the <MadCap:xref href="../concepts/connections/java-opts-environment-variable.htm">JAVA_OPTS Environment Variable</MadCap:xref> in the command line:</p><pre><code class="language-text" data-lang="text">JAVA_OPTS="Dliquibase.liquibaseLicenseKey=&lt;enter license key here&gt;"</code></pre>
            </div>
            <div id="docker" class="js-tabcontent">
                <p>Pass the <MadCap:variable name="General.LBPro" /> license key while using a <a href="../workflows/liquibase-community/using-liquibase-and-docker.htm">Docker container</a>. Docker allows the use of <code>--env</code> in the command.</p><pre xml:space="preserve"><code class="language-text" data-lang="text">docker run --env LIQUIBASE_LICENSE_KEY=&lt;enter license key here&gt;...  \
-it liquibase/liquibase:latest sh</code></pre>
            </div>
            <div id="maven_pom" class="js-tabcontent">
                <p>If you use Maven, include the <MadCap:variable name="General.LBPro" /> license key in the <a href="../tools-integrations/maven/maven-properties.htm"><code>&lt;properties&gt;</code></a> section of your <a href="../tools-integrations/maven/maven-pom-file.htm"><code>pom.xml</code> file</a>:</p><pre><code class="language-text" data-lang="text">&lt;liquibase.liquibaseLicenseKey&gt;key-goes-here&lt;/liquibase.liquibaseLicenseKey/&gt;</code></pre>
                <p>For example:</p><pre><code class="language-xml">&lt;plugin&gt;
    &lt;groupId&gt;org.liquibase&lt;/groupId&gt;
    &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;0-SNAPSHOT&lt;/version&gt;
    &lt;configuration&gt;
        &lt;changelog-file&gt;com/example/changelog_v4.6.xml&lt;/changelog-file&gt;
        &lt;liquibaseLicenseKey&gt;key-goes-here&lt;/liquibaseLicenseKey&gt;
    &lt;/configuration&gt;
&lt;/plugin&gt;</code></pre>
            </div>
            <div id="azure" class="js-tabcontent">
                <p>If you use Azure DevOps and pass your license key as an environment variable, you can set the value of <code>LIQUIBASE_LICENSE_KEY</code> in your Azure DevOps pipeline setting file:</p><pre xml:space="preserve"><code class="language-text">script: |
    echo "Running Policy Checks"
    liquibase checks run --changeLogFile=mysqlChangelog.xml
displayName: 'Run Policy Checks'
env:
    LIQUIBASE_LICENSE_KEY: $(LiquibaseKey)</code></pre>
                <p>In this example, <code>LiquibaseKey</code> is the name of the Azure DevOps project variable whose value is the license key.</p>
            </div>
            <div id="custom_java" class="js-tabcontent">
                <p>You can directly embed your <MadCap:variable name="General.LBPro" /> license key (<code class="language-text">myProLicenseKey</code>) in a custom Java application by following these steps:</p>
                <ol>
                    <li>In your Maven <code class="language-text">pom.xml</code> file, point to <code class="language-text">liquibase-commercial.jar</code> as a dependency:</li><pre xml:space="preserve"><code class="language-xml">&lt;dependency&gt;
    &lt;groupId&gt;org.liquibase&lt;/groupId&gt;
    &lt;artifactId&gt;liquibase-commercial&lt;/artifactId&gt;
    &lt;version&gt;<MadCap:variable name="software-versions.latest-liquibase-pro" />&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
                    <li>In your custom Java file, import the following:</li><pre xml:space="preserve"><code class="language-java">import com.datical.liquibase.ext.config.LiquibaseLabsConfiguration;</code></pre>
                    <li>In your custom Java file, call on the <code class="language-text">LiquibaseLabsConfiguration</code> class. For example, to specify your license key so that you can run the <MadCap:variable name="General.LBPro" />&#160;<code><MadCap:xref href="../commands/update/update-one-changeset.htm">update-one-changeset</MadCap:xref></code> command:</li><pre xml:space="preserve"><code class="language-java">Scope.child(LiquibaseLabsConfiguration.LICENSE_KEY.getKey(), "myProLicenseKey", () -&gt;
    new CommandScope(UpdateOneChangeSetSqlCommandStep.COMMAND_NAME)
        .addArgumentValue(DbUrlConnectionArgumentsCommandStep.DATABASE_ARG, liquibase.getDatabase())
        .addArgumentValue(DatabaseChangelogCommandStep.CHANGELOG_FILE_ARG, "/db_schema/changelog.xml")
        .addArgumentValue(UpdateOneChangeSetCommandStep.CHANGESET_AUTHOR_ARG, "fl")
        .addArgumentValue(UpdateOneChangeSetCommandStep.CHANGESET_ID_ARG, "1")
        .addArgumentValue(UpdateOneChangeSetCommandStep.CHANGESET_PATH_ARG, "/db_schema/changelog.xml")
        .execute()
);</code></pre>
                </ol>
                <p>For information on running <MadCap:variable name="General.Liquibase" /> commands in Java files, see <a href="https://contribute.liquibase.com/code/api/command-commandscope/"><code class="language-text">liquibase.command.CommandScope</code></a>.</p>
            </div>
        </div>
        <p>To verify that your <MadCap:variable name="General.LBPro" /> license key works as expected and  to check its expiration date, you can run the <MadCap:xref href="../commands/change-tracking/status.htm">status</MadCap:xref> command.</p>
        <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">The syntax <code>liquibase.pro.licenseKey</code> (rather than <code>liquibase.licenseKey</code>) is deprecated by <MadCap:variable name="General.Liquibase" />, but still works.</p>
        <h2>Related links</h2>
        <ul>
            <li>
                <MadCap:xref href="../concepts/connections/creating-config-properties.html">Create and Configure a [%=General.liquiPropFile%] File</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="../commands/home.htm">[%=General.Liquibase%] Commands</MadCap:xref>
            </li>
        </ul>
    </body>
</html>