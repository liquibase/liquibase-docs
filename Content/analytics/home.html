<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:searchable="False">
    <head><title><MadCap:variable name="Heading.Level1" /></title>
        <link rel="canonical" href="https://docs.liquibase.com/analytics/home.html" />
        <meta name="description" content="This page describes the anonymous analytics that Liquibase collects." />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    </head>
    <body>
        <h1>Anonymous Analytics</h1>
        <p>This document describes the aggregated, anonymous data Liquibase collects and how it's used. Liquibase does not collect personally identifiable information (PII). Liquibase does not provide or sell any data to third parties.</p>
        <p>In Liquibase 4.30.0 and later, analytics are <b>enabled by default</b> for <MadCap:variable name="General.LBCommunity" /> users. Starting with Liquibase 4.32.0 and later, analytics are <b>enabled by default</b> for <MadCap:variable name="General.LBPro" /> users. <b>You can opt in or out at any time.</b></p>
        <p>Liquibase only collects data when a command is run, so you can enable or disable the feature before running any commands.</p>
        <h2>Why collect analytics?</h2>
        <p>Gathering anonymous usage analytics allows us to better understand how Liquibase is actually being used by a diverse set of millions of users. This data helps our small team help our users better by providing insight into things like:</p>
        <ul>
            <li><b>Which commands are the most used:</b>  if some commands are never used it might mean we need to reconsider that command’s purpose, provide more resources to help increase usage, or even remove the command entirely.</li>
            <li><b>Which commands result in the most failures:</b> knowing this helps us identify gaps in documentation or the product itself.</li>
            <li><b>Which database platforms are the most used with Liquibase:</b> this information helps us identify where we should focus our efforts to maximize benefit for our users.</li>
            <li><b>Which versions of Java are our users on:</b> this helps us as we consider updating Java versions in core and many extensions.</li>
            <li><b>Which versions of Liquibase are users on:</b> this helps us understand if users are updating regularly or where we might help with updates.</li>
        </ul>
        <h2>What information do we collect?</h2>
        <p>If analytics are enabled, Liquibase records the following information <b>when a command is run</b>:</p>
        <ul>
            <li><b>Command-specific data</b> like command name, if the command succeeded or failed, and exception data if there is a failure</li>
            <li><b>Liquibase data</b> including version and interface that it’s being run in</li>
            <li><b>Database platform</b> including version</li>
            <li><b>Changelog formats</b> and number of changelogs run</li>
            <li><b>Extension information</b> like which extensions are being used and what version</li>
            <li><b><MadCap:variable name="General.LBPro" /> feature information</b> like which features are enabled</li>
            <li><b>Operating system information</b> like type of OS, version, and architecture</li>
        </ul>
        <p><b>Liquibase does not gather any personally identifiable information.</b> This data is all aggregated and anonymous.</p>
        <MadCap:snippetBlock src="../Z_Resources/Snippets/text/parameter-analytics-log-level.flsnp" />
        <h2>Do analytics affect Liquibase performance?</h2>
        <p>Analytics do not significantly affect Liquibase performance. Enabling or disabling analytics does not change your experience of Liquibase.</p>
        <p>Liquibase processes analytics <b>after</b> running a command. Liquibase waits a maximum of 1.5 seconds for analytics to finish processing after running a command, although analytics are typically processed more quickly. If Liquibase cannot process analytics data within 1.5 seconds, it continues with the operation.</p>
        <h2>Opt out</h2>
        <p>If you do not want to participate in Liquibase anonymous analytics, you can opt out at any time using the <code>--<MadCap:xref href="../parameters/analytics-enabled.htm">analytics-enabled</MadCap:xref></code> parameter.</p>
        <ul>
            <li><b>Opt out per CLI command:</b> specify the parameter <code>--analytics-enabled=false</code>. This <b>turns off</b> analytics gathering for that single occurrence of a command. For example:</li><pre><code>liquibase --analytics-enabled=false status</code></pre>
            <li><b>Opt out globally:</b> add <code>liquibase.analytics.enabled: false</code> to your <a href="../concepts/connections/creating-config-properties.html">defaults file</a> or use the <a href="../concepts/connections/liquibase-environment-variables.htm">environment variable</a> <code>LIQUIBASE_ANALYTICS_ENABLED=false</code>.</li>
        </ul>
        <h2>Opt in</h2>
        <p>If you have previously disabled Liquibase anonymous analytics, you can opt in at any time using the <code>--<MadCap:xref href="../parameters/analytics-enabled.htm">analytics-enabled</MadCap:xref></code> parameter.</p>
        <ul>
            <li><b>Opt in per CLI command:</b> specify the parameter <code>--analytics-enabled=true</code>. This <b>turns on</b> analytics gathering for that single occurrence of a command. For example:</li><pre><code>liquibase --analytics-enabled=true status</code></pre>
            <li><b>Opt in globally:</b> add <code>liquibase.analytics.enabled: true</code> to your <a href="../concepts/connections/creating-config-properties.html">defaults file</a> or use the <a href="../concepts/connections/liquibase-environment-variables.htm">environment variable</a> <code>LIQUIBASE_ANALYTICS_ENABLED=true</code>.</li>
        </ul>
        <h2>Validating your selection</h2>
        <p>You can verify whether anonymous analytics are being collected by  setting an analytics log level and then querying for status. </p>
        <p>For example, to see whether you've successfully disabled analytics, you could set the analytics log level to INFO and query whether the Liquibase analytics is set to false. </p>
        <p><code>liquibase --analytics-log-level INFO --analytics-enabled false status --log-level INFO</code>
        </p>
        <p>If analytics is disabled, the log will return:<code> INFO [liquibase.analytics] User has disabled analytics</code>. </p>
        <h2>Troubleshooting</h2>
        <p>If you use an external application that blocks analytics at the&#160;DNS level and causes your application to fail, you can do one of the following:</p>
        <ul>
            <li>Use the <code>--<MadCap:xref href="../parameters/analytics-enabled.htm">analytics-enabled</MadCap:xref></code> parameter to turn off analytics</li>
            <li>Whitelist the domain your external application is blocking</li>
        </ul>
        <h2>Related links</h2>
        <ul>
            <li>
                <MadCap:xref href="../concepts/liquibase-security.htm">[%=General.Liquibase%] Security</MadCap:xref>
            </li>
            <li><code>--<MadCap:xref href="../parameters/analytics-enabled.htm">analytics-enabled</MadCap:xref></code>
            </li>
            <li><code>--<MadCap:xref href="../parameters/log-level.htm">log-level</MadCap:xref></code>
            </li>
        </ul>
    </body>
</html>