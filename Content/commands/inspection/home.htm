<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:searchable="False">
    <head><title><MadCap:variable name="Heading.Level1" /></title>
        <link rel="canonical" href="https://docs.liquibase.com/commands/update/home.html" />
        <meta name="description" content="List and description of database inspection commands. The purpose of the database inspection commands is to allow users to compare differences between databases and between snapshots of one database over time." />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    </head>
    <body>
        <img src="../../Z_Resources/Images/Icons/command-icons/command-icon-database-inspection.png" alt="Simplified icon of a database stack with an arrow pointing right and one beneath it pointing left, all under a magnifying glass" />
        <h1>Database Inspection Commands</h1>
        <p>The purpose of the database inspection commands is to allow users to compare differences between databases and between snapshots of one database over time.</p>
        <h2>Database Inspection Category</h2>
        <p>These commands are available in all <MadCap:variable name="General.Liquibase" /> editions.</p>
        <ul>
            <li><code><MadCap:xref href="diff.htm">diff</MadCap:xref></code>: use this to <b>compare</b> two databases or compare changes in one database over time. The command helps users detect drift between a model schema and a database's actual schema. It's also used to <b>identify</b> missing database objects or unexpected items.</li>
            <li><code><MadCap:xref href="diff-changelog.html">diff-changelog</MadCap:xref></code>: use this to create a deployable <MadCap:variable name="General.changelog" /> to synchronize multiple databases. The command is also used to <b>identify</b> missing database objects or unexpected items.</li>
            <li><code><MadCap:xref href="snapshot.html">snapshot</MadCap:xref></code>: use this to capture the <b>current state</b> of the target database where commands are executed. The command can also be used to <b>compare</b> a previous database state to another snapshot.</li>
            <li><code><MadCap:xref href="snapshot-reference.html">snapshot-reference</MadCap:xref></code>: use this to capture the <b>current state</b> of the source database (<code class="language-text">--reference-url</code>).</li>
            <li><code><MadCap:xref href="generate-changelog.html">generate-changelog</MadCap:xref></code>: use this to create a <MadCap:variable name="General.changelog" /> file that captures the <b>current state</b> of a database. The <MadCap:variable name="General.changelog" /> can be used to apply changes to another database where <MadCap:variable name="General.Liquibase" /> has not been used before.</li>
        </ul>
        <h2>Additional Commands for <MadCap:variable name="General.LBPro" /></h2>
        <p>These commands require an <b>active</b>&#160;<a href="https://www.liquibase.com/pricing/pro"><MadCap:variable name="General.LBPro" /> license</a>:</p>
        <ul>
            <li><code><MadCap:xref href="diff-json.htm">diff JSON</MadCap:xref></code>: use this to detect drift between a model schema and a database's actual schema using the diff command with the command output in a machine-readable JSON file, which can be used as an input to automated processes.</li>
        </ul>
        <p>Each <b>individual database inspection command page</b> specifies the criteria for using the command successfully, including a list of required and optional command-specific arguments.</p>
        <h2>Database Inspection Command Requirements</h2>
        <p><b>All</b> inspection commands require the following <b>command argument</b>:</p>
        <ul>
            <li>The JDBC database connection URL is specified as <code class="language-text">--url</code>. This represents the target database where commands are executed.</li>
        </ul>
        <p>The <code class="language-text">diff</code>, <code class="language-text">diff-changelog</code>, and <code class="language-text">diff</code> JSON commands also require the following <b>command argument</b>:</p>
        <ul>
            <li>The reference JDBC database connection URL is specified as <code class="language-text">--reference-url</code>. This represents the source database used to compare to the target database.</li>
        </ul>
        <p>Your source and target databases may also require the <code class="language-text">--username</code> and <code class="language-text">--password</code> arguments in <MadCap:variable name="General.Liquibase" />. However, the username and password are not required for connections and systems which use alternate means of authentication.</p>
        <h2>Troubleshooting</h2>
        <p>If <MadCap:variable name="General.Liquibase" /> returns an error when you run a database inspection command, use the <b><MadCap:variable name="General.Liquibase" />&#160;<code class="language-text">--help</code> parameter</b> to check the correct syntax of the command and the command-specific parameters you can use with it.</p>
        <p><b>For example, in the CLI:</b>
        </p><pre><code class="language-shell">liquibase &lt;command&gt; --help</code></pre>
        <h2>Related Content</h2>
        <ul>
            <li>Visit the <MadCap:xref href="../../workflows/liquibase-community/using-jdbc-url-in-liquibase.htm">Using JDBC URL in [%=General.Liquibase%]</MadCap:xref>  documentation page to learn more about <MadCap:variable name="General.Liquibase" /> database connection requirements.</li>
            <li>Visit the <MadCap:variable name="General.LBPro" />&#160;<MadCap:xref href="../../tools-integrations/observability/operation-reports-drift-report.htm">Drift Report</MadCap:xref> documentation page to learn more about generating an drift detection operational report using the <code class="language-text">diff</code> and <code class="language-text">diff-changelog</code> commands. Requires an active <MadCap:variable name="General.LBPro" /> license and <MadCap:variable name="General.Liquibase" /> version 4.25.0 and later (<code class="language-text">diff</code>) or 4.25.1 and later (<code class="language-text">diff</code> and <code class="language-text">diff-changelog</code>).</li>
        </ul>
        <h2><MadCap:variable name="General.Liquibase" /> Resources</h2>
        <h3><MadCap:variable name="General.Liquibase" /> Help</h3>
        <p>Visit the <MadCap:variable name="General.Liquibase" />&#160;<a href="https://forum.liquibase.org/">Forum</a> channel to ask questions, find answers from other <MadCap:variable name="General.Liquibase" /> users, and learn about new <MadCap:variable name="General.Liquibase" /> version releases.</p>
        <h3>Tutorials</h3>
        <ul>
            <li>Visit the <MadCap:xref href="../../workflows/liquibase-community/diffing-multiple-schemas-in-liquibase.htm">Diffing Multiple Schemas in [%=General.Liquibase%]</MadCap:xref> documentation page to learn more about best practices and a review of a typical workflow using the inspection commands.</li>
            <li>Visit the <MadCap:xref href="../../workflows/liquibase-community/existing-project.html">How to set up [%=General.Liquibase%] with an Existing Project and Multiple Environments</MadCap:xref> documentation page to learn how to use the <code class="language-text">generate-changelog</code> command to set up <MadCap:variable name="General.Liquibase" /> on multiple environments.</li>
        </ul>
        <h3><MadCap:variable name="General.Liquibase" /> University</h3>
        <p><a href="https://learn.liquibase.com/catalog/info/id:152">Fundamentals of Liquibase</a>: this course includes, but is not limited to, an introduction to the <code class="language-text">diff</code> and <code class="language-text">snapshot</code> commands.</p>
        <h3>Blogs and Articles</h3>
        <ul>
            <li><a href="https://www.liquibase.com/blog/detecting-changes-improve-database-security-quality">Detecting Database Changes to Improve Security and Quality</a>: read this tips and tricks blog on why inspecting databases is useful and using <MadCap:variable name="General.Liquibase" /> inspection commands to compare database states.</li>
            <li><a href="https://www.liquibase.com/blog/comparing-two-states-database-schema">Comparing Two States of the Same Database Schema</a>: read this tips and tricks blog on the workflow steps to compare two database schema states.</li>
            <li><a href="https://www.liquibase.com/blog/liquibase-diffs">Best Practices for Using Diffs</a>: read this tips and tricks blog for when diff commands are useful and considerations before using these commands.</li>
        </ul>
    </body>
</html>