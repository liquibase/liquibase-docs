<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:searchable="False">
    <head><title><MadCap:variable name="Heading.Level1" /></title>
        <link rel="canonical" href="https://docs.liquibase.com/commands/rollback/home.html" />
        <meta name="description" content="List and description of rollback commands. The purpose of rollback commands is to revert deployed database changes." />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    </head>
    <body>
        <img src="../../Z_Resources/Images/Icons/command-icons/command-icon-rollback.png" alt="Simplified icon of a database stack with a &quot;return&quot; arrow at the bottom" />
        <h1>Rollback Commands</h1>
        <p>The purpose of rollback commands is to revert deployed database changes. Rollback commands undo changes that have been deployed to a specified point such as a date, number of changes, or by tag name. 
When database changes are rolled back, the row associated with that change is <b>deleted</b> from the <MadCap:xref href="../../concepts/tracking-tables/databasechangelog-table.html">[%=General.databasechangelog%] table</MadCap:xref>.</p>
        <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">In Liquibase 4.27.0 and later, you can enable the <MadCap:xref href="../../concepts/tracking-tables/databasechangeloghistory-table.htm">[%=General.databasechangeloghistory%] table</MadCap:xref> to see a full history of rollbacks and other changes to your database.</p>
        <h2>Risks</h2>
        <p>Because data is constantly changing, there is a risk of data loss when a rollback is executed. There is also a risk of database drift if the rollback is not executed in <b>all</b> impacted database environments. Refer to the <MadCap:xref href="#Blogs">Blogs and Articles</MadCap:xref> section for more information.</p>
        <h2>Rollback Category</h2>
        <p>These commands are available in <b>all</b>&#160;Liquibase editions.</p>
        <ul>
            <li><code><MadCap:xref href="rollback.htm">rollback</MadCap:xref></code>: use this to revert changes made to the database based on a <b>specified tag</b> such as a release.</li>
            <li><code><MadCap:xref href="rollback-sql.htm">rollback-sql</MadCap:xref></code>: run this <b>before the <code class="language-text">rollback</code> command</b> to inspect the raw SQL for potential issues.</li>
            <li><code><MadCap:xref href="rollback-to-date.htm">rollback-to-date</MadCap:xref></code>: use this to revert changes made to the database to a previous state based on a <b>specified date and/or time</b>.</li>
            <li><code><MadCap:xref href="rollback-to-date-sql.htm">rollback-to-date-sql</MadCap:xref></code>: run this <b>before the <code class="language-text">rollback-to-date</code> command</b> to inspect the raw SQL for potential issues.</li>
            <li><code><MadCap:xref href="rollback-count.htm">rollback-count</MadCap:xref></code>: use this to revert a <b>specified number of <MadCap:variable name="General.changeset" />s</b>.</li>
            <li><code><MadCap:xref href="rollback-count-sql.htm">rollback-count-sql</MadCap:xref></code>: run this <b>before the <code class="language-text">rollback-count</code> command</b> to inspect the raw SQL for potential issues.</li>
            <li><code><MadCap:xref href="future-rollback-sql.htm">future-rollback-sql</MadCap:xref></code>: use this to inspect the raw SQL before rolling back changes that have not been deployed but added to the <MadCap:variable name="General.changelog" />.</li>
            <li><code><MadCap:xref href="future-rollback-from-tag-sql.htm">future-rollback-from-tag-sql</MadCap:xref></code>: use this to inspect the raw SQL before rolling back changes that have not been deployed but added to the <MadCap:variable name="General.changelog" /> up to a <b>specified tag</b>. Learn more about <MadCap:xref href="../../change-types/tag-database.html">tagDatabase</MadCap:xref> and <MadCap:xref href="../utility/tag.html">tag</MadCap:xref>.</li>
            <li><code><MadCap:xref href="future-rollback-count-sql.htm">future-rollback-count-sql</MadCap:xref></code>: use this to inspect the raw SQL before rolling back a <b>specified number</b> of changes that have not been deployed but added to the <MadCap:variable name="General.changelog" />.</li>
        </ul>
        <p>Since rollback commands change the schema of a database, Liquibase provides SQL output commands that you can run beforehand. The SQL output commands let you inspect the SQL that Liquibase will generate when you run the rollback commands.</p>
        <h2>Additional Commands for <MadCap:variable name="General.LBPro"></MadCap:variable></h2>
        <p>These commands require an <b>active</b>&#160;<a href="https://www.liquibase.com/pricing/pro"><MadCap:variable name="General.LBPro" /> license</a>:</p>
        <ul>
            <li><code><MadCap:xref href="rollback-one-changeset.html">rollback-one-changeset</MadCap:xref></code>: use this to revert a single change without impact to changes made before or after the targeted change</li>
            <li><code><MadCap:xref href="rollback-one-changeset-sql.html">rollback-one-changeset-sql</MadCap:xref></code>: run this <b>before the <code class="language-text">rollback-one-changeset</code> command</b> to inspect the raw SQL for potential issues.</li>
            <li><code><MadCap:xref href="rollback-one-update.html">rollback-one-update</MadCap:xref></code>: use this to revert all changes that were applied to the database related to a specific deploymentID.</li>
            <li><code><MadCap:xref href="rollback-one-update-sql.html">rollback-one-update-sql</MadCap:xref></code>: run this <b>before the <code class="language-text">rollback-one-update</code> command</b> to inspect the raw SQL for potential issues.</li>
        </ul>
        <p>Each <b>individual rollback command page</b> specifies the criteria for using the command successfully, including a list of required and optional command-specific arguments.</p>
        <h2>Rollback Command Requirements</h2>
        <p><b>All</b> rollback commands require the following <b>command arguments</b>:</p>
        <ul>
            <li>The root <MadCap:variable name="General.changelog" /> file is specified as <code class="language-text">--changelog-file</code>.</li>
            <li>The JDBC database connection URL is specified as <code class="language-text">--url</code>.</li>
        </ul>
        <p>Your database may also require the <code class="language-text">--username</code> and <code class="language-text">--password</code> arguments in Liquibase. However, the username and password are not required for connections and systems which use alternate means of authentication.</p>
        <h2>Troubleshooting</h2>
        <p>If Liquibase returns an error when you run a utility command, use the <b>Liquibase&#160;<code class="language-text">--help</code> parameter</b> to check the correct syntax of the command and the command-specific parameters you can use with it.</p>
        <p><b>For example, in the CLI:</b>
        </p><pre><code class="language-shell">liquibase &lt;command&gt; --help</code></pre>
        <h2>Related Content</h2>
        <p>Visit the <MadCap:xref href="../../workflows/liquibase-community/using-jdbc-url-in-liquibase.htm">Using JDBC URL in [%=General.Liquibase%]</MadCap:xref>  documentation page to learn more about Liquibase database connection requirements.</p>
        <h2>Liquibase Resources</h2>
        <h3>Liquibase Help</h3>
        <p>Visit the Liquibase&#160;<a href="https://forum.liquibase.org/">Forum</a> channel to ask questions, find answers from other Liquibase users, and learn about new Liquibase version releases.</p>
        <h3>Tutorials</h3>
        <p>Visit the <MadCap:xref href="../../workflows/liquibase-community/using-rollback.htm">[%=General.Liquibase%] Rollback Workflow</MadCap:xref> documentation page to learn more about validating rollbacks and creating rollback statements. This includes the topic <MadCap:xref href="../../workflows/liquibase-community/automatic-custom-rollbacks.htm">Automatic and Custom Rollbacks</MadCap:xref>, which reviews how automatic rollbacks work and when custom rollback statements are needed.</p>
        <h3>Liquibase University</h3>
        <ul>
            <li><a href="https://learn.liquibase.com/catalog/info/id:152">Fundamentals of Liquibase</a>: this course includes, but is not limited to, an introduction to the <code class="language-text">rollback</code>, <code class="language-text">rollback-count</code>, and <code class="language-text">rollback-to-date</code> commands.</li>
            <li><a href="https://learn.liquibase.com/catalog/info/id:127">Liquibase Commands for Troubleshooting</a>: this course includes, but is not limited to, lessons on validating rollbacks, auto-generated versus custom rollbacks, and the <code class="language-text">future-rollback-sql</code> command.</li>
        </ul>
        <h3><a name="Blogs"></a>Blogs and Articles</h3>
        <ul>
            <li><a href="https://www.liquibase.com/blog/roll-back-database-fix-forward">Database Rollback or Fix Forward?</a>: read the blog about the common approaches to database issues and why a fix forward may be the right approach for you.</li>
            <li><a href="https://www.liquibase.com/blog/ways-fix-bad-database-change">5 Ways to Fix a Bad Database Change in Liquibase</a>: read this tips and tricks blog on handling a bad database change that includes rollback scripts and the fix forward approach.</li>
            <li><a href="https://www.liquibase.com/targeted-rollback">Introducing Targeted Rollback for One Change</a>: read the blog to learn more about this <MadCap:variable name="General.LBPro" /> command.</li>
            <li><a href="https://www.liquibase.com/blog/rollback-one-update">Introducing Targeted Rollback for One Update</a>: read the blog to learn more about this <MadCap:variable name="General.LBPro" /> command.</li>
        </ul>
    </body>
</html>