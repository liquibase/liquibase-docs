<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title><MadCap:variable name="Heading.Level1" /></title>
        <link rel="canonical" href="https://docs.liquibase.com/commands/flow/if-conditionals.html" />
        <meta name="description" content="Reference information and use cases for if conditionals in the Flow File." />
    </head>
    <body>
        <h1><code>if</code> conditionals<br /></h1>
        <MadCap:snippetText src="../../Z_Resources/Snippets/images/icon-pro-top.flsnp" />
        <p><code>if</code>&#160;conditionals allow you to set specific blocks of code to run or not run depending on your <MadCap:xref href="flow.htm">flow</MadCap:xref> file functionality needs.</p>
        <p>Read more: <MadCap:xref href="advanced-flow-file.htm">Advanced Flow File</MadCap:xref></p>
        <MadCap:snippetBlock src="../../Z_Resources/Snippets/note/command-flow-version.flsnp" />
        <h2><code>if</code>&#160;conditionals code format</h2>
        <p>If conditionals exist within their own block of code within a Stage in a Flow file. A few formatting rules to note are:</p>
        <ul>
            <li>The entire conditional must be encompassed by "quotes".</li>
            <li>Variables must begin with <code>$</code> and be encompassed by {curly braces}.</li>
        </ul>
        <p>For example:</p><pre><code class="language-text">if:&#160;"${LIQUIBASE_ACTIVE_TARGET} == dev"</code></pre>
        <p>Any defined variable can be used as a conditional, including environment variables and global variables.</p>
        <p>Read more: <MadCap:xref href="variables.htm">variables and include feature</MadCap:xref></p>
        <h2>Implement <code>if</code> conditionals</h2>
        <p>Values within <code>if</code> conditionals are called on in the format below. If the conditional value is set to <code>true</code>, it will run the command. If the conditional value is set to <code>false</code>, it will not run the command.</p>
        <MadCap:codeSnippet>
            <MadCap:codeSnippetCopyButton />
            <MadCap:codeSnippetBody MadCap:useLineNumbers="False" MadCap:lineNumberStart="1" MadCap:continue="False" xml:space="preserve" style="mc-code-lang: JavaScript;">-type:&#160;liquibase
	if:&#160;"${LIQUIBASE_ACTIVE_TARGET} == dev"
	command:&#160;checks run
	cmdArgs:&#160;{checks-scope: changelog}
	
-type:&#160;liquibase
	if:&#160;"${LIQUIBASE_ACTIVE_TARGET} != dev"
	command:&#160;updatesql
	</MadCap:codeSnippetBody>
        </MadCap:codeSnippet>
        <p>When <code>liquibase flow</code> runs,  messages will appear in the CLI after the flow file executes each section. Notice in the sample message below it says <code>Executing 'liquibase' checks run</code> because the environment variable above is set to true. You will also notice the message <code>Skipping action:&#160;'liquibase' updatesql because condition 'dev != dev' evaluated to false.'</code> This is the best location to find why <code>if</code>&#160;conditionals did or did not run successfully. If you expected a conditional to run successfully and it did not, you are better equipped to adjust the flow file accordingly.</p>
        <MadCap:codeSnippet>
            <MadCap:codeSnippetCopyButton />
            <MadCap:codeSnippetBody MadCap:useLineNumbers="False" MadCap:lineNumberStart="1" MadCap:continue="False" xml:space="preserve">***********************************************************************
*
* Executing 'liquibase' checks run
*
***********************************************************************

Executing Quiality Checks against example-changelog.sql

Executing all changelog checks because a valid license key was found!

Warning: No database checks were run. Make sure the checks-scope property includes "database" to run database checks. In the CLI set --checks-scope+'changelog.database" or set an environment variable.
LIQUIBASE_COMMAND_CHECKS_SCOPE=database. Learn more at https://docs.liquibase.com/quality-checks

INFO: Checks executed against SQL generated by H2 at jdbc:h2:tcp://localhost:9090/mem:dev.
Changesets Validated: in example-changelog.sql
	ID: 1; Author: your.name
	ID: 2; Author: your.name
	ID: 3; Author: other.dev
	
Checks run against each changeset:
	Changesets Must Have a Context Assigned (Short names: ChangesetCommentCheck)
	Changesets Must Have a Context Assigned (Short names: ChangesetContextCheck)
	Changesets Must Have a Label Assigned (Short names: ChangesetLabelCheck)
	Check Table Column Count (Short names: TableColumnLimit)
	Rollback Required for Changeset (Short names: RollbackRequired)
	Warn on Detection of 'GRANT' statements (short names: SQLGrantWarn)
	Warn on Detection of 'REVOKE' statements (short names: SQLRevokeWarn)
	Warn on Detection of grant that contains 'WITH ADMIN OPTION' (Short names: SqlGrantAdminWarn)
	Warn on Detection of grant that contains 'WITH GRANT OPTION' (Short names: SqlGrantOptionWarn)
	Warn when 'DROP COLUMN' detected (Short names: ChangeDropColumnWarn)
	Warn when 'DROP TABLE' detected (Short names: ChangeDropTableWarn)
	Warn when 'MODIFY &lt;column&gt;' detected (Short names: ModifyDataTypeWarn)
	Warn when 'TRUNCATE TABLE' detected (Short names: ChangeTruncateTableWarn)
	
Changelogs Checks Skipped Due to unsupported changeset type for this check:
	Require primary key when creating table (Short names: PrimaryKeyOnCreateTable) skipped for:
		1:your.name,
		2:your.name,
		3:other.dev,
		
Liquibase command 'checks run' was executed successfully.

***********************************************************************
*
* Skipping action: 'liquibase updatesql because condition 'dev != dev' evaluated to false.
*
***********************************************************************</MadCap:codeSnippetBody>
        </MadCap:codeSnippet>
    </body>
</html>