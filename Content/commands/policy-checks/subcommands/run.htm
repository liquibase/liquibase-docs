<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:searchable="False">
    <head><title><MadCap:variable name="Heading.Level1" /></title>
        <link rel="canonical" href="https://docs.liquibase.com/commands/policy-checks/subcommands/run.html" />
        <meta name="description" content="Reference information and use cases for the run command. The run subcommand executes checks using the checks settings file and the changelog file you specify." />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    </head>
    <body>
        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/images/icon-pro-top.flsnp" />
        <h1><code>run</code>
        </h1>
        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/note/liquibase-pro-feature.flsnp" />
        <p>The <code class="language-text">run</code> subcommand executes checks using the <a href="../../../liquibase-pro/policy-checks/workflows/checks-settings-file.htm">checks settings file</a> against a <MadCap:variable name="General.changelog" />, database, or both. Quality checks support XML, SQL, YAML, and JSON <MadCap:variable name="General.changelog" /> formats, and all the <MadCap:variable name="General.LBPro" />-certified databases.</p>
        <h2>Uses</h2>
        <p>The  <code class="language-text">checks run</code> executes enabled checks based on the <code class="language-text">--checks-scope</code> property. To specify the scope, set <code class="language-text">checks-scope</code> to <code class="language-text">changelog</code>, <code class="language-text">database</code>, or <code class="language-text">changelog,database</code> to run both scopes.</p>
        <p>The <code class="language-text">checks run</code> command by default executes the enabled <MadCap:variable name="General.changelog" /> checks against the specified <MadCap:variable name="General.changelog" /> using the checks settings files, which can have default and/or non-default locations. When you run a database-scoped check, <MadCap:variable name="General.Liquibase" /> takes a snapshot of your database to run the checks against.</p>
        <p>If your files are not stored in the <MadCap:variable name="General.Liquibase" /> working directory, specify the relative path to them. Check <MadCap:xref href="../../../concepts/changelogs/how-liquibase-finds-files.htm">How [%=General.Liquibase%] Finds Files: [%=General.Liquibase%] Search Path</MadCap:xref> for more details.</p>
        <p>In <MadCap:variable name="General.LBPro" /> 4.26.0 and later, you can use <code>checks run</code> to seamlessly generate a <MadCap:xref href="../../../liquibase-pro/observability/operation-reports-checks-report.htm">Checks Report</MadCap:xref> for your database.</p>
        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/note/checks-available.flsnp" />
        <p>In <MadCap:variable name="General.Liquibase" /> 4.29.0 and later, you can use <code>checks run</code> to run <MadCap:xref href="../../../liquibase-pro/policy-checks/custom-policy-checks/home.htm">Custom Policy Checks</MadCap:xref>.</p>
        <h2>Syntax</h2>
        <p>Run the command specifying your values:</p><pre xml:space="preserve"><code class="language-text">liquibase checks run --changelog-file=basicRule.postgres.sql</code></pre>
        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/note/checks-custom-checks-setting-file.flsnp" />
        <p>To execute checks that require a database connection, you must also include connection <MadCap:variable name="General.Param/Attribute" />s such as the database <code class="language-text">url</code>.</p>
        <h2>Parameters</h2>
        <div class="js-tabs">
            <ul class="js-tablist" data-existing-hx="h3">
                <li class="js-tablist__item"><a href="#cli" id="label_cli" class="js-tablist__link">CLI</a>
                </li>
                <li class="js-tablist__item"><a href="#flow" id="label_flow" class="js-tablist__link">Flow</a>
                </li>
                <li class="js-tablist__item"><a href="#properties_file" id="label_properties_file" class="js-tablist__link"><code>liquibase.properties</code></a>
                </li>
                <li class="js-tablist__item"><a href="#java_opts" id="label_java_opts" class="js-tablist__link"><code>JAVA_OPTS</code></a>
                </li>
                <li class="js-tablist__item"><a href="#envar" id="label_envar" class="js-tablist__link">Environment variable</a>
                </li>
            </ul>
            <div id="cli" class="js-tabcontent">
                <MadCap:snippetBlock src="../../../Z_Resources/Snippets/text/command-parameters-global-cmd/param-lists/command-checks-run.flsnp" MadCap:conditionTagExpression="include[command-parameters-format.cli]" />
            </div>
            <div id="flow" class="js-tabcontent">
                <MadCap:snippetBlock src="../../../Z_Resources/Snippets/text/command-parameters-global-cmd/param-lists/command-checks-run.flsnp" MadCap:conditionTagExpression="include[command-parameters-format.flow]" />
            </div>
            <div id="properties_file" class="js-tabcontent">
                <MadCap:snippetBlock src="../../../Z_Resources/Snippets/text/command-parameters-global-cmd/param-lists/command-checks-run.flsnp" MadCap:conditionTagExpression="include[command-parameters-format.properties-file]" MadCap:snippetVariables="parameters-global-command.command-case-camel:checks.run," />
            </div>
            <div id="java_opts" class="js-tabcontent">
                <MadCap:snippetBlock src="../../../Z_Resources/Snippets/text/command-parameters-global-cmd/param-lists/command-checks-run.flsnp" MadCap:conditionTagExpression="include[command-parameters-format.java-opts]" MadCap:snippetVariables="parameters-global-command.command-case-camel:checks.run," />
            </div>
            <div id="envar" class="js-tabcontent">
                <MadCap:snippetBlock src="../../../Z_Resources/Snippets/text/command-parameters-global-cmd/param-lists/command-checks-run.flsnp" MadCap:conditionTagExpression="include[command-parameters-format.envar]" MadCap:snippetVariables="parameters-global-command.command-case-envar:CHECKS_RUN," />
            </div>
        </div>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot><code>run</code> example output</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody><pre xml:space="preserve"><code class="language-text">Liquibase Version: 4.28.0
Liquibase Pro 4.28.0 by Liquibase licensed to Liquibase_QA until Tue Dec 02 01:59:59 UYT 2025
Executing Policy Checks against changelog.xml

WARNING: Additional checks have been added to 'liquibase.checks-settings.conf' and are disabled. To auto-enable new checks on upgrades, set '--auto-enable-new-checks=true'. Learn more at https://docs.liquibase.com/policy-checks
Executing all changelog checks because a valid license key was found!

WARNING: No database checks were run. Make sure the checks-scope property includes "database" to run database checks. In the CLI set --checks-scope="changelog,database" or set an environment variable LIQUIBASE_COMMAND_CHECKS_SCOPE=database. Learn more at https://docs.liquibase.com/policy-checks

INFO: No database specified. Checks executed against H2 generated SQL, which may not contain certain objects.
Checks-settings File:      liquibase.checks-settings.conf
=====================================================================================
CHANGELOG CHECKS
----------------
Checks completed validation of the changelog and found the following issues:

Check Name:         Table must have a comment (TableCommentCheck)
Changeset ID:       1
Changeset Filepath: changelog.xml
Check Severity:     MINOR (Return code: 1)
Message:            Table 'person' found without comment. Liquibase recommends tables have a comment to prevent siloed knowledge and to
                    ensure table's purpose is easily understood by others. (Note: This is not a check for a Liquibase
                    changelog comment.)

Check Name:         Require Changeset ID is valid UUID (RequireChangesetIDisUUID)
Changeset ID:       1
Changeset Filepath: changelog.xml
Check Severity:     MINOR (Return code: 1)
Message:            The changeset ID "1" does not follow the required 8-4-4-4-12 pattern UUID or GUID pattern. Please review and update the
                    changeset ID.

Check Name:         Table must have a comment (TableCommentCheck)
Changeset ID:       2
Changeset Filepath: changelog.xml
Check Severity:     MINOR (Return code: 1)
Message:            Table 'company' found without comment. Liquibase recommends tables have a comment to prevent siloed knowledge and to
                    ensure table's purpose is easily understood by others. (Note: This is not a check for a Liquibase
                    changelog comment.)

Check Name:         Require Changeset ID is valid UUID (RequireChangesetIDisUUID)
Changeset ID:       2
Changeset Filepath: changelog.xml
Check Severity:     MINOR (Return code: 1)
Message:            The changeset ID "2" does not follow the required 8-4-4-4-12 pattern UUID or GUID pattern. Please review and update the
                    changeset ID.

Check Name:         Require Changeset ID is valid UUID (RequireChangesetIDisUUID)
Changeset ID:       3
Changeset Filepath: changelog.xml
Check Severity:     MINOR (Return code: 1)
Message:            The changeset ID "3" does not follow the required 8-4-4-4-12 pattern UUID or GUID pattern. Please review and update the
                    changeset ID.

Changesets Validated: in changelog.xml
  ID: 1; Author: your.name
  ID: 2; Author: your.name
  ID: 3; Author: other.dev

Checks run against each changeset:
  Changesets Must Have a Comment Assigned (Short names: ChangesetCommentCheck)
  Changesets Must Have a Context Assigned (Short names: ChangesetContextCheck)
  Changesets Must Have a Label Assigned (Short names: ChangesetLabelCheck)
  Check Affected Rows Count on Delete (Short names: MaxAffectedRowsAllowedDelete)
  Check Affected Rows Count on Insert (Short names: MaxAffectedRowsAllowedInsert)
  Check Affected Rows Count on Update (Short names: MaxAffectedRowsAllowedUpdate)
  Check Changeset runInTransaction value (Short names: CheckRunInTransactionValue)
  Check Table Column Count (Short names: TableColumnLimit)
  One Change Per Changeset (Short names: OneChangePerChangeset)
  Require Changeset ID is valid UUID (Short names: RequireChangesetIDisUUID)
  Require primary key when creating table (Short names: PrimaryKeyOnCreateTable)
  Rollback Required for Changeset (Short names: RollbackRequired)
  Table must have a comment (Short names: TableCommentCheck)
  Warn on Detection of 'SELECT *' (Short names: SqlSelectStarWarn)
  Warn on Detection of 'USE DATABASE' statements (Short names: WarnOnUseDatabase)
  Warn on Use of User Defined ChangeTypes (Short names: DetectChangeType)
  Warn when 'DROP COLUMN' detected (Short names: ChangeDropColumnWarn)
  Warn when 'DROP TABLE' detected (Short names: ChangeDropTableWarn)
  Warn when 'MODIFY &lt;column&gt;' detected (Short names: ModifyDataTypeWarn)

Changelog Checks Skipped Due to unsupported changeset type for this check:
  Warn on Detection of 'GRANT' Statements (Short names: SqlGrantWarn) skipped for:
    1:your.name,
    2:your.name,
    3:other.dev
  Warn on Detection of 'REVOKE' Statements (Short names: SqlRevokeWarn) skipped for:
    1:your.name,
    2:your.name,
    3:other.dev
  Warn on Detection of grant that contains 'WITH ADMIN OPTION' (Short names: SqlGrantAdminWarn) skipped for:
    1:your.name,
    2:your.name,
    3:other.dev
  Warn on Detection of grant that contains 'WITH GRANT OPTION' (Short names: SqlGrantOptionWarn) skipped for:
    1:your.name,
    2:your.name,
    3:other.dev
  Warn when 'TRUNCATE TABLE' detected (Short names: ChangeTruncateTableWarn) skipped for:
    1:your.name,
    2:your.name,
    3:other.dev

INFO: Customize this output with the 'checks-output' property. See list of options with 'liquibase checks run --help' or https://docs.liquibase.com/policy-checks
INFO: The return code of all SQL Parser failures can be customized by setting the --sql-parser-fail-severity/LIQUIBASE_COMMAND_CHECKS_RUN_SQL_PARSER_FAIL_SEVERITY property, including setting it to '0' to prevent job interruptions. Learn more at https://docs.liquibase.com/policy-checks
ERROR: Exception Details
ERROR: Exception Primary Class:  CommandFailedException
ERROR: Exception Primary Reason:  Checks run command exited with error code of 1
ERROR: Exception Primary Source:  4.28.0
Checks run command exited with error code of 1</code></pre>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <h2>Related links</h2>
        <ul>
            <li>
                <MadCap:xref href="../../../liquibase-pro/policy-checks/home.htm">Policy Checks</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="../../../liquibase-pro/policy-checks/workflows/home.htm">Get Started with the checks Command</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="../../../liquibase-pro/policy-checks/checks/home.htm">List of Policy Checks</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="../../../tools-integrations/maven/commands/maven-checks-run.htm">Maven checks.run</MadCap:xref>
            </li>
        </ul>
    </body>
</html>