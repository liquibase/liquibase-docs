<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title><MadCap:variable name="Heading.Level1" /></title>
        <link rel="canonical" href="https://docs.liquibase.com/commands/quality-checks/subcommands/run.html" />
        <meta name="description" content="Reference information and use cases for the run command. The run subcommand executes checks using the checks settings file and the changelog file you specify." />
    </head>
    <body>
        <h1><code>run</code>
        </h1>
        <MadCap:snippetText src="../../../Z_Resources/Snippets/images/icon-pro-top.flsnp" />
        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/note/command-pro.flsnp" />
        <p>The <code>run</code> subcommand executes checks using the <a href="../workflows/use-checks-settings-config-file.htm">checks settings file</a> against a <MadCap:variable name="General.changelog" />, database, or both. Quality checks support XML, SQL, YAML, and JSON <MadCap:variable name="General.changelog" /> formats, and all the <MadCap:variable name="General.LBPro" />-certified databases.</p>
        <h2>Uses</h2>
        <p>The  <code>checks run</code> executes enabled checks based on the <code>--checks-scope</code> property. To specify the scope, set <code>checks-scope</code> to <code>changelog</code>, <code>database</code>, or <code>changelog,database</code> to run both scopes.</p>
        <p>The <code>checks run</code> command by default executes the enabled <MadCap:variable name="General.changelog" /> checks against the specified <MadCap:variable name="General.changelog" /> using the checks settings files, which can have default and/or non-default locations. When you run a database-scoped check, <MadCap:variable name="General.Liquibase" /> takes a snapshot of your database to run the checks against.</p>
        <p>If your files are not stored in the <MadCap:variable name="General.Liquibase" /> working directory, specify the relative path to them. Check <MadCap:xref href="../../../concepts/changelogs/how-liquibase-finds-files.htm">How [%=General.Liquibase%] Finds Files: [%=General.Liquibase%] Search Path</MadCap:xref> for more details.</p>
        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/note/checks-available.flsnp" />
        <h2>Syntax</h2>
        <p>Run the command specifying your values:</p><pre xml:space="preserve"><code class="language-text">liquibase checks run --changelog-file=basicRule.postgres.sql</code></pre>
        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/note/checks-custom-checks-setting-file.flsnp" />
        <p>To execute checks that require a database connection, you must also include connection <MadCap:variable name="General.Param/Attribute" />s such as the database <code>url</code>.</p>
        <h2>Command arguments</h2>
        <p>The following table identifies parameters that are accepted or required by the <code>run</code> subcommand. If the Default column states "Required," it is required to run the command successfully. If it states "Null," it is an optional command argument. Each command argument helps you narrow down the <code>liquibase checks run</code> command to ensure that only very specific content is affected by the command.</p>
        <p class="tip" MadCap:autonum="&lt;b&gt;Tip: &lt;/b&gt;">For best results, specify all commands and parameters in the <code>--kebab-case</code> format in the CLI. If your preference is camelCase, it also works in the CLI.<br /></p>
        <table>
            <col />
            <col />
            <col />
            <col />
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Default</th>
                    <th>Syntax</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>auto-update</code>(String)</td>
                    <td>Null</td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/cli/quality-checks/cli-checks-attribute-syntax.flsnp" MadCap:snippetVariables="quality-checks-attributes.cli:auto-update=[on|off],;quality-checks-attributes.envar-attribute:AUTO_UPDATE=[ON|OFF],;quality-checks-attributes.envar-subcommand:RUN,;quality-checks-attributes.property:autoUpdate: [on|off],;quality-checks-attributes.subcommand:run," />
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/cli/quality-checks/cli-checks-auto-update-description.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>cacheChangelogFileContents</code> (Boolean)</td>
                    <td>true</td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/cli/quality-checks/cli-checks-attribute-syntax.flsnp" MadCap:snippetVariables="quality-checks-attributes.cli:cache-changelog-file-contents=[true|false],;quality-checks-attributes.envar-attribute:CACHE_CHANGELOG_FILE_CONTENTS=[TRUE|FALSE],;quality-checks-attributes.envar-subcommand:RUN,;quality-checks-attributes.property:cacheChangelogFileContents: [true|false],;quality-checks-attributes.subcommand:run," />
                    </td>
                    <td>If true, sqlFile change type contents will be cached in memory to improve performance, at the cost of higher memory usage. To reduce memory usage, set this to false.</td>
                </tr>
                <tr>
                    <td><code>changelog-file</code> (String)</td>
                    <td>Null</td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/cli/quality-checks/cli-checks-attribute-syntax.flsnp" MadCap:snippetVariables="quality-checks-attributes.cli:changelog-file,;quality-checks-attributes.envar-attribute:CHANGELOG_FILE,;quality-checks-attributes.property:changelogFile,;quality-checks-attributes.envar-subcommand:RUN,;quality-checks-attributes.subcommand:run," />
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/cli/quality-checks/cli-checks-changelog-file.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>check-name</code> (String)</td>
                    <td>Null</td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/cli/quality-checks/cli-checks-attribute-syntax.flsnp" MadCap:snippetVariables="quality-checks-attributes.cli:check-name,;quality-checks-attributes.envar-attribute:CHECK_NAME,;quality-checks-attributes.property:checkName,;quality-checks-attributes.envar-subcommand:RUN,;quality-checks-attributes.subcommand:run," />
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/cli/quality-checks/cli-checks-check-name.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>checkRollbacks </code>(Boolean)</td>
                    <td>false</td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/cli/quality-checks/cli-checks-attribute-syntax.flsnp" MadCap:snippetVariables="quality-checks-attributes.cli:check-rollbacks=[true|false],;quality-checks-attributes.envar-attribute:CHECK_ROLLBACKS=[TRUE|FALSE],;quality-checks-attributes.property:checkRollbacks: [true|false],;quality-checks-attributes.envar-subcommand:RUN,;quality-checks-attributes.subcommand:run," />
                    </td>
                    <td>Allow changeset's rollback code to be analyzed for compliance with currently enabled quality checks.</td>
                </tr>
                <tr>
                    <td>
                        <MadCap:xref href="../command-arguments/checks-scope.htm">checks-scope</MadCap:xref> (String)</td>
                    <td>Null</td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/cli/quality-checks/cli-checks-attribute-syntax.flsnp" MadCap:snippetVariables="quality-checks-attributes.cli:checks-scope,;quality-checks-attributes.envar-attribute:CHECKS_SCOPE,;quality-checks-attributes.property:checksScope,;quality-checks-attributes.envar-subcommand:RUN,;quality-checks-attributes.subcommand:run," />
                    </td>
                    <td>The Liquibase component to run checks against, which can be a comma separated list<br /><br /><b>Dual-scoped:</b>&#160;Can run against changelogs and databases separately or simultaneously.</td>
                </tr>
                <tr>
                    <td><code>checks-settings-file</code> (String)</td>
                    <td>Null</td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/cli/quality-checks/cli-checks-attribute-syntax.flsnp" MadCap:snippetVariables="quality-checks-attributes.cli:checks-settings-file,;quality-checks-attributes.envar-attribute:CHECKS_SETTINGS_FILE,;quality-checks-attributes.property:checksSettingsFile,;quality-checks-attributes.envar-subcommand:RUN,;quality-checks-attributes.subcommand:run," />
                    </td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/cli/quality-checks/cli-checks-checks-setting-file-description.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>format</code> (String)</td>
                    <td>TXT</td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/cli/quality-checks/cli-checks-attribute-syntax.flsnp" MadCap:snippetVariables="quality-checks-attributes.cli:format=[text|json],;quality-checks-attributes.envar-attribute:FORMAT=[TEXT|JSON],;quality-checks-attributes.property:format: [text|json],;quality-checks-attributes.envar-subcommand:RUN,;quality-checks-attributes.subcommand:run," />
                    </td>
                    <td>
                        <p>Only Available in <MadCap:variable name="General.LBPro" /></p>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/cli/quality-checks/cli-checks-format-description.flsnp" />
                    </td>
                </tr>
                <tr>
                    <td><code>labels </code> (String)</td>
                    <td>null</td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/cli/quality-checks/cli-checks-attribute-syntax.flsnp" MadCap:snippetVariables="quality-checks-attributes.cli:labels,;quality-checks-attributes.envar-attribute:LABELS,;quality-checks-attributes.property:labels,;quality-checks-attributes.envar-subcommand:RUN,;quality-checks-attributes.subcommand:run," />
                    </td>
                    <td>Changeset labels to match</td>
                </tr>
                <tr>
                    <td><code>schemas</code> (String)</td>
                    <td>Null</td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/cli/quality-checks/cli-checks-attribute-syntax.flsnp" MadCap:snippetVariables="quality-checks-attributes.cli:schemas,;quality-checks-attributes.property:schemas,;quality-checks-attributes.envar-attribute:SCHEMAS,;quality-checks-attributes.envar-subcommand:RUN,;quality-checks-attributes.subcommand:run," />
                    </td>
                    <td>
                        <p>The schemas to check when <code>checks-scope</code> contains <code>database</code></p>
                    </td>
                </tr>
                <tr>
                    <td><code>verbose </code>(Boolean)</td>
                    <td>Fales</td>
                    <td>
                        <MadCap:snippetBlock src="../../../Z_Resources/Snippets/def/attributes/cli/quality-checks/cli-checks-attribute-syntax.flsnp" MadCap:snippetVariables="quality-checks-attributes.cli:verbose=[true|false],;quality-checks-attributes.envar-attribute:VERBOSE=[TRUE|FALSE],;quality-checks-attributes.envar-subcommand:RUN,;quality-checks-attributes.property:verbose: [true|false],;quality-checks-attributes.subcommand:run," />
                    </td>
                    <td>Verbose flag with optional values of 'True' or 'False'. The default is 'False'.</td>
                </tr>
            </tbody>
        </table>
        <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">The <code>--snapshot-format</code> <MadCap:variable name="General.Param/Attribute" /> is not supported by <code>checks run</code>.</p>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot><code>run</code> example output</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody><pre xml:space="preserve"><code class="language-text">Starting Liquibase at 13:53:58 (version 4.9.1 #1978 built at 2022-03-28 19:39+0000)
Liquibase Version: 4.9.1
Executing Quality Checks against example-changelog.sql

Executing all checks because a valid Liquibase Pro license was found!


Changesets Validated:
ID: 1; Author: Amber.Williams; File path: example-changelog.sql
ID: 2; Author: Amber.Williams; File path: example-changelog.sql
ID: 3; Author: other.dev; File path: example-changelog.sql

Checks run against each changeset:
Warn on Detection of 'GRANT' Statements
Warn on Detection of 'REVOKE' Statements
Warn when 'DROP TABLE' detected
Warn when 'DROP COLUMN' detected
Warn when 'MODIFY column' detected
Check Table Column Count (Short Name: 1234)
Check Table Column Count
Warn when 'TRUNCATE TABLE' detected
Warn on Detection of grant that contains 'WITH GRANT OPTION'
Warn on Detection of grant that contains 'WITH ADMIN OPTION'
Rollback Required for Changeset
Changesets Must Have a Label Assigned
Changesets Must Have a Context Assigned
Changesets Must Have a Comment Assigned

Liquibase command 'checks run' was executed successfully.</code></pre>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <h2>Related links</h2>
        <ul>
            <li>
                <MadCap:xref href="../home.htm">Quality Checks</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="../workflows/home.htm">Getting Started with the checks Command</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="../checks/home.htm">Configuring Quality Checks</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="../home.htm">Quality Checks Commands</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="../../../tools-integrations/maven/commands/maven-checks-run.htm">Maven checks.run</MadCap:xref>
            </li>
        </ul>
    </body>
</html>