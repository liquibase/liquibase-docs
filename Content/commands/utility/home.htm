<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:searchable="False">
    <head><title><MadCap:variable name="Heading.Level1" /></title>
        <link rel="canonical" href="https://docs.liquibase.com/commands/utility/home.html" />
        <meta name="description" content="List and description of utility commands. The purpose of the utility commands is to allow users to perform a variety of administrative tasks for Liquibase changelogs, changesets, checksums, table locks, and database schema documents." />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    </head>
    <body>
        <img src="../../Z_Resources/Images/Icons/command-icons/command-icon-utility.png" alt="Simplified icon of a shipping box with code syntax printed on the near side" />
        <h1>Utility Commands</h1>
        <p>The purpose of the utility commands is to allow users to perform a variety of administrative tasks for Liquibase&#160;changelogs, changesets, checksums, table locks, and database schema documents.</p>
        <h2>Utility Category</h2>
        <p>These commands are available in <b>all</b>&#160;Liquibase editions and are listed by functional subcategories.</p>
        <h3>Schema Javadoc Utility Command</h3>
        <ul>
            <li><code><MadCap:xref href="db-doc.html">db-doc</MadCap:xref></code>: use this to generate <b>database</b> documentation that lists all actions performed against the existing database.</li>
        </ul>
        <h3>Changelog Utility Commands</h3>
        <ul>
            <li><code><MadCap:xref href="tag.html">tag</MadCap:xref></code>: use this to mark the current database state, version, or release for future rollback.</li>
            <li><code><MadCap:xref href="tag-exists.html">tag-exists</MadCap:xref></code>: use this to check if a tag already exists in the database.</li>
            <li><code><MadCap:xref href="validate.htm">validate</MadCap:xref></code>: use this to check and identify errors in a changelog that may cause the update command to fail.</li>
        </ul>
        <h3>Checksum Utility Commands</h3>
        <ul>
            <li><code><MadCap:xref href="calculate-checksum.html">calculate-checksum</MadCap:xref></code>: use this to calculate and print a <a href="../../concepts/changelogs/changeset-checksums.htm">checksum</a> for a changeset to see if a changeset has been changed.</li>
            <li><code><MadCap:xref href="clear-checksums.htm">clear-checksums</MadCap:xref></code>: use this to <b>clear all checksums</b> typically when there is a MD5Sum error message and the checksums need to be cleared from the <MadCap:xref href="../../concepts/tracking-tables/databasechangelog-table.html">[%=General.databasechangelog%] table</MadCap:xref>.</li>
        </ul>
        <h3>Liquibase Lock Utility Commands</h3>
        <ul>
            <li><code><MadCap:xref href="list-locks.htm">list-locks</MadCap:xref></code>: use this to return the hostname, IP address, and the timestamp when the Liquibase lock record was added to the <MadCap:variable name="General.databasechangelog" /> table.</li>
            <li><code><MadCap:xref href="release-locks.htm">release-locks</MadCap:xref></code>: use this to remove a lock record from the <MadCap:variable name="General.databasechangelog" /> table due to an interruption with the change deployment.</li>
        </ul>
        <h3>Changelog Sync Utility Commands</h3>
        <ul>
            <li><code><MadCap:xref href="changelog-sync.htm">changelog-sync</MadCap:xref></code>: use this to mark <b>all undeployed</b> changes in the changelog as executed.</li>
            <li><code><MadCap:xref href="changelog-sync-sql.htm">changelog-sync-sql</MadCap:xref></code>: run this <b>before the <code>changelog-sync</code> command</b> to inspect the raw SQL for potential issues.</li>
            <li><code><MadCap:xref href="changelog-sync-to-tag.htm">changelog-sync-to-tag</MadCap:xref></code>: use this to mark <b>all undeployed</b> changes in the changelog up to a specified tag.</li>
            <li><code><MadCap:xref href="changelog-sync-to-tag-sql.htm">changelog-sync-to-tag-sql</MadCap:xref></code>: run this <b>before the <code>changelog-sync-to tag</code> command</b> to inspect the raw SQL for potential issues.</li>
            <li><code><MadCap:xref href="mark-next-changeset-ran.html">mark-next-changeset-ran</MadCap:xref></code>: use this to mark the next change as <b>executed</b> in the database.</li>
            <li><code><MadCap:xref href="mark-next-changeset-ran-sql.html">mark-next-changeset-ran-sql</MadCap:xref></code>: run this <b>before the <code>mark-next-changeset-ran</code> command</b> to inspect the raw SQL for potential issues.</li>
        </ul>
        <p>Since <b>changelog sync utility commands</b> change the schema of a database, Liquibase provides SQL output commands that you can run beforehand. The SQL output commands let you inspect the SQL that Liquibase will generate when you run the changelog sync utility commands.</p>
        <h3>Direct Database Commands</h3>
        <ul>
            <li><code><MadCap:xref href="drop-all.htm">drop-all</MadCap:xref></code>: use this to drop all objects in your database</li>
            <li><code><MadCap:xref href="execute-sql.htm">execute-sql</MadCap:xref></code>: use this to run a SQL&#160;query or file on your database</li>
        </ul>
        <h2>Additional Commands for <MadCap:variable name="General.LBPro" /></h2>
        <p>These commands require an <b>active</b>&#160;<a href="https://www.liquibase.com/pricing/pro"><MadCap:variable name="General.LBPro" /> license</a>:</p>
        <ul>
            <li><code><MadCap:xref href="set-contexts.htm">set-contexts</MadCap:xref></code>: use this to set or replace contexts on a changeset using the CLI.</li>
            <li><code><MadCap:xref href="set-labels.htm">set-labels</MadCap:xref></code>: use this to set or replace labels on a changeset using the CLI.</li>
        </ul>
        <p>Each <b>individual utility command page</b> specifies the criteria for using the command successfully, including a list of required and optional command-specific arguments.</p>
        <h2>Utility Command Requirements</h2>
        <p>With the <b>exception</b> of the <code>set-contexts</code> and <code>set-labels</code>&#160;<MadCap:variable name="General.LBPro" /> commands, the utility commands require the following <b>command argument</b>:</p>
        <ul>
            <li>The JDBC database connection URL is specified as <code>--url</code>.</li>
        </ul>
        <p>The <code>db-doc</code>, <code>validate</code>, <code>calculate-checksum</code>, <code>set-contexts</code>, <code>set-labels</code>, and the changelog sync utility commands also require the following <b>command argument</b>:</p>
        <ul>
            <li>The root changelog file is specified as <code>--changelog-file</code>.</li>
        </ul>
        <p>Your database may also require the <code>--username</code> and <code>--password</code> arguments in Liquibase. However, the username and password are not required for connections and systems which use alternate means of authentication.</p>
        <h2>Troubleshooting</h2>
        <p>If Liquibase returns an error when you run a utility command, use the <b>Liquibase&#160;<code>--help</code> parameter</b> to check the correct syntax of the command and the command-specific parameters you can use with it.</p>
        <p><b>For example, in the CLI:</b>
        </p><pre><code class="language-shell">liquibase &lt;command&gt; --help</code></pre>
        <h2>Related Content</h2>
        <p>Visit the <MadCap:xref href="../../workflows/liquibase-community/using-jdbc-url-in-liquibase.htm">Using JDBC URL in [%=General.Liquibase%]</MadCap:xref>  documentation page to learn more about Liquibase database connection requirements.</p>
        <h2>Liquibase Resources</h2>
        <h3>Liquibase Help</h3>
        <p>Visit the Liquibase&#160;<a href="https://forum.liquibase.org/">Forum</a> channel to ask questions, find answers from other Liquibase users, and learn about new Liquibase version releases.</p>
        <h3>Tutorials</h3>
        <p>Visit the <MadCap:xref href="../../workflows/liquibase-community/existing-project.html">How to set up [%=General.Liquibase%] with an Existing Project and Multiple Environments</MadCap:xref> documentation page to see how the <code>changelog-sync</code> command is used to mark changesets as already run in an existing database.</p>
        <h3>Liquibase University</h3>
        <p><a href="https://learn.liquibase.com/catalog/info/id:127">Liquibase Commands for Troubleshooting</a>: this course includes, but not limited to, lessons on using the <code>tag</code>, <code>db-doc</code>, <code>clear-checksums</code>, and <code>mark-next-changeset-ran</code> commands.</p>
        <h3>Blogs and Articles</h3>
        <p><a href="https://www.liquibase.com/blog/preparing-database-automation-liquibase">Preparing for Database Automation with Liquibase</a>: read this CI/CD &amp; DevOps blog on how using the <code>validate</code> and <code>tag</code> commands can help teams adopt good CI/CD patterns in their use of Liquibase.</p>
    </body>
</html>