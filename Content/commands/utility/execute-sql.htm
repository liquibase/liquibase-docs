<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:searchable="False">
    <head><title><MadCap:variable name="Heading.Level1" /></title>
        <link rel="canonical" href="https://docs.liquibase.com/commands/utility/execute-sql.html" />
        <meta name="description" content="Reference information and use cases for the execute-sql command. The execute-sql command executes a SQL string or file." />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    </head>
    <body>
        <h1><code>execute-sql</code>
        </h1>
        <p>The <code>execute-sql</code> command executes a SQL string or file.</p>
        <h2>Uses</h2>
        <p>Use the <code>execute-sql</code> command to directly run SQL queries without changing and applying <MadCap:variable name="General.changelog" /> files with <MadCap:variable name="General.changeset" />s. An example of using the <code>execute-sql</code> command is to check the database data or make unplanned changes when you run Liquibase in automation.</p>
        <p>Compared with other database query tools, the <code>execute-sql</code> command runs with the credentials and configuration you already have in Liquibase without any need to set up another tool. If statements run correctly in your database CLI but fail in Liquibase, running exploratory statements through <code>execute-sql</code> might help you find differences in permission configurations, connection setup, and SQL run in the database CLI or database-native SQL.</p>
        <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">The command does not affect the <MadCap:variable name="General.databasechangelog" /> table because the table is associated with <MadCap:variable name="General.changeset" />s and tracks which <MadCap:variable name="General.changeset" />s have been run. Liquibase recommends handling your changes with <code>execute-sql</code> only on rare occasions to not lose their traceability.</p>
        <h2>Syntax</h2>
        <p>To run the <code>execute-sql</code> command, specify the following parameters in the Liquibase properties file, environment variables, or the command prompt while running the command:</p>
        <ul>
            <li><a href="https://docs.liquibase.com/workflows/liquibase-community/using-jdbc-url-in-liquibase.html">URL</a>, <a href="https://docs.liquibase.com/workflows/liquibase-community/adding-and-updating-liquibase-drivers.html">driver</a> [optional], and user authentication information such as username and password.
            </li>
            <li><code>sql</code> or <code>sql-file</code> parameter.</li>
        </ul>
        <MadCap:snippetBlock src="../../Z_Resources/Snippets/note/command-parameter-store.flsnp" />
        <p>Run the <code>execute-sql</code> command with the SQL string:</p><pre><code class="language-text">liquibase execute-sql --sql="SELECT * FROM databasechangelog"</code></pre>
        <p>Run the <code>execute-sql</code> command with the SQL file:</p><pre><code class="language-text">liquibase execute-sql --sql-file=path/to/file.sql</code></pre>
        <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">You can also specify <code>--delimiter=/</code>. The default value for delimiter is <code>;</code>, which will work as long as you do not have stored logic.</p>
        <h2>Parameters</h2>
        <div class="js-tabs">
            <ul class="js-tablist" data-existing-hx="h3">
                <li class="js-tablist__item"><a href="#cli" id="label_cli" class="js-tablist__link">CLI</a>
                </li>
                <li class="js-tablist__item"><a href="#flow" id="label_flow" class="js-tablist__link">Flow</a>
                </li>
                <li class="js-tablist__item"><a href="#properties_file" id="label_properties_file" class="js-tablist__link"><code>liquibase.properties</code></a>
                </li>
                <li class="js-tablist__item"><a href="#java_opts" id="label_java_opts" class="js-tablist__link"><code>JAVA_OPTS</code></a>
                </li>
                <li class="js-tablist__item"><a href="#envar" id="label_envar" class="js-tablist__link">Environment variable</a>
                </li>
            </ul>
            <div id="cli" class="js-tabcontent">
                <MadCap:snippetBlock src="../../Z_Resources/Snippets/text/command-parameters-global-cmd/param-lists/command-execute-sql.flsnp" MadCap:conditionTagExpression="include[command-parameters-format.cli]" />
            </div>
            <div id="flow" class="js-tabcontent">
                <MadCap:snippetBlock src="../../Z_Resources/Snippets/text/command-parameters-global-cmd/param-lists/command-execute-sql.flsnp" MadCap:conditionTagExpression="include[command-parameters-format.flow]" />
            </div>
            <div id="properties_file" class="js-tabcontent">
                <MadCap:snippetBlock src="../../Z_Resources/Snippets/text/command-parameters-global-cmd/param-lists/command-execute-sql.flsnp" MadCap:conditionTagExpression="include[command-parameters-format.properties-file]" MadCap:snippetVariables="parameters-global-command.command-case-camel:executeSql," />
            </div>
            <div id="java_opts" class="js-tabcontent">
                <MadCap:snippetBlock src="../../Z_Resources/Snippets/text/command-parameters-global-cmd/param-lists/command-execute-sql.flsnp" MadCap:conditionTagExpression="include[command-parameters-format.java-opts]" MadCap:snippetVariables="parameters-global-command.command-case-camel:executeSql," />
            </div>
            <div id="envar" class="js-tabcontent">
                <MadCap:snippetBlock src="../../Z_Resources/Snippets/text/command-parameters-global-cmd/param-lists/command-execute-sql.flsnp" MadCap:conditionTagExpression="include[command-parameters-format.envar]" MadCap:snippetVariables="parameters-global-command.command-case-envar:EXECUTE_SQL," />
            </div>
        </div>
        <MadCap:snippetBlock src="../../Z_Resources/Snippets/note/command-username-password.flsnp" />
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot>Output</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody><pre><code class="language-text">Liquibase Version: 4.9.1
Output of select * from databasechangelog:
AUTHOR | COMMENTS | CONTEXTS | DATEEXECUTED | DEPLOYMENT_ID | DESCRIPTION | EXECTYPE | FILENAME | ID | LABELS | LIQUIBASE | MD5SUM | ORDEREXECUTED | TAG |
liquibase |  | null | 2022-05-13 12:02:12.125792 | 2464932010 | empty | EXECUTED | liquibase-internal | 1652464932094 | null | 4.9.1 | 8:d41d8cd98f00b204e9800998ecf8427e | 1 | version1 |
other.dev | example comment | example-context | 2022-05-13 12:17:30.818119 | 2465850648 | sql | EXECUTED | example-changelog.sql | 3 | example-label | 4.9.1 | 8:98b5f38170a3749834d15d3361fc6d9b | 4 | version1 |
Liquibase command 'execute-sql' was executed successfully.</code></pre>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <h2>Related links</h2>
        <ul>
            <li>
                <MadCap:xref href="../../change-types/enddelimiter-sql.htm">endDelimiter SQL [%=General.Param/Attribute%]</MadCap:xref>
            </li>
        </ul>
    </body>
</html>