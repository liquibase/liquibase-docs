<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:searchable="False">
    <head><title><MadCap:variable name="Heading.Level1" /></title>
        <link rel="canonical" href="https://docs.liquibase.com/parameters/preserve-classpath-prefix-in-normalized-paths.html" />
        <meta name="description" content="Reference information and use cases for the preserve-classpath-prefix-in-normalized-paths parameter. The preserve-classpath-prefix-in-normalized-paths global parameter is a Boolean value that forces Liquibase to preserve the prefix 'classpath:' while it normalizes the resource path you have specified in --classpath." />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    </head>
    <body>
        <h1><code>preserve-classpath-prefix-in-normalized-paths</code>
        </h1>
        <p>The <code>--preserve-classpath-prefix-in-normalized-paths</code> global parameter is a Boolean value. It forces Liquibase to preserve the prefix <code>classpath:</code> while it normalizes the resource path you have specified in <code>--classpath</code>. <b>It is available in Liquibase 4.30.0 and later.</b></p>
        <p>The default value of <code>--preserve-classpath-prefix-in-normalized-paths</code> is <code>false</code>.</p>
        <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">This parameter only affects resources you specify in the Liquibase parameter <code>--classpath</code>. It does not affect any resources you specify in <code>--<MadCap:xref href="search-path.htm">search-path</MadCap:xref></code>.</p>
        <h2>Uses</h2>
        <p>Liquibase uses the Java Virtual Machine (JVM) to resolve resource paths like your classpath, which is a list of file paths where changelogs, configuration files, and JAR files (bundles of Java classes) are stored. The JVM uses the classpath to search for, load into memory, and link each of those resources to prepare them for use in Liquibase.</p>
        <p>Liquibase lets you set the classpath using the global parameter <code>--classpath</code>. Liquibase normalizes the classpath value you specify by converting it to a consistent format. By default, if your classpath contains the prefix <code>classpath:</code>, Liquibase removes the prefix. Then Liquibase sends the normalized classpath to the <code>ResourceAccessor</code>.</p>
        <p>However, you may be trying to implement a custom <code>ResourceAccessor</code> that needs to accept an abstract URL as the Liquibase classpath. For example, you may want to specify a root resource path containing a nested (hierarchical) classpath as the value of <code>--classpath</code> instead of a relative or absolute path directly connected to the file system. If Liquibase strips the <code>classpath:</code> protocol, your custom class cannot access the correct sub-resource locations.</p>
        <p><b>If you want to preserve the <code>classpath:</code> prefix in your Liquibase resource path</b>, set <code>--preserve-classpath-prefix-in-normalized-paths</code> to <code>true</code>. This way, Liquibase path normalization does not strip <code>classpath:</code> from the resource path it sends to the <code>ResourceAccessor</code>.</p>
        <MadCap:snippetBlock src="../Z_Resources/Snippets/text/parameter-syntax.flsnp" MadCap:snippetVariables="parameters-global-command.case-camel:preserveClasspathPrefixInNormalizedPaths,;parameters-global-command.case-envar:PRESERVE_CLASSPATH_PREFIX_IN_NORMALIZED_PATHS,;parameters-global-command.case-kebab:preserve-classpath-prefix-in-normalized-paths,;parameters-global-command.valueType:&lt;true|false&gt;,;parameters-global-command.value-type:&lt;true|false&gt;,;parameters-global-command.command-name:update," />
        <h2>Related links</h2>
        <ul>
            <li>
                <MadCap:xref href="../concepts/changelogs/how-liquibase-finds-files.htm">How [%=General.Liquibase%] Finds Files: [%=General.Liquibase%] Search Path</MadCap:xref>
            </li>
        </ul>
    </body>
</html>